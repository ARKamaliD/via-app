{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/components/Home.css","webpack:///./app/components/inputs/color.css","webpack:///./app/components/menus/keycode-menu.css","webpack:///./app/components/title-bar.css","webpack:///./app/images sync ^\\.\\/_.*\\.gif$","webpack:///./app/images/_0.gif","webpack:///./app/images/_1.gif","webpack:///./app/images/_10.gif","webpack:///./app/images/_2.gif","webpack:///./app/images/_3.gif","webpack:///./app/images/_4.gif","webpack:///./app/images/_5.gif","webpack:///./app/images/_6.gif","webpack:///./app/images/_7.gif","webpack:///./app/images/_8.gif","webpack:///./app/images/_9.gif","webpack:///./app/images/chippy.png","webpack:///./node_modules/connected-react-router/esm/actions.js","webpack:///./node_modules/connected-react-router/esm/selectors.js","webpack:///./node_modules/connected-react-router/esm/ConnectedRouter.js","webpack:///./node_modules/connected-react-router/esm/reducer.js","webpack:///./node_modules/connected-react-router/esm/structure/plain/index.js","webpack:///./node_modules/connected-react-router/esm/structure/plain/getIn.js","webpack:///./node_modules/connected-react-router/esm/index.js","webpack:///./app/components/chippy-loader.tsx","webpack:///./app/components/loading-text.tsx","webpack:///./app/components/panes/pane.tsx","webpack:///./app/utils/device-store.ts","webpack:///./app/utils/kle-parser.ts","webpack:///./app/utils/layout-parser.ts","webpack:///./app/keyboards/aeboards/index.ts","webpack:///./app/keyboards/aeboards/aegis/config.ts","webpack:///./app/keyboards/aeboards/ext65/config.ts","webpack:///./app/keyboards/ai03/index.ts","webpack:///./app/keyboards/ai03/equinox/config.ts","webpack:///./app/keyboards/cannonkeys/an_c/config.ts","webpack:///./app/keyboards/cannonkeys/an_c/index.ts","webpack:///./app/keyboards/cannonkeys/chimera65/config.ts","webpack:///./app/keyboards/cannonkeys/chimera65/index.ts","webpack:///./app/keyboards/cannonkeys/instant60/config.ts","webpack:///./app/keyboards/cannonkeys/instant60/index.ts","webpack:///./app/keyboards/cannonkeys/satisfaction75/api.ts","webpack:///./app/keyboards/cannonkeys/satisfaction75/encoder-mode-toggle.tsx","webpack:///./app/utils/advanced-keys.ts","webpack:///./app/utils/key.ts","webpack:///./app/components/inputs/keycode-text-input.tsx","webpack:///./app/keyboards/cannonkeys/satisfaction75/encoder-custom-config.tsx","webpack:///./app/keyboards/cannonkeys/satisfaction75/menu.tsx","webpack:///./app/keyboards/index.ts","webpack:///./app/keyboards/cannonkeys/index.ts","webpack:///./app/keyboards/cannonkeys/satisfaction75/config.ts","webpack:///./app/keyboards/keebio/index.ts","webpack:///./app/keyboards/keebio/iris/config.ts","webpack:///./app/keyboards/noxary/index.ts","webpack:///./app/keyboards/noxary/268_2/config.ts","webpack:///./app/keyboards/other/index.ts","webpack:///./app/keyboards/other/plain60/config.ts","webpack:///./app/keyboards/other/snagpad/config.ts","webpack:///./app/keyboards/other/aanzee/config.ts","webpack:///./app/keyboards/other/g60/config.ts","webpack:///./app/keyboards/other/idb60/config.ts","webpack:///./app/keyboards/other/lunar/config.ts","webpack:///./app/keyboards/other/prime_e/config.ts","webpack:///./app/keyboards/other/e6.5/config.ts","webpack:///./app/keyboards/other/leaf60/config.ts","webpack:///./app/keyboards/other/romac/config.ts","webpack:///./app/keyboards/other/is0/config.ts","webpack:///./app/keyboards/other/osa/config.ts","webpack:///./app/keyboards/wilba_tech/index.ts","webpack:///./app/keyboards/wilba_tech/rama_works_koyu/config.ts","webpack:///./app/keyboards/wilba_tech/rama_works_m6_a/config.ts","webpack:///./app/keyboards/wilba_tech/rama_works_m6_b/config.ts","webpack:///./app/keyboards/wilba_tech/rama_works_m10_b/config.ts","webpack:///./app/keyboards/wilba_tech/rama_works_m60_a/config.ts","webpack:///./app/keyboards/wilba_tech/rama_works_u80_a/config.ts","webpack:///./app/keyboards/wilba_tech/wt8_a/config.ts","webpack:///./app/keyboards/wilba_tech/wt60_a/config.ts","webpack:///./app/keyboards/wilba_tech/wt60_d/config.ts","webpack:///./app/keyboards/wilba_tech/wt65_a/config.ts","webpack:///./app/keyboards/wilba_tech/wt65_b/config.ts","webpack:///./app/keyboards/wilba_tech/wt69_a/config.ts","webpack:///./app/keyboards/wilba_tech/wt75_a/config.ts","webpack:///./app/keyboards/wilba_tech/wt75_b/config.ts","webpack:///./app/keyboards/wilba_tech/wt75_c/config.ts","webpack:///./app/keyboards/wilba_tech/wt80_a/config.ts","webpack:///./app/keyboards/wilba_tech/zeal60/config.ts","webpack:///./app/keyboards/wilba_tech/zeal65/config.ts","webpack:///./app/keyboards/yiancardesigns/index.ts","webpack:///./app/keyboards/yiancardesigns/nk65/config.ts","webpack:///./app/keyboards/yiancardesigns/hs60/ansi/config.ts","webpack:///./app/keyboards/yiancardesigns/hs60/iso/config.ts","webpack:///./app/keyboards/yiancardesigns/hs60/hhkb/config.ts","webpack:///./app/utils/device-meta.ts","webpack:///./app/utils/command-logger.ts","webpack:///./app/utils/keyboard-api.ts","webpack:///./app/utils/macro-api.ts","webpack:///./app/redux/modules/macros.ts","webpack:///./app/utils/hid-keyboards.ts","webpack:///./app/utils/bit-pack.ts","webpack:///./app/redux/modules/keymap.ts","webpack:///./app/components/positioned-keyboard.tsx","webpack:///./app/components/icons/get-icon-color.ts","webpack:///./app/components/panes/grid.tsx","webpack:///./app/components/inputs/button.tsx","webpack:///./app/components/inputs/accent-button.tsx","webpack:///./app/components/inputs/text-input.tsx","webpack:///./app/components/inputs/custom-keycode-modal.tsx","webpack:///./app/components/icons/keyboard.tsx","webpack:///./app/components/styled.ts","webpack:///./app/components/panes/configure-panes/keycode.tsx","webpack:///./app/components/icons/lightbulb.tsx","webpack:///./app/utils/color-math.ts","webpack:///./app/components/inputs/color-picker.tsx","webpack:///./app/components/inputs/accent-slider.tsx","webpack:///./app/components/inputs/accent-select.tsx","webpack:///./app/components/inputs/accent-range.tsx","webpack:///./app/components/panes/configure-panes/submenus/lighting/lighting-control.tsx","webpack:///./app/components/panes/configure-panes/submenus/lighting/general.tsx","webpack:///./app/components/panes/configure-panes/submenus/lighting/layout.tsx","webpack:///./app/components/panes/configure-panes/submenus/lighting/advanced.tsx","webpack:///./app/components/panes/configure-panes/lighting.tsx","webpack:///./app/components/icons/adjust.tsx","webpack:///./app/components/panes/configure-panes/submenus/macros/macro-detail.tsx","webpack:///./app/components/panes/configure-panes/macros.tsx","webpack:///./app/components/inputs/accent-upload-button.tsx","webpack:///./app/components/icons/save.tsx","webpack:///./app/components/panes/configure-panes/save-load.tsx","webpack:///./app/components/icons/layouts.tsx","webpack:///./app/components/panes/configure-panes/layouts.tsx","webpack:///./app/components/panes/configure-panes/custom/satisfaction75/api.ts","webpack:///./app/components/panes/configure-panes/custom/satisfaction75/encoder-mode-toggle.tsx","webpack:///./app/components/panes/configure-panes/custom/satisfaction75/encoder-custom-config.tsx","webpack:///./app/components/panes/configure-panes/custom/satisfaction75/menu.tsx","webpack:///./app/components/panes/configure-panes/custom/icon.tsx","webpack:///./app/components/panes/configure-panes/custom/satisfaction75/index.ts","webpack:///./app/components/panes/configure-panes/custom/custom-control.tsx","webpack:///./app/components/panes/configure-panes/custom/menu-generator.tsx","webpack:///./app/components/panes/configure-panes/layer-control.tsx","webpack:///./app/components/icons/left-arrow.tsx","webpack:///./app/components/icons/right-arrow.tsx","webpack:///./app/components/panes/configure-panes/badge.tsx","webpack:///./app/components/panes/configure.tsx","webpack:///./app/components/inputs/musical-key-slider.tsx","webpack:///./app/components/inputs/pelpi/keycode-input.tsx","webpack:///./app/components/Layouts.tsx","webpack:///./app/components/panes/debug.tsx","webpack:///./app/components/panes/design.tsx","webpack:///./app/redux/modules/settings.ts","webpack:///./app/components/panes/settings.tsx","webpack:///./app/components/test-keyboard.tsx","webpack:///./app/components/panes/test.tsx","webpack:///./app/utils/pane-config.ts","webpack:///./app/components/menus/global.tsx","webpack:///./app/components/title-bar.tsx","webpack:///./app/components/Home.tsx","webpack:///./app/containers/HomePage.tsx","webpack:///./app/Routes.tsx","webpack:///./app/containers/Root.tsx","webpack:///./node_modules/connected-react-router/esm/middleware.js","webpack:///./app/redux/index.ts","webpack:///./app/redux/configureStore.dev.ts","webpack:///./app/redux/configureStore.prod.ts","webpack:///./app/redux/configureStore.ts","webpack:///./app/index.tsx","webpack:///./app/soundfont/acoustic_grand_piano-mp3.sfjs","webpack:///./app/soundfont/bright_acoustic_piano-mp3.sfjs","webpack:///./app/soundfont/church_organ-mp3.sfjs","webpack:///./app/utils/key-to-byte.json5","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/redux-logger/dist/redux-logger.js","webpack:///./node_modules/via-reader/dist/types.js","webpack:///external \"@webscopeio/react-textarea-autocomplete\"","webpack:///external \"electron\"","webpack:///external \"electron-log\"","webpack:///external \"electron-store\"","webpack:///external \"fs\"","webpack:///external \"history\"","webpack:///external \"json-stringify-pretty-compact\"","webpack:///external \"lodash.partition\"","webpack:///external \"node-hid\"","webpack:///external \"os\"","webpack:///external \"path\"","webpack:///external \"pelpi\"","webpack:///external \"rc-slider\"","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///external \"react-redux\"","webpack:///external \"react-resize-observer-hook\"","webpack:///external \"react-router\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-select\"","webpack:///external \"react-tooltip\"","webpack:///external \"redux\"","webpack:///external \"redux-thunk\"","webpack:///external \"reselect\"","webpack:///external \"soundfont-player\"","webpack:///external \"styled-components\"","webpack:///external \"typesafe-actions\"","webpack:///external \"usb-detection\"","webpack:///external \"via-reader\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","LOCATION_CHANGE","updateLocation","method","_len","arguments","length","args","Array","_key","type","payload","_typeof","obj","iterator","constructor","structure","getIn","toJS","getRouter","state","router","getLocation","getAction","getSearch","getHash","createMatchSelector","path","lastPathname","lastMatch","pathname","match","url","_extends","assign","target","source","apply","this","_defineProperties","props","descriptor","configurable","writable","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_slicedToArray","arr","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_objectSpread","ownKeys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_defineProperty","injectQuery","location","searchQuery","search","query","substring","split","reduce","acc","currentQuery","_currentQuery$split2","fromJS","merge","history","initialRouterState","action","_ref","isFirstRendering","result","ConnectedRouter","_PureComponent","_this","instance","Constructor","_classCallCheck","store","onLocationChanged","inTimeTravelling","unsubscribe","subscribe","_getLocation","getState","pathnameInStore","searchInStore","hashInStore","hash","_history$location","pathnameInHistory","searchInHistory","hashInHistory","handleLocationChange","unlisten","listen","protoProps","staticProps","subClass","superClass","_inherits","_this$props","children","createElement","propTypes","shape","func","isRequired","string","basename","oneOfType","node","ConnectedRouterWithContext","Context","context","Consumer","dispatch","plain","connectRouter","defaultChippy","width","height","src","LoaderContainer","div","CircleContainer","containerHeight","containerWidth","containerPadding","progress","ChippyLoader","style","top","left","marginTop","marginLeft","position","zIndex","LoadingText","LoadingLabel","isSearching","Searching","Loading","Pane","CenterPane","ElectronStore","devicesURL","URL","deviceStore","defaults","remoteData","generatedAt","definitions","theme","settings","allowKeyboardKeyRemapping","showDesignTab","disableFastRemap","disableHardwareAcceleration","lastJSON","getDevicesFromStore","parseKLE","kle","row","JSON","parse","replace","parseKLERaw","parsedKLE","prev","parsedRow","size","marginX","marginY","res","colorCount","w","y","x","colorCountKey","label","prevFormatting","colorCountKeys","sort","a","b","console","error","colorMap","LS","START","DEFINE","LAYOUT1D_START","LAYOUT1D_END","LAYOUT2D_START","LAYOUT2D_ROW_START","LAYOUT2D_COL_START","LAYOUT2D_COL_CONTINUE","LAYOUT2D_COL_END","LAYOUT2D_ROW_END","LAYOUT2D_END","tokenizer","tnext","trim","parenIdx","indexOf","slice","layout1D","layout2D","commaIdx","keycode","bracketIdx","lastRow","nextToken","parseLayout","layout","tokens","rows","cols","indexMap","val","j","col","matrixLayout","lights","overrideMatrixIndexing","vendorProductId","KB_VALUES","getEncoderModes","api","bytes","enabledModes","hidCommand","setEncoderModes","newEncoderModes","getDefaultOLED","defaultMode","setDefaultOLED","newDefaultMode","getOLEDMode","setOLEDMode","getCustomEncoderConfig","encoderIdx","raw","cw1","cw2","ccw1","ccw2","press1","press2","setCustomEncoderConfig","behavior","MODES","ENC_MODE_VOLUME","ENC_MODE_MEDIA","ENC_MODE_SCROLL","ENC_MODE_BRIGHTNESS","ENC_MODE_BACKLIGHT","ENC_MODE_CUSTOM0","ENC_MODE_CUSTOM1","ENC_MODE_CUSTOM2","MODE_LABELS","CenteredColumnDiv","ColumnDiv","handleInputChange","event","onChange","checked","flagBit","isChecked","modeIdx","entries","htmlFor","quantumRanges","QK_MODS","QK_RMODS_MIN","QK_MODS_MAX","QK_FUNCTION","QK_FUNCTION_MAX","QK_MACRO","QK_MACRO_MAX","QK_LAYER_TAP","QK_LAYER_TAP_MAX","QK_TO","QK_TO_MAX","QK_MOMENTARY","QK_MOMENTARY_MAX","QK_DEF_LAYER","QK_DEF_LAYER_MAX","QK_TOGGLE_LAYER","QK_TOGGLE_LAYER_MAX","QK_ONE_SHOT_LAYER","QK_ONE_SHOT_LAYER_MAX","QK_ONE_SHOT_MOD","QK_ONE_SHOT_MOD_MAX","QK_TAP_DANCE","QK_TAP_DANCE_MAX","QK_LAYER_TAP_TOGGLE","QK_LAYER_TAP_TOGGLE_MAX","QK_LAYER_MOD","QK_LAYER_MOD_MAX","QK_MOD_TAP","QK_MOD_TAP_MAX","modCodes","modMasks","MOD_LCTL","MOD_LSFT","MOD_LALT","MOD_LGUI","MOD_RCTL","MOD_RSFT","MOD_RALT","MOD_RGUI","MOD_HYPR","MOD_MEH","topLevelMacroToValue","DF","MO","LM","LT","OSL","TG","TO","TT","MT","OSM","modifierKeyToValue","LCTL","C","LSFT","S","LALT","A","LGUI","G","LCMD","LWIN","RCTL","RSFT","RALT","ALGR","RGUI","RCMD","RWIN","SGUI","SCMD","SWIN","LCA","LCAG","MEH","HYPR","modifierValuetoKey","topLevelValueToMacro","valueToRange","advancedStringToKeycode","inputString","parts","toUpperCase","part","includes","parseTopLevelMacro","parseModifierCode","advancedKeycodeToString","inputKeycode","lastValue","lastRange","rangeName","topLevelModToString","humanReadable","remainder","layer","modValue","byteToKey","modValueToString","modMask","excluded","join","modNumber","enabledMods","current","Number","parseInt","repeat","inputParts","topLevelKey","parameter","param1","param2","mods","NaN","ON_PRESS","parseMods","basicKeyToByte","input","realParts","nonce","idx","find","byte","anyKeycodeToString","currentValue","advancedParsed","getByteForCode","isLayerCode","numLayer","QK_MO","QK_TG","QK_TT","QK_DF","QK_OSL","getByteForLayerCode","test","keycodesList","getKeycodes","keycodes","log","basicKeycode","getCodeForByte","some","isLayerKey","getCodeForLayerByte","toString","keycodeInMaster","getShortNameForKeycode","shortName","shortenedName","word","shortCode","buildLayerMenu","menu","title","flatMap","newTitle","newCode","newName","detailed","NormalInput","ErrorInput","super","handleChange","setState","handleBlur","onBlur","lastDefault","isError","RegExp","defaultValue","defaultValueAsString","currentParsed","InputComponent","placeholder","className","RowDiv","LabelText","span","KeyInput","newValue","behaviorIdx","behaviors","cw","ccw","press","MenuContainer","SectionContainer","OLEDSelectContainer","CustomEncoderContainer","OLED_OPTIONS","fetchDataAndSet","promises","defaultOLEDMode","currOLEDMode","encoder0","encoder1","encoder2","Promise","all","encoderBehaviors","onEncoderModeChange","currentModes","onEncoderCustomConfigChange","newBehaviors","onOLEDDefaultChange","newDefaultOLEDMode","currentMode","onOLEDChange","newOLEDMode","options","menuPlacement","customMenus","component","DEVICE_META_MAP","accum","deviceMeta","COMPILED_DEVICE_META_MAP","k","v","compiledLayout","compiledMatrixLayout","getKeyboardFromDevice","device","productId","vendorId","getKeyboardId","entryLog","logCommand","kbAddr","request","response","ts","Date","now","getLog","window","__getLogs","addEventListener","data","command","postMessage","HID","VALID_PROTOCOL_VERSIONS","COMMAND_START","GET_PROTOCOL_VERSION","DYNAMIC_KEYMAP_GET_KEYCODE","DYNAMIC_KEYMAP_SET_KEYCODE","CUSTOM_MENU_SET_VALUE","CUSTOM_MENU_GET_VALUE","CUSTOM_MENU_SAVE","EEPROM_RESET","BOOTLOADER_JUMP","DYNAMIC_KEYMAP_MACRO_GET_COUNT","DYNAMIC_KEYMAP_MACRO_GET_BUFFER_SIZE","DYNAMIC_KEYMAP_MACRO_GET_BUFFER","DYNAMIC_KEYMAP_MACRO_SET_BUFFER","DYNAMIC_KEYMAP_MACRO_RESET","DYNAMIC_KEYMAP_GET_LAYER_COUNT","DYNAMIC_KEYMAP_GET_BUFFER","DYNAMIC_KEYMAP_SET_BUFFER","BACKLIGHT_CONFIG_SET_VALUE","BACKLIGHT_CONFIG_GET_VALUE","BACKLIGHT_CONFIG_SAVE","KeyboardValue","BACKLIGHT_BRIGHTNESS","BACKLIGHT_EFFECT","BACKLIGHT_COLOR_1","BACKLIGHT_COLOR_2","BACKLIGHT_CUSTOM_COLOR","PROTOCOL_ALPHA","PROTOCOL_BETA","BACKLIGHT_PROTOCOL_NONE","BACKLIGHT_PROTOCOL_WILBA","cache","eqArr","arr1","arr2","every","shiftTo16Bit","hi","lo","shiftFrom16Bit","shiftBufferTo16Bit","buffer","shiftedBuffer","shiftBufferFrom16Bit","globalCommandQueue","canConnect","hid","getMatrixLayoutFromDevice","getDevice","rej","getHID","read","getProtocolVersion","version","count","matrix","fastReadRawMatrix","slowReadRawMatrix","offset","bufferList","Math","ceil","fill","promiseRes","remaining","getKeymapBuffer","MAX_KEYCODES_PARTIAL","_","getKey","matrixInfo","keymap","fastWriteRawMatrix","slowWriteRawMatrix","layerIdx","keyIdx","setKey","shiftedData","resultLength","rest","commandBytes","brightness","colorNumber","hue","sat","effect","channel","column","macroBufferSize","getMacroBufferSize","lastOffset","lastOffsetBytes","resetMacros","bufferSize","isFlushing","commandQueue","time","commandQueueWrapper","setTimeout","flushQueue","shift","_hidCommand","paddedArray","write","ex","refresh","getByteBuffer","bufferCommandBytes","info","KeyAction","MacroTerminator","validateExpression","expression","isValid","errorMessage","keycodeBlockRegex","groups","exec","csv","invalidKeycodes","isMacroKeycode","macroKeycodes","getByte","getMacroApi","keyboardApi","getMacroBytes","macroCount","getMacroCount","macroId","expressions","currentExpression","currentChord","Tap","Down","Up","char","String","fromCharCode","validationResult","keyActionEnd","substr","reverse","charCodeAt","setMacroBytes","KC_NO","KC_A","KC_B","KC_C","KC_D","KC_E","KC_F","KC_G","KC_H","KC_I","KC_J","KC_K","KC_L","KC_M","KC_N","KC_O","KC_P","KC_Q","KC_R","KC_S","KC_T","KC_U","KC_V","KC_W","KC_X","KC_Y","KC_Z","KC_1","KC_2","KC_3","KC_4","KC_5","KC_6","KC_7","KC_8","KC_9","KC_0","KC_ENT","KC_ESC","KC_BSPC","KC_TAB","KC_SPC","KC_MINS","KC_EQL","KC_LBRC","KC_RBRC","KC_BSLS","KC_NUHS","KC_SCLN","KC_QUOT","KC_GRV","KC_COMM","KC_DOT","KC_SLSH","KC_CAPS","KC_F1","KC_F2","KC_F3","KC_F4","KC_F5","KC_F6","KC_F7","KC_F8","KC_F9","KC_F10","KC_F11","KC_F12","KC_PSCR","KC_SLCK","KC_PAUS","KC_INS","KC_HOME","KC_PGUP","KC_DEL","KC_END","KC_PGDN","KC_RGHT","KC_LEFT","KC_DOWN","KC_UP","KC_NLCK","KC_PSLS","KC_KP_ASTERISK","KC_PAST","KC_PPLS","KC_PENT","KC_P1","KC_P2","KC_P3","KC_P4","KC_P5","KC_P6","KC_P7","KC_P8","KC_P9","KC_P0","KC_PDOT","KC_NUBS","KC_APP","KC_POWER","KC_PEQL","KC_F13","KC_F14","KC_F15","KC_F16","KC_F17","KC_F18","KC_F19","KC_F20","KC_F21","KC_F22","KC_F23","KC_F24","KC_EXECUTE","KC_HELP","KC_MENU","KC_SELECT","KC_STOP","KC_AGAIN","KC_UNDO","KC_CUT","KC_COPY","KC_PASTE","KC_FIND","KC_LCAP","KC_LNUM","KC_LSCR","KC_PCMM","KC_KP_EQUAL_AS400","KC_RO","KC_KANA","KC_JYEN","KC_HENK","KC_MHEN","KC_INT6","KC_INT7","KC_INT8","KC_INT9","KC_HAEN","KC_HANJ","KC_LANG3","KC_LANG4","KC_LANG5","KC_LANG6","KC_LANG7","KC_LANG8","KC_LANG9","KC_SYSREQ","KC_CANCEL","KC_CLEAR","KC_PRIOR","KC_OUT","KC_OPER","KC_CLEAR_AGAIN","KC_CRSEL","KC_EXSEL","KC_LCTL","KC_LSFT","KC_LALT","KC_LGUI","KC_RCTL","KC_RSFT","KC_RALT","KC_RGUI","KC_PWR","KC_SLEP","KC_WAKE","KC_MUTE","KC_VOLU","KC_VOLD","KC_MNXT","KC_MPRV","KC_MSTP","KC_MPLY","KC_MSEL","KC_EJCT","KC_MAIL","KC_CALC","KC_MYCM","KC_WWW_SEARCH","KC_WWW_HOME","KC_WWW_BACK","KC_WWW_FORWARD","KC_WWW_STOP","KC_WWW_REFRESH","KC_WWW_FAVORITES","KC_MFFD","KC_MRWD","actions","loadMacrosSuccess","saveMacrosSuccess","setMacrosNotSupported","loadMacros","macroApi","macros","readMacroExpressions","saveMacros","writeMacroExpressions","macrosReducer","isFeatureSupported","handleAction","IS_OSX","platform","getVendorProductId","getDevicesUsingDefinitions","devices","validVendorProduct","definitionExists","validInterface","usage","usagePage","isValidUsage","interface","isValidInterfaceNonOSX","isValidInterface","numIntoBytes","num32","num","bytesIntoNum","bytesArr","minBitSize","findIndex","toggleKeyRemappingViaKeyboard","allowGlobalHotKeys","disableGlobalHotKeys","clearSelectedKey","updateSelectedKey","updateDefinitions","loadDefinition","setNumberOfLayers","loadLayerSuccess","offsetKeyboard","saveKeymapSuccess","setLayer","incrementLayer","decrementLayer","validateDevices","selectDevice","updateSelectedCustomMenuData","updateSelectedLightingData","updateLayoutOptions","updateLighting","updateCustomMenuData","updateConnectedDevices","loadKeymapFromDevice","getLoadProgress","numberOfLayers","getLayerCount","loadKeymapLayer","layerIndex","devicePath","getDefinitions","readRawMatrix","updateLayoutOption","index","optionsNums","getSelectedDefinition","layouts","labels","layoutLabel","getSelectedAPI","getSelectedLayoutOptions","nums","choice","numChoices","packBits","option","setKeyboardValue","LAYOUT_OPTIONS","warn","reloadConnectedDevices","selectedPath","getSelectedDevicePath","protocolVersions","connectedDevices","protocol","validDevicesArr","firstConnectedDevice","selectConnectedDevice","getConnectedDevices","selectedDevicePath","currIdx","newDevice","loadLayoutOptions","getSelectedProtocol","updateLightingData","updateCustomMenuValue","menuData","getSelectedCustomMenuData","commands","getCustomCommands","setCustomMenuValue","commitCustomMenu","selectedLightingData","getSelectedLightingData","lightingData","setBacklightValue","saveLighting","oldLightingData","customColors","setCustomColor","commandParamLengths","QMK_RGBLIGHT_COLOR","BACKLIGHT_CAPS_LOCK_INDICATOR_COLOR","BACKLIGHT_CAPS_LOCK_INDICATOR_ROW_COL","BACKLIGHT_LAYER_1_INDICATOR_COLOR","BACKLIGHT_LAYER_2_INDICATOR_COLOR","BACKLIGHT_LAYER_3_INDICATOR_COLOR","BACKLIGHT_LAYER_1_INDICATOR_ROW_COL","BACKLIGHT_LAYER_2_INDICATOR_ROW_COL","BACKLIGHT_LAYER_3_INDICATOR_ROW_COL","BACKLIGHT_EFFECT_SPEED","BACKLIGHT_USE_7U_SPACEBAR","BACKLIGHT_USE_ISO_ENTER","BACKLIGHT_USE_SPLIT_BACKSPACE","BACKLIGHT_USE_SPLIT_LEFT_SHIFT","BACKLIGHT_USE_SPLIT_RIGHT_SHIFT","BACKLIGHT_DISABLE_AFTER_TIMEOUT","BACKLIGHT_DISABLE_HHKB_BLOCKER_LEDS","BACKLIGHT_DISABLE_WHEN_USB_SUSPENDED","extractCommands","menuOrControls","content","commandPromises","channelId","promise","getCustomMenuValue","commandPromisesRes","ref","lighting","supportedLightingValues","effects","max","getCustomColor","getBacklightValue","keyIndex","getSelectedKeyDefinitions","selectedLayerIndex","writeRawMatrix","layers","isLoaded","loadDefinitions","fetch","href","json","set","syncStore","getKeyboardValue","choiceBits","bits","unpackBits","getSelectedPropsFromDevice","selectedDevice","selectedVendorProductId","keymapReducer","allowKeyRemappingViaKeyboard","rawDeviceMap","customDefinitions","selectedKey","lightingMap","layoutOptionsMap","customMenuDataMap","newLayerIndex","getSelectedRawLayer","rawDeviceLayers","getSelectedRawLayers","definition","newRawLayers","newDeviceLayers","initDeviceLayers","validatedDevices","getBaseDefinitions","getCustomDefinitions","getSelectedKey","getNumberOfLayers","getSelectedVendorProductId","getSelectedLayerIndex","getSelectedConnectedDevice","getSelectedDevice","getCustomMenus","compileMenu","partial","depth","_id","getSelectedOptionKeys","layoutOptions","optionKeys","getSelectedKeymaps","rawKeymaps","layerCount","deviceLayers","getSelectedKeymap","selectedLayer","CSSVarObject","keyWidth","keyXSpacing","keyHeight","keyYSpacing","keyXPos","keyYPos","KeyboardFrame","selectable","containerDimensions","ratio","min","BlankKeyboardFrame","KeyContainer","selected","RotationContainer","rx","ry","BGKeyContainer","SmallInnerKey","backgroundColor","InnerKey","SmallInnerCenterKeyContainer","InnerKeyContainer","OuterSecondaryKey","OuterKey","Legend","color","getDarkenedColor","cleanedColor","g","hr","round","hg","hb","padStart","getLegends","chooseInnerKey","topLabel","centerLabel","chooseInnerKeyContainer","noop","KeyBG","x2","y2","w2","h","h2","hasSecondKey","getBGKeyContainerPosition","Key","macroExpression","bottomLabel","onClick","isSmall","ChosenInnerKeyContainer","ChosenInnerKey","legends","tooltipData","getTooltipData","getKeyContainerPosition","evt","stopPropagation","transform","getLabel","keycodeByte","selectedDefinition","USER00","USER15","isUserKeycodeByte","customKeycodes","userKeycodeIdx","getUserKeycodeIndex","getLabelForByte","isMacro","isAlpha","numbersTop","isNumericOrShiftedSymbol","isNumericSymbol","getColors","AnchorContainer","BlankPositionedKeyboard","BlankPositionedKeyboardComponent","calculatePointPosition","rRadian","PI","cosR","cos","sinR","sin","originX","originY","xPos","yPos","sortByX","aPoint","bPoint","sortByYX","getTraversalOrder","car","cdr","chain","abs","withinChain","getNextKey","currIndex","currKey","sortedKeys","sortedIndex","matrixKeycodes","selectedOptionKeys","showMatrix","pressedKeys","displayedKeys","optionKey","Matrix","rowKeys","sumKeys","colKeys","generateRowColArray","SVG","RowLine","points","point","ColLine","svg","polyline","ConnectedPositionedKeyboard","getIconColor","isSelected","Grid1Col","Grid","Cell","MenuCell","OverflowCell","SubmenuCell","SubmenuOverflowCell","FlexCell","IconContainer","ControlRow","IndentedControlRow","Label","SubLabel","Detail","Row","SubmenuRow","Button","AccentButtonElem","disabled","AccentButton","TextInput","ModalBackground","ModalContainer","PromptText","h4","inputIsBasicByte","inputIsAdvancedKeyCode","keyCode","inputIsHex","lowercased","toLowerCase","isHex","keycodeFromInput","basicByteFromInput","advancedKeyCodeFromInput","hexFromInput","KeycodeModal","inputRef","setIsValid","defaultInput","inputIsValid","onConfirm","onExit","Message","ErrorMessage","SuccessMessage","styles","KeycodeList","Keycode","CustomKeycode","KeycodeContainer","KeycodeDesc","Link","KeycodeCategories","otherKeycodes","getOtherMenu","maybeFilter","maybe","doABarrelRoll","prevState","barrelRoll","saveMacro","macro","selectedKeyboard","oldMacro","renderKeyInputModal","textKeyValue","showKeyTextInputModal","updateKey","selectedCategory","mouseOverDesc","QMK","WT","enabledMenus","handleClick","onMouseOver","onMouseOut","innerKeycode","keycodeListItems","renderKeycode","renderMacroError","renderCustomKeycode","toLocaleString","minimumIntegerDigits","useGrouping","selectedCategoryKeycodes","renderCategories","renderSelectedCategory","Icon","Title","getRGBPrime","ColorThumbnail","Container","PickerContainer","ColorPreview","onMouseMove","mouseDown","offsetX","offsetY","nativeEvent","lensTransform","getLinearHueSat","setColor","onMouseDown","classList","add","onMouseUp","remove","onThumbnailClick","showPicker","pickerContainer","colorThumbnail","onDocumentClick","contains","document","removeEventListener","getBoundingClientRect","refWidth","refHeight","nX","nY","atan","calcRadialHue","sqrt","calcRadialMagnitude","getRGB","outer","inner","lens","ArrayColorPicker","HiddenInput","Switch","Slider","AccentSlider","isHiddenChecked","setIsHiddenChecked","customStyles","provided","background","isFocused","container","lineHeight","flex","opacity","singleValue","dropdownIndicator","indicatorSeparator","menuList","borderColor","valueContainer","control","boxShadow","overflow","selectProps","AccentSelect","AccentRange","railStyle","trackStyle","handleStyle","LightingControl","meta","labelContent","updateBacklightValue","getOptions","BacklightControls","UnderglowControls","QMK_RGBLIGHT_BRIGHTNESS","QMK_RGBLIGHT_EFFECT","underglowEffects","QMK_RGBLIGHT_EFFECT_SPEED","GeneralPane","updateCustomColor","lightingDefinition","colorsNeededArr","underglowColorsNeededArr","currentEffect","currentUnderglowEffect","colorsNeeded","underglowColorNeeded","showCustomColors","LayoutConfigValues","BooleanControls","AdvancedLightingValues","AccentText","RGBControls","Category","General","Menu","Layout","controls","Advanced","LightingPane","category","hasLayouts","hasAdvanced","SelectedMenu","menus","ToastErrorMessage","KeycodeLabel","DescriptionLabel","Item","AutocompleteItem","entity","AutocompleteLoading","findKeycodes","token","uToken","getMacroKeycodes","AutoHeightRow","TextArea","textarea","MacroDetailPane","currentMacro","selectedMacro","textareaInitialValue","trimRight","setCurrentValue","appendEnter","setAppendEnter","endsWith","setErrorMessage","hasError","loadingComponent","fontSize","resize","containerStyle","border","itemStyle","dropdownStyle","listStyle","maxHeight","minChar","textAreaComponent","movePopupAsYouType","trigger","dataProvider","output","item","text","caretPosition","MacroPane","AccentUploadButton","click","accept","display","onLoad","files","isViaSaveFile","SaveLoadPane","saveLayout","rawLayers","saveFile","keyByte","defaultFilename","dialog","showSaveDialog","defaultPath","filters","extensions","then","fileName","filePath","loadLayout","file","saveRawKeymapToDevice","successMessage","reader","FileReader","onabort","onerror","onload","readAsBinaryString","xmlns","viewBox","LayoutControl","selectedOption","optionLabels","ContainerPane","selectedLayoutOptions","ConnectedMenu","AdvancedColorPicker","VIACustomItem","VIACustomControl","from","boxOrArr","elem","valueIsChecked","updateValue","toggleOptions","selectOptions","CustomPane","categoryGenerator","viaMenu","submenuGenerator","showIf","selectedCustomMenuData","MenuBuilder","MenuComponent","itemGenerator","itemProps","makeCustomMenus","LayerButton","button","Layers","layerLabel","LayerControl","SlideContainer","showButtons","KeyboardTitle","IconButton","LeftIconButton","RightIconButton","showPrevNext","values","Badge","getCustomPanes","customFeatures","feature","RotaryEncoder","Loader","ConfigureGrid","selectedRow","setRow","KeyboardRows","showMacros","selectedProtocol","titles","getRowsForKeyboard","SelectedPane","dimensions","setDimensions","flexRef","entry","RowLabel","showLoader","SoundFont","drums","square","pipe","ac","loadInstruments","fn","called","callOnce","AudioContext","instrument","isSoundfontURL","KC_PMNS","evtToKeyByte","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","Comma","Period","Semicolon","Quote","BracketLeft","BracketRight","Backspace","Backquote","Slash","Backslash","Minus","Equal","IntlRo","IntlYen","AltLeft","AltRight","CapsLock","ControlLeft","ControlRight","MetaLeft","MetaRight","OSLeft","OSRight","ShiftLeft","ShiftRight","ContextMenu","Enter","Space","Tab","Delete","End","Help","Home","Insert","PageDown","PageUp","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","Escape","PrintScreen","ScrollLock","AudioVolumeUp","AudioVolumeDown","AudioVolumeMute","Pause","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","NumLock","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEnter","NumpadEqual","NumpadMultiply","NumpadSubtract","getIndexByEvent","codes","keyHandler","preventDefault","play","currentTime","duration","random","MusicalKeySlider","arg","PelpiKeycodeInput","showModal","setShowModal","setKeycode","setValue","onLayoutChange","RowComponent","setSelectedOptionKeys","LayoutControls","layoutKey","selectElementOptions","optionIndex","selectedOptions","Boolean","DebugPane","MenuPanel","KeyboardPanel","ControlGroup","ControlGroupHeader","TestControls","setIsChecked","rangeVal","setRangeVal","colorVal","setColorVal","selectionVal","setSelectionVal","allDefinitions","remoteDefinitions","localDefinitions","selectedDefinitionIndex","setSelectedDefinition","setSelectedKey","setShowMatrix","newSelectedOptionKeys","resetEEPROM","jumpToBootloader","start","performance","SWITCH_MATRIX_STATE","DesignErrorMessage","DesignPane","UploadIcon","importDefinition","setErrors","keyboards","errors","dataPath","message","onDragOver","dataTransfer","effectAllowed","dropEffect","onDrop","items","kind","getAsFile","toggleFastRemap","toggleHardwareAcceleration","setTestMatrixEnabled","toggleCreatorMode","requireRestart","saveToDisk","newState","setSettings","isTestMatrixEnabled","settingsReducer","RestartMessage","TestKeyState","setRequireRestart","TestKey","keyState","Initial","TestKeyContainer","getKeyContainerTransform","testKeyColor","TestKeyboard","KeyDown","KeyUp","fullKeyboardDefinition","useState","useEffect","TestPane","startTest","invertTestKeyState","keyDefinitions","canUseMatrixState","selectedKeys","setSelectedKeys","flat","downHandler","upHandler","testDefinition","testKeys","useMatrixTest","bytesPerRow","newFlat","byteIdx","timeout","xor","colOffset","resres","matrixIdx","MenuItem","DEBUG_PROD","NODE_ENV","process","env","showDebugPane","Panes","pane","to","KEYS","LIGHTING","SAVE_LOAD","DEBUG","keyboard","WTRGBBacklight","selectedTitle","titleBarContainer","isDetected","kbName","keyboardName","getTitlesForKeyboard","setSelectedTitle","kbDisconnected","usbDetect","startMonitoring","timeoutRepeater","numToRepeat","homeElem","disableKeyPressListener","body","handleKeys","enableKeyPressListener","globalHotKeysAllowed","mapEvtToKeycode","activeLayer","updateDevicesRepeat","focus","on","Infinity","off","prevProps","toggleLights","selectedAPI","getRGBMode","newVal","setRGBMode","home","tabIndex","RouteComponents","exact","Routes","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_action$payload","createRootReducer","selectedConfigureStore","configureStore","initialState","catchErrors","showDialog","ipcRenderer","Root","getElementById","KC_ERAS","KC_CLR","KC_ZKHK","KC_BRIU","KC_BRID","KC_TRNS","KC_FN0","KC_FN1","KC_FN2","KC_FN3","KC_FN4","KC_FN5","KC_FN6","KC_FN7","KC_FN8","KC_FN9","KC_FN10","KC_FN11","KC_FN12","KC_FN13","KC_FN14","KC_FN15","KC_FN16","KC_FN17","KC_FN18","KC_FN19","KC_FN20","KC_FN21","KC_FN22","KC_FN23","KC_FN24","KC_FN25","KC_FN26","KC_FN27","KC_FN28","KC_FN29","KC_FN30","KC_FN31","KC_MS_UP","KC_MS_DOWN","KC_MS_LEFT","KC_MS_RIGHT","KC_MS_BTN1","KC_MS_BTN2","KC_MS_BTN3","KC_MS_BTN4","KC_MS_BTN5","KC_MS_WH_UP","KC_MS_WH_DOWN","KC_MS_WH_LEFT","KC_MS_WH_RIGHT","KC_MS_ACCEL0","KC_MS_ACCEL1","KC_MS_ACCEL2","RESET","MAGIC_TOGGLE_NKRO","KC_GESC","AU_ON","AU_OFF","AU_TOG","CLICKY_TOGGLE","CLICKY_ENABLE","CLICKY_DISABLE","CLICKY_UP","CLICKY_DOWN","CLICKY_RESET","MU_ON","MU_OFF","MU_TOG","MU_MOD","BL_ON","BL_OFF","BL_DEC","BL_INC","BL_TOGG","BL_STEP","BL_BRTG","RGB_TOG","RGB_MOD","RGB_RMOD","RGB_HUI","RGB_HUD","RGB_SAI","RGB_SAD","RGB_VAI","RGB_VAD","RGB_SPI","RGB_SPD","RGB_M_P","RGB_M_B","RGB_M_R","RGB_M_SW","RGB_M_SN","RGB_M_K","RGB_M_X","RGB_M_G","KC_LSPO","KC_RSPC","KC_SFTENT","KC_LCPO","KC_RCPC","KC_LAPO","KC_RAPC","KC_TILD","KC_EXLM","KC_AT","KC_HASH","KC_DLR","KC_PERC","KC_CIRC","KC_AMPR","KC_ASTR","KC_LPRN","KC_RPRN","KC_UNDS","KC_PLUS","KC_LCBR","KC_RCBR","KC_COLN","KC_PIPE","KC_LT","KC_GT","KC_QUES","KC_DQUO","BR_INC","BR_DEC","EF_INC","EF_DEC","ES_INC","ES_DEC","H1_INC","H1_DEC","S1_INC","S1_DEC","H2_INC","H2_DEC","S2_INC","S2_DEC","FN_MO13","FN_MO23","MACRO00","MACRO01","MACRO02","MACRO03","MACRO04","MACRO05","MACRO06","MACRO07","MACRO08","MACRO09","MACRO10","MACRO11","MACRO12","MACRO13","MACRO14","MACRO15","FN_TT13","FN_TT23","USER01","USER02","USER03","USER04","USER05","USER06","USER07","USER08","USER09","USER10","USER11","USER12","USER13","USER14","SPC_FN1","SPC_FN2","SPC_FN3","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","ReactPropTypes","array","bool","number","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","oneOf","checkPropTypes","PropTypes","super_","f","u","N","prefilter","normalize","lhs","rhs","isNaN","F","groupCollapsed","group","P","groupEnd","logger","actionTransformer","titleFormatter","timestamp","toFixed","collapsed","colors","level","diff","started","startedTime","took","nextState","D","E","O","L","T","M","stateTransformer","errorTransformer","predicate","logErrors","diffPredicate","getHours","getMinutes","getSeconds","getMilliseconds","global","DeepDiff","defineProperties","observableDiff","applyDiff","applyChange","revertChange","isConflict","noConflict","transformer","createLogger","default","LightingValue","LightingTypeDefinition","KeycodeType","CustomFeatures","KeyColorType","require"],"mappings":"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ET,IAAK,OACH,MAAO,OAET,IAAK,OACH,MAAO,OAET,IAAK,OACH,MAAO,OAET,IAAK,OACH,MAAO,OAET,IAAK,OACH,MAAO,OAET,IAAK,OACH,MAAO,OAET,IAAK,OACH,MAAO,OAET,IAAK,OACH,MAAO,OAET,IAAK,OACH,MAAO,OAET,IAAK,OACH,MAAO,OAET,IAAK,OACH,MAAO,OAET,IAAK,QACH,MAAO,UAET,IAAK,SACH,MAAO,SAET,IAAK,YACH,MAAO,UAET,IAAK,QACH,MAAO,UAET,IAAK,cACH,MAAO,UAET,IAAK,eACH,MAAO,UAET,IAAK,YACH,MAAO,SAET,IAAK,QACH,MAAO,UAET,IAAK,YACH,MAAO,UAET,IAAK,YACH,MAAO,UAET,IAAK,QACH,MAAO,UAET,IAAK,QACH,MAAO,SAET,IAAK,SACH,MAAO,QAET,IAAK,UACH,MAAO,UAET,IAAK,UACH,MAAO,UAET,IAAK,WACH,MAAO,UAET,IAAK,WACH,MAAO,UAET,IAAK,cACH,MAAO,UAET,IAAK,eACH,MAAO,UAET,IAAK,WACH,MAAO,UAET,IAAK,YACH,MAAO,UAET,IAAK,SACH,MAAO,UAET,IAAK,UACH,MAAO,UAET,IAAK,YACH,MAAO,UAET,IAAK,aACH,MAAO,UAET,IAAK,cAGL,IAAK,OACH,MAAO,SAET,IAAK,QACH,MAAO,SAET,IAAK,QACH,MAAO,SAET,IAAK,MACH,MAAO,SAET,IAAK,SACH,MAAO,SAET,IAAK,MACH,MAAO,SAET,IAAK,OACH,MAAO,UAET,IAAK,OACH,MAAO,UAET,IAAK,SACH,MAAO,SAET,IAAK,WACH,MAAO,UAET,IAAK,SACH,MAAO,UAET,IAAK,YACH,MAAO,UAET,IAAK,YACH,MAAO,UAET,IAAK,aACH,MAAO,UAET,IAAK,UACH,MAAO,QAET,IAAK,SACH,MAAO,SAET,IAAK,cACH,MAAO,UAET,IAAK,aACH,MAAO,UAET,IAAK,QACH,MAAO,UAET,IAAK,KACH,MAAO,QAET,IAAK,KACH,MAAO,QAET,IAAK,KACH,MAAO,QAET,IAAK,KACH,MAAO,QAET,IAAK,KA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","file":"renderer.prod.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app/index.tsx\");\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home__container__1sK25\",\"menuContainer\":\"Home__menuContainer__3q-Im\",\"home\":\"Home__home__1wotI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lens\":\"color__lens__2ScWl\",\"mouseDown\":\"color__mouseDown__zlh9E\",\"label\":\"color__label__2P957\",\"colorCategoryContainer\":\"color__colorCategoryContainer__2NhxU\",\"colorCategory\":\"color__colorCategory__2o2RZ\",\"container\":\"color__container__1kKfA\",\"inner\":\"color__inner__8H0SG\",\"outer\":\"color__outer__1OV6A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"keycode-menu__menu__bKq0E\",\"keycodesContainer\":\"keycode-menu__keycodesContainer__3qzNe\",\"keycodes\":\"keycode-menu__keycodes__2IT5n\",\"disabled\":\"keycode-menu__disabled__xNtbW\",\"categories\":\"keycode-menu__categories__2Tkpf\",\"category\":\"keycode-menu__category__14TtI\",\"selected\":\"keycode-menu__selected__1NLeb\",\"keycodeDesc\":\"keycode-menu__keycodeDesc__1Cyyc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleBarContainer\":\"title-bar__titleBarContainer__uEFdW\",\"titles\":\"title-bar__titles__3Z3Ra\",\"title\":\"title-bar__title__1OhUD\",\"kbName\":\"title-bar__kbName__2-GQM\",\"kbDisconnected\":\"title-bar__kbDisconnected__2XCEf\",\"selected\":\"title-bar__selected__ccUiO\"};","var map = {\n\t\"./_0.gif\": \"./app/images/_0.gif\",\n\t\"./_1.gif\": \"./app/images/_1.gif\",\n\t\"./_10.gif\": \"./app/images/_10.gif\",\n\t\"./_2.gif\": \"./app/images/_2.gif\",\n\t\"./_3.gif\": \"./app/images/_3.gif\",\n\t\"./_4.gif\": \"./app/images/_4.gif\",\n\t\"./_5.gif\": \"./app/images/_5.gif\",\n\t\"./_6.gif\": \"./app/images/_6.gif\",\n\t\"./_7.gif\": \"./app/images/_7.gif\",\n\t\"./_8.gif\": \"./app/images/_8.gif\",\n\t\"./_9.gif\": \"./app/images/_9.gif\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./app/images sync recursive ^\\\\.\\\\/_.*\\\\.gif$\";","module.exports = __webpack_public_path__ + \"images/f40914a96e79ffc6d325f290a7b4fd03.gif\";","module.exports = __webpack_public_path__ + \"images/424731be73c79e5875c5298ff390d0c6.gif\";","module.exports = __webpack_public_path__ + \"images/d2b9b470005c224ee73d8b4b3c59c5b7.gif\";","module.exports = __webpack_public_path__ + \"images/c5aba2fd5e3a517c325eff360f1ae0b5.gif\";","module.exports = __webpack_public_path__ + \"images/fdb50dccd72b49e5df0c8bcc7f2727ae.gif\";","module.exports = __webpack_public_path__ + \"images/a8b062165ae546ae74e655d4c00f82aa.gif\";","module.exports = __webpack_public_path__ + \"images/411388b196bff866382d3247a6973337.gif\";","module.exports = __webpack_public_path__ + \"images/b7cab5acab19cd5f1417f8aa68079f08.gif\";","module.exports = __webpack_public_path__ + \"images/3a57232350c0af7c8a8d02a8ccff634c.gif\";","module.exports = __webpack_public_path__ + \"images/eea123ec7757b3895e6303ed18ea84de.gif\";","module.exports = __webpack_public_path__ + \"images/e24bd9e5440ac15e6e6b01ddb5350223.gif\";","module.exports = __webpack_public_path__ + \"images/3fb9b9a52b163ee24cbbde30d5990882.png\";","/**\n * This action type will be dispatched when your history\n * receives a location change.\n */\nexport var LOCATION_CHANGE = '@@router/LOCATION_CHANGE';\nexport var onLocationChanged = function onLocationChanged(location, action) {\n  var isFirstRendering = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return {\n    type: LOCATION_CHANGE,\n    payload: {\n      location: location,\n      action: action,\n      isFirstRendering: isFirstRendering\n    }\n  };\n};\n/**\n * This action type will be dispatched by the history actions below.\n * If you're writing a middleware to watch for navigation events, be sure to\n * look for actions of this type.\n */\n\nexport var CALL_HISTORY_METHOD = '@@router/CALL_HISTORY_METHOD';\n\nvar updateLocation = function updateLocation(method) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return {\n      type: CALL_HISTORY_METHOD,\n      payload: {\n        method: method,\n        args: args\n      }\n    };\n  };\n};\n/**\n * These actions correspond to the history API.\n * The associated routerMiddleware will capture these events before they get to\n * your reducer and reissue them as the matching function on your history.\n */\n\n\nexport var push = updateLocation('push');\nexport var replace = updateLocation('replace');\nexport var go = updateLocation('go');\nexport var goBack = updateLocation('goBack');\nexport var goForward = updateLocation('goForward');\nexport var routerActions = {\n  push: push,\n  replace: replace,\n  go: go,\n  goBack: goBack,\n  goForward: goForward\n};","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { matchPath } from \"react-router\";\n\nvar createSelectors = function createSelectors(structure) {\n  var getIn = structure.getIn,\n      toJS = structure.toJS;\n\n  var isRouter = function isRouter(value) {\n    return value != null && _typeof(value) === 'object' && getIn(value, ['location']) && getIn(value, ['action']);\n  };\n\n  var getRouter = function getRouter(state) {\n    var router = toJS(getIn(state, ['router']));\n\n    if (!isRouter(router)) {\n      throw 'Could not find router reducer in state tree, it must be mounted under \"router\"';\n    }\n\n    return router;\n  };\n\n  var getLocation = function getLocation(state) {\n    return toJS(getIn(getRouter(state), ['location']));\n  };\n\n  var getAction = function getAction(state) {\n    return toJS(getIn(getRouter(state), ['action']));\n  };\n\n  var getSearch = function getSearch(state) {\n    return toJS(getIn(getRouter(state), ['location', 'search']));\n  };\n\n  var getHash = function getHash(state) {\n    return toJS(getIn(getRouter(state), ['location', 'hash']));\n  }; // It only makes sense to recalculate the `matchPath` whenever the pathname\n  // of the location changes. That's why `createMatchSelector` memoizes\n  // the latest result based on the location's pathname.\n\n\n  var createMatchSelector = function createMatchSelector(path) {\n    var lastPathname = null;\n    var lastMatch = null;\n    return function (state) {\n      var _ref = getLocation(state) || {},\n          pathname = _ref.pathname;\n\n      if (pathname === lastPathname) {\n        return lastMatch;\n      }\n\n      lastPathname = pathname;\n      var match = matchPath(pathname, path);\n\n      if (!match || !lastMatch || match.url !== lastMatch.url) {\n        lastMatch = match;\n      }\n\n      return lastMatch;\n    };\n  };\n\n  return {\n    getLocation: getLocation,\n    getAction: getAction,\n    getRouter: getRouter,\n    getSearch: getSearch,\n    getHash: getHash,\n    createMatchSelector: createMatchSelector\n  };\n};\n\nexport default createSelectors;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect, ReactReduxContext } from 'react-redux';\nimport { Router } from 'react-router';\nimport { onLocationChanged as _onLocationChanged } from './actions';\nimport createSelectors from './selectors';\n\nvar createConnectedRouter = function createConnectedRouter(structure) {\n  var _createSelectors = createSelectors(structure),\n      getLocation = _createSelectors.getLocation;\n  /*\n   * ConnectedRouter listens to a history object passed from props.\n   * When history is changed, it dispatches action to redux store.\n   * Then, store will pass props to component to render.\n   * This creates uni-directional flow from history->store->router->components.\n   */\n\n\n  var ConnectedRouter =\n  /*#__PURE__*/\n  function (_PureComponent) {\n    _inherits(ConnectedRouter, _PureComponent);\n\n    function ConnectedRouter(props) {\n      var _this;\n\n      _classCallCheck(this, ConnectedRouter);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(ConnectedRouter).call(this, props));\n      var store = props.store,\n          history = props.history,\n          onLocationChanged = props.onLocationChanged;\n      _this.inTimeTravelling = false; // Subscribe to store changes to check if we are in time travelling\n\n      _this.unsubscribe = store.subscribe(function () {\n        // Extract store's location\n        var _getLocation = getLocation(store.getState()),\n            pathnameInStore = _getLocation.pathname,\n            searchInStore = _getLocation.search,\n            hashInStore = _getLocation.hash; // Extract history's location\n\n\n        var _history$location = history.location,\n            pathnameInHistory = _history$location.pathname,\n            searchInHistory = _history$location.search,\n            hashInHistory = _history$location.hash; // If we do time travelling, the location in store is changed but location in history is not changed\n\n        if (props.history.action === 'PUSH' && (pathnameInHistory !== pathnameInStore || searchInHistory !== searchInStore || hashInHistory !== hashInStore)) {\n          _this.inTimeTravelling = true; // Update history's location to match store's location\n\n          history.push({\n            pathname: pathnameInStore,\n            search: searchInStore,\n            hash: hashInStore\n          });\n        }\n      });\n\n      var handleLocationChange = function handleLocationChange(location, action) {\n        var isFirstRendering = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        // Dispatch onLocationChanged except when we're in time travelling\n        if (!_this.inTimeTravelling) {\n          onLocationChanged(location, action, isFirstRendering);\n        } else {\n          _this.inTimeTravelling = false;\n        }\n      }; // Listen to history changes\n\n\n      _this.unlisten = history.listen(handleLocationChange); // Dispatch a location change action for the initial location.\n      // This makes it backward-compatible with react-router-redux.\n      // But, we add `isFirstRendering` to `true` to prevent double-rendering.\n\n      handleLocationChange(history.location, history.action, true);\n      return _this;\n    }\n\n    _createClass(ConnectedRouter, [{\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unlisten();\n        this.unsubscribe();\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            history = _this$props.history,\n            children = _this$props.children;\n        return React.createElement(Router, {\n          history: history\n        }, children);\n      }\n    }]);\n\n    return ConnectedRouter;\n  }(PureComponent);\n\n  ConnectedRouter.propTypes = {\n    store: PropTypes.shape({\n      getState: PropTypes.func.isRequired,\n      subscribe: PropTypes.func.isRequired\n    }).isRequired,\n    history: PropTypes.shape({\n      action: PropTypes.string.isRequired,\n      listen: PropTypes.func.isRequired,\n      location: PropTypes.object.isRequired,\n      push: PropTypes.func.isRequired\n    }).isRequired,\n    basename: PropTypes.string,\n    children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    onLocationChanged: PropTypes.func.isRequired\n  };\n\n  var mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n      onLocationChanged: function onLocationChanged(location, action, isFirstRendering) {\n        return dispatch(_onLocationChanged(location, action, isFirstRendering));\n      }\n    };\n  };\n\n  var ConnectedRouterWithContext = function ConnectedRouterWithContext(props) {\n    var Context = props.context || ReactReduxContext;\n\n    if (Context == null) {\n      throw 'Please upgrade to react-redux v6';\n    }\n\n    return React.createElement(Context.Consumer, null, function (_ref) {\n      var store = _ref.store;\n      return React.createElement(ConnectedRouter, _extends({\n        store: store\n      }, props));\n    });\n  };\n\n  ConnectedRouterWithContext.propTypes = {\n    context: PropTypes.object\n  };\n  return connect(null, mapDispatchToProps)(ConnectedRouterWithContext);\n};\n\nexport default createConnectedRouter;","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { LOCATION_CHANGE } from './actions';\n/**\n * Adds query to location.\n * Utilises the search prop of location to construct query.\n */\n\nvar injectQuery = function injectQuery(location) {\n  var searchQuery = location && location.search;\n\n  if (typeof searchQuery !== 'string' || searchQuery.length === 0) {\n    return _objectSpread({}, location, {\n      query: {}\n    });\n  } // Ignore the `?` part of the search string e.g. ?username=codejockie\n\n\n  var search = searchQuery.substring(1); // Split the query string on `&` e.g. ?username=codejockie&name=Kennedy\n\n  var queries = search.split('&'); // Contruct query\n\n  var query = queries.reduce(function (acc, currentQuery) {\n    // Split on `=`, to get key and value\n    var _currentQuery$split = currentQuery.split('='),\n        _currentQuery$split2 = _slicedToArray(_currentQuery$split, 2),\n        queryKey = _currentQuery$split2[0],\n        queryValue = _currentQuery$split2[1];\n\n    return _objectSpread({}, acc, _defineProperty({}, queryKey, queryValue));\n  }, {});\n  return _objectSpread({}, location, {\n    query: query\n  });\n};\n\nvar createConnectRouter = function createConnectRouter(structure) {\n  var fromJS = structure.fromJS,\n      merge = structure.merge;\n\n  var createRouterReducer = function createRouterReducer(history) {\n    var initialRouterState = fromJS({\n      location: injectQuery(history.location),\n      action: history.action\n    });\n    /*\n    * This reducer will update the state with the most recent location history\n    * has transitioned to.\n    */\n\n    return function () {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialRouterState;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          type = _ref.type,\n          payload = _ref.payload;\n\n      if (type === LOCATION_CHANGE) {\n        var location = payload.location,\n            action = payload.action,\n            isFirstRendering = payload.isFirstRendering; // Don't update the state ref for the first rendering\n        // to prevent the double-rendering issue on initilization\n\n        return isFirstRendering ? state : merge(state, {\n          location: fromJS(injectQuery(location)),\n          action: action\n        });\n      }\n\n      return state;\n    };\n  };\n\n  return createRouterReducer;\n};\n\nexport default createConnectRouter;","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport getIn from './getIn';\nvar structure = {\n  fromJS: function fromJS(value) {\n    return value;\n  },\n  getIn: getIn,\n  merge: function merge(state, payload) {\n    return _objectSpread({}, state, payload);\n  },\n  toJS: function toJS(value) {\n    return value;\n  }\n};\nexport default structure;","/* Code from github.com/erikras/redux-form by Erik Rasmussen */\nvar getIn = function getIn(state, path) {\n  if (!state) {\n    return state;\n  }\n\n  var length = path.length;\n\n  if (!length) {\n    return undefined;\n  }\n\n  var result = state;\n\n  for (var i = 0; i < length && !!result; ++i) {\n    result = result[path[i]];\n  }\n\n  return result;\n};\n\nexport default getIn;","import createConnectedRouter from \"./ConnectedRouter\";\nimport createConnectRouter from \"./reducer\";\nimport createSelectors from \"./selectors\";\nimport plainStructure from \"./structure/plain\";\nexport { LOCATION_CHANGE, CALL_HISTORY_METHOD, onLocationChanged, push, replace, go, goBack, goForward, routerActions } from \"./actions\";\nexport { default as routerMiddleware } from \"./middleware\";\nexport var ConnectedRouter =\n/*#__PURE__*/\ncreateConnectedRouter(plainStructure);\nexport var connectRouter =\n/*#__PURE__*/\ncreateConnectRouter(plainStructure);\n\nvar _createSelectors =\n/*#__PURE__*/\ncreateSelectors(plainStructure),\n    getLocation = _createSelectors.getLocation,\n    getAction = _createSelectors.getAction,\n    getHash = _createSelectors.getHash,\n    getSearch = _createSelectors.getSearch,\n    createMatchSelector = _createSelectors.createMatchSelector;\n\nexport { getLocation, getAction, getHash, getSearch, createMatchSelector };","import * as React from 'react';\nimport styled from 'styled-components';\n\nconst defaultChippy = {\n  width: 300,\n  height: 300,\n  src: require('../images/chippy.png')\n};\n\nconst LoaderContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst CircleContainer = styled.div`\n  border-radius: 50%;\n  background-color: var(--color_medium-grey);\n  height: ${props => props.containerHeight}px;\n  width: ${props => props.containerWidth}px;\n  position: relative;\n  overflow: hidden;\n  padding: ${props => props.containerPadding}px;\n  box-sizing: border-box;\n\n  animation-duration: ${props => (props.progress === null ? 1.5 : 0)}s;\n  animation-name: bob;\n  animation-iteration-count: infinite;\n  animation-direction: alternate;\n  animation-timing-function: ease-in-out;\n\n  &::after {\n    height: ${props => props.containerHeight}px;\n    width: ${props => props.containerWidth}px;\n    position: absolute;\n    content: '';\n    background-color: var(--color_accent);\n    top: ${props => props.containerHeight + 1}px;\n    left: 0;\n    right: 0;\n    transition: transform 0.4s ease-out;\n    transform: translate3d(\n      0,\n      ${props => -props.progress * props.containerHeight}px,\n      0\n    );\n  }\n`;\n\ntype Props = {\n  progress: number;\n  width?: number;\n  height?: number;\n};\n\nexport default function ChippyLoader(props: Props) {\n  const width = props.width || defaultChippy.width;\n  const height = props.width || defaultChippy.height;\n  const containerPadding = width * 0.25;\n  const [containerHeight, containerWidth] = [\n    height + containerPadding * 2,\n    width + containerPadding * 2\n  ];\n  return (\n    <LoaderContainer {...{containerHeight, containerWidth}}>\n      <CircleContainer\n        progress={props.progress}\n        {...{containerHeight, containerWidth}}\n      >\n        <img\n          src={defaultChippy.src}\n          style={{\n            top: `50%`,\n            left: '50%',\n            marginTop: `${-width / 2}px`,\n            marginLeft: `${-width / 2}px`,\n            position: 'absolute',\n            zIndex: 1,\n            width: width\n          }}\n        />\n      </CircleContainer>\n    </LoaderContainer>\n  );\n}\n","import * as React from 'react';\nimport styled from 'styled-components';\n\nconst LoadingText = styled.div`\n  font-size: 30px;\n  color: var(--color_light-grey);\n`;\n\nenum LoadingLabel {\n  Searching = 'Searching for devices...',\n  Loading = 'Loading...'\n}\n\ntype Props = {\n  isSearching: boolean;\n};\n\nexport default function(props: Props) {\n  return (\n    <LoadingText data-tid=\"loading-message\">\n      {props.isSearching ? LoadingLabel.Searching : LoadingLabel.Loading}\n    </LoadingText>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Pane = styled.div`\n  background: var(--gradient);\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  overflow: hidden;\n  background: var(--gradient);\n`;\n\nexport const CenterPane = styled(Pane)`\n  overflow: auto;\n  display: block;\n`;\n","import {getTheme} from 'via-reader';\nconst ElectronStore = require('electron-store');\n\nexport type Settings = {\n  allowKeyboardKeyRemapping: boolean;\n  showDesignTab: boolean;\n  disableFastRemap: boolean;\n  disableHardwareAcceleration: boolean;\n};\n\nconst remoteBaseURL = 'https://www.caniusevia.com';\nconst devicesURL = new URL('keyboards.v2.json', remoteBaseURL);\nconst remoteDefaultData = {\n  generatedAt: -1,\n  definitions: {},\n  theme: getTheme()\n};\nconst deviceStore = new ElectronStore({\n  defaults: {\n    remoteData: remoteDefaultData,\n    settings: {\n      allowKeyboardKeyRemapping: false,\n      showDesignTab: false,\n      disableFastRemap: false,\n      disableHardwareAcceleration: false\n    }\n  }\n});\nlet lastJSON = deviceStore.get('remoteData');\n\nexport async function syncStore() {\n  try {\n    const response = await fetch(devicesURL.href);\n    const json = await response.json();\n    if (json.generatedAt !== lastJSON.generatedAt) {\n      lastJSON = json;\n      deviceStore.set('remoteData', json);\n    }\n  } catch (e) {\n    console.warn(e);\n  }\n  return lastJSON.remoteData;\n}\n\nexport function getDevicesFromStore() {\n  return lastJSON.definitions;\n}\n\nexport function getThemeFromStore() {\n  return lastJSON.theme;\n}\n\nexport function getSettings(): Settings {\n  return deviceStore.get('settings');\n}\n\nexport function setSettings(settings: Settings) {\n  return deviceStore.set('settings', settings);\n}\n","type KeyColor = string;\ntype LegendColor = string;\ntype Margin = number;\ntype Size = number;\ntype Formatting = {c: KeyColor; t: LegendColor};\ntype Dimensions = {marginX: Margin; marginY: Margin; size: Size};\nexport type Result = Formatting & Dimensions & {label: string};\ntype ColorCount = {[key: string]: number};\ntype KLEDimensions = {a: number; x: number; w: number; y: number};\ntype OtherKLEProps = {[key: string]: any};\ntype KLEElem = KLEDimensions & Formatting | OtherKLEProps | string;\ntype InnerReduceState = Formatting &\n  Dimensions & {colorCount: ColorCount; res: Result[]};\ntype OuterReduceState = {\n  colorCount: ColorCount;\n  prevFormatting: Formatting;\n  res: Result[][];\n};\nexport type ParsedKLE = {\n  res: Result[][];\n  colorMap: {[k: string]: string};\n};\n\n// {c, t, label: n, size, margin}\n\nexport function parseKLE(kle: string): any {\n  const kleArr = kle.split(',\\n');\n  return kleArr.map(row =>\n    JSON.parse(\n      row\n        .replace(/\\n/g, '\\\\n')\n        .replace(/\\\\/g, '\\\\\\\\')\n        .replace(/\\\"\\\\(?!,)/g, '\\\\\\\\')\n        .replace(/([{,])([A-Za-z][0-9A-Za-z]?)(:)/g, '$1\"$2\"$3')\n    )\n  );\n}\n\nexport function parseKLERaw(kle: string): ParsedKLE {\n  const parsedKLE: OuterReduceState = parseKLE(kle).reduce(\n    (prev: OuterReduceState, kle: any[]) => {\n      const parsedRow: InnerReduceState = kle.reduce(\n        (\n          {size, marginX, marginY, res, c, t, colorCount}: InnerReduceState,\n          n: KLEElem\n        ) => {\n          // Check if object and apply formatting\n          if (typeof n !== 'string') {\n            let obj = {size, marginX, marginY, colorCount, c, t, res};\n            if (n.w > 1) {\n              obj = {...obj, size: 100 * n.w};\n            }\n            if (typeof n.y === 'number') {\n              obj = {...obj, marginY: 100 * n.y};\n            }\n            if (typeof n.x === 'number') {\n              obj = {...obj, marginX: 100 * n.x};\n            }\n            if (typeof n.c === 'string') {\n              obj = {...obj, c: n.c};\n            }\n            if (typeof n.t === 'string') {\n              obj = {...obj, t: n.t};\n            }\n            return obj;\n          } else if (typeof n === 'string') {\n            const colorCountKey = `${c}:${t}`;\n            const newColorCount = {\n              ...colorCount,\n              [colorCountKey]:\n                colorCount[colorCountKey] === undefined\n                  ? 1\n                  : colorCount[colorCountKey] + 1\n            };\n            return {\n              marginX: 0,\n              marginY,\n              size: 100,\n              c,\n              colorCount: newColorCount,\n              t,\n              res: [...res, {c, t, label: n, size, marginX, marginY}]\n            };\n          }\n          return {marginX, marginY, size, c, t, res, colorCount};\n        },\n        {\n          ...prev.prevFormatting,\n          colorCount: prev.colorCount,\n          marginX: 0,\n          marginY: 0,\n          size: 100,\n          res: []\n        }\n      );\n      return {\n        colorCount: parsedRow.colorCount,\n        prevFormatting: {c: parsedRow.c, t: parsedRow.t},\n        res: [...prev.res, parsedRow.res]\n      };\n    },\n    {prevFormatting: {c: '#f5f5f5', t: '#444444'}, res: [], colorCount: {}}\n  );\n\n  const {colorCount, res} = parsedKLE;\n  const colorCountKeys = Object.keys(colorCount);\n  colorCountKeys.sort((a, b) => colorCount[b] - colorCount[a]);\n  if (colorCountKeys.length > 3) {\n    console.error('Please correct layout:', parsedKLE);\n  }\n  return {\n    res,\n    colorMap: {\n      [colorCountKeys[0]]: 'alphas',\n      [colorCountKeys[1]]: 'mods',\n      [colorCountKeys[2]]: 'accents'\n    }\n  };\n}\n","const LS = {\n  START: 1,\n  DEFINE: 2,\n  LAYOUT1D_START: 3,\n  LAYOUT1D_END: 4,\n  LAYOUT2D_START: 5,\n  LAYOUT2D_ROW_START: 6,\n  LAYOUT2D_COL_START: 7,\n  LAYOUT2D_COL_CONTINUE: 8,\n  LAYOUT2D_COL_END: 9,\n  LAYOUT2D_ROW_END: 10,\n  LAYOUT2D_END: 11\n};\n\nfunction error(state, nextToken) {\n  console.error('Current State', state, 'Next: ', nextToken);\n}\n\nfunction tokenizer(state, next) {\n  const tnext = next.trim();\n  const {prev, res} = state;\n  // skip empty strings\n  if (tnext === '') {\n    return state;\n  }\n\n  if (prev === LS.START) {\n    // skip\n    if (tnext === '#define') {\n      return {...state, prev: LS.DEFINE};\n    }\n  } else if (prev === LS.DEFINE) {\n    const parenIdx = tnext.indexOf('(');\n    const length = tnext.length;\n    // If the ( is the last character of the token we're good :)\n    if (parenIdx === length - 1) {\n      const name = tnext.slice(0, length - 1);\n      return {\n        ...state,\n        prev: LS.LAYOUT1D_START,\n        res: {\n          name,\n          layout1D: [],\n          layout2D: []\n        }\n      };\n    }\n  } else if (prev === LS.LAYOUT1D_START) {\n    const commaIdx = tnext.indexOf(',');\n\n    if (commaIdx === 0) {\n      return tokenizer(state, tnext.slice(1));\n    }\n\n    const parenIdx = tnext.indexOf(')');\n    const length = tnext.length;\n    if (parenIdx === 0) {\n      return tokenizer(\n        {\n          ...state,\n          prev: LS.LAYOUT1D_END,\n          res: {...res, layout2D: [[]]}\n        },\n        tnext.slice(1)\n      );\n    } else if (commaIdx === length - 1) {\n      const keycode = tnext.slice(0, length - 1);\n      const {layout1D} = res;\n      return {\n        ...state,\n        prev: LS.LAYOUT1D_START,\n        res: {...res, layout1D: [...layout1D, keycode]}\n      };\n    } else if (parenIdx === length - 1) {\n      const keycode = tnext.slice(0, length - 1);\n      const {layout1D} = res;\n      return {\n        ...state,\n        prev: LS.LAYOUT1D_END,\n        res: {...res, layout1D: [...layout1D, keycode], layout2D: [[]]}\n      };\n    } else if (parenIdx === -1 && commaIdx === -1) {\n      const keycode = tnext;\n      const {layout1D} = res;\n      return {\n        ...state,\n        prev: LS.LAYOUT1D_START,\n        res: {...res, layout1D: [...layout1D, keycode], layout2D: [[]]}\n      };\n    }\n  } else if (prev === LS.LAYOUT1D_END) {\n    if (tnext[0] === '{') {\n      return tokenizer(\n        {\n          ...state,\n          prev: LS.LAYOUT2D_START\n        },\n        tnext.slice(1)\n      );\n    }\n  } else if (prev === LS.LAYOUT2D_START) {\n    if (tnext[0] === '{') {\n      return tokenizer(\n        {\n          ...state,\n          prev: LS.LAYOUT2D_COL_START\n        },\n        tnext.slice(1)\n      );\n    }\n  } else if (prev === LS.LAYOUT2D_COL_END) {\n    if (tnext[0] === ',') {\n      return tokenizer(\n        {\n          ...state,\n          prev: LS.LAYOUT2D_COL_END\n        },\n        tnext.slice(1)\n      );\n    } else if (tnext[0] === '}') {\n      return state;\n    } else if (tnext[0] === '{') {\n      return tokenizer(\n        {\n          ...state,\n          prev: LS.LAYOUT2D_COL_START,\n          res: {...res, layout2D: [...res.layout2D, []]}\n        },\n        tnext.slice(1)\n      );\n    }\n  } else if (prev === LS.LAYOUT2D_COL_START) {\n    const commaIdx = tnext.indexOf(',');\n    const bracketIdx = tnext.indexOf('}');\n    if (commaIdx === 0) {\n      return tokenizer(state, tnext.slice(1));\n    }\n\n    if (bracketIdx === 0) {\n      const {layout2D} = res;\n      return tokenizer(\n        {\n          ...state,\n          prev: LS.LAYOUT2D_COL_END,\n          res: {...res, layout2D: [...layout2D]}\n        },\n        tnext.slice(bracketIdx)\n      );\n    } else if (bracketIdx > 0) {\n      const {layout2D} = res;\n      const lastRow = layout2D[layout2D.length - 1];\n      layout2D[layout2D.length - 1] = [...lastRow, tnext.slice(0, bracketIdx)];\n      return tokenizer(\n        {\n          ...state,\n          prev: LS.LAYOUT2D_COL_END,\n          res: {...res, layout2D: [...layout2D]}\n        },\n        tnext.slice(bracketIdx)\n      );\n    } else if (commaIdx !== -1) {\n      const {layout2D} = res;\n      const lastRow = layout2D[layout2D.length - 1];\n      layout2D[layout2D.length - 1] = [...lastRow, tnext.slice(0, commaIdx)];\n      return tokenizer(\n        {\n          ...state,\n          prev: LS.LAYOUT2D_COL_START,\n          res: {...res, layout2D}\n        },\n        tnext.slice(commaIdx)\n      );\n    } else if (bracketIdx === -1 && commaIdx === -1) {\n      const {layout2D} = res;\n      const lastRow = layout2D[layout2D.length - 1];\n      layout2D[layout2D.length - 1] = [...lastRow, tnext];\n      return {\n        ...state,\n        prev: LS.LAYOUT2D_COL_START,\n        res: {...res, layout2D}\n      };\n    }\n  }\n  error(state, tnext);\n  throw 'Bad Token found';\n}\n\nexport function parseLayout(layout: string) {\n  const tokens = layout.split(/\\s+/g);\n  const {res} = tokens.reduce(tokenizer, {prev: LS.START, res: {}});\n  const {layout1D, layout2D} = res;\n  const [rows, cols] = [layout2D.length, layout2D[0].length];\n  const indexMap = Object.assign(\n    {},\n    ...layout2D.map((arr, i) =>\n      Object.assign(\n        {},\n        ...arr.map((val, j) => ({\n          [val]: {col: j, row: i}\n        }))\n      )\n    )\n  );\n  return {rows, cols, layout: layout1D.map(val => indexMap[val])};\n}\n","import AEGIS from './aegis'\nimport EXT65 from './ext65'\n\nconst KEYBOARDS = [\n    AEGIS,\n    EXT65\n];\n\nexport default KEYBOARDS;","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#aaaaaa\"},\"0\",\"1\",\"2\",\"3\",{x:0.5,c:\"#888888\"},\"4\",{x:1,c:\"#cccccc\"},\"5\",\"6\",\"7\",\"8\",{x:0.5,c:\"#aaaaaa\"},\"9\",\"10\",\"11\",\"12\",{x:0.5,c:\"#cccccc\"},\"13\",\"14\",\"15\",\"16\"],\n[{y:0.25,c:\"#aaaaaa\"},\"17\",\"18\",\"19\",\"20\",{x:0.5,c:\"#cccccc\"},\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",{c:\"#aaaaaa\"},\"35\"],\n[\"36\",{c:\"#cccccc\"},\"37\",\"38\",\"39\",{x:0.5,c:\"#aaaaaa\",w:1.5},\"40\",{c:\"#cccccc\"},\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",{c:\"#aaaaaa\",w:1.5},\"53\"],\n[\"54\",{c:\"#cccccc\"},\"55\",\"56\",\"57\",{x:0.5,c:\"#aaaaaa\",w:1.75},\"58\",{c:\"#cccccc\"},\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",{c:\"#aaaaaa\",w:2.25},\"70\"],\n[\"71\",{c:\"#cccccc\"},\"72\",\"73\",\"74\",{x:1.5,c:\"#aaaaaa\",w:1.25},\"76\",{c:\"#cccccc\"},\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",{c:\"#aaaaaa\",w:1.75},\"87\",\"88\"],\n[{y:-0.75,x:4.25,c:\"#888888\"},\"75\"],\n[{y:-0.25,c:\"#aaaaaa\"},\"89\",{c:\"#cccccc\"},\"90\",\"91\",{x:3.5,c:\"#aaaaaa\",w:1.25},\"95\",{w:1.25},\"96\",{c:\"#cccccc\",w:6.25},\"97\",{c:\"#aaaaaa\",w:1.5},\"98\",{w:1.25},\"99\",{w:1.5},\"100\"],\n[{y:-0.75,x:3.25,c:\"#888888\"},\"92\",\"93\",\"94\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_aegis( \\\n  K0000, K0100, K0001, K0101,        K0002, K0102, K0003, K0103, K0004, K0104, K0005, K0105, K0006, K0106, K0007, K0107, K0008, \\\n  K0200, K0300, K0201, K0301,        K0202, K0302, K0203, K0303, K0204, K0304, K0205, K0305, K0206, K0306, K0207, K0307, K0208, K0308, K0108, \\\n  K0400, K0500, K0401, K0501,        K0402, K0502, K0403, K0503, K0404, K0504, K0405, K0505, K0406, K0506, K0407, K0507, K0408, K0508, \\\n  K0600, K0700, K0601, K0701,        K0602, K0702, K0603, K0703, K0604, K0704, K0605, K0705, K0606, K0706, K0607, K0707, K0608, \\\n  K0800, K0900, K0801, K0901,        K0802, K0902, K0803, K0903, K0804, K0904, K0805, K0905, K0806, K0906, K0807, K0907, K0808, K0908, \\\n  K1000, K1100, K1001,        K1101, K1002, K1102, K1003, K1103,                      K1105,                      K1107, K1008, K1108 \\\n) { \\\n  { K0000, K0001, K0002, K0003, K0004, K0005, K0006, K0007, K0008 }, \\\n  { K0100, K0101, K0102, K0103, K0104, K0105, K0106, K0107, K0108 }, \\\n  { K0200, K0201, K0202, K0203, K0204, K0205, K0206, K0207, K0208 }, \\\n  { K0300, K0301, K0302, K0303, K0304, K0305, K0306, K0307, K0308 }, \\\n  { K0400, K0401, K0402, K0403, K0404, K0405, K0406, K0407, K0408 }, \\\n  { K0500, K0501, K0502, K0503, K0504, K0505, K0506, K0507, K0508 }, \\\n  { K0600, K0601, K0602, K0603, K0604, K0605, K0606, K0607, K0608 }, \\\n  { K0700, K0701, K0702, K0703, K0704, K0705, K0706, K0707, _____ }, \\\n  { K0800, K0801, K0802, K0803, K0804, K0805, K0806, K0807, K0808 }, \\\n  { K0900, K0901, K0902, K0903, K0904, K0905, K0906, K0907, K0908 }, \\\n  { K1000, K1001, K1002, K1003, _____, _____, _____, _____, K1008 }, \\\n  { K1100, K1101, K1102, K1103, _____, K1105, _____, K1107, K1108 } \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'AEboards AEGIS',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  overrideMatrixIndexing: true,\n  vendorProductId: 0x41450807\n};\n\nexport default DEVICE_META;","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#aaaaaa\"},\"x\",\"x\",\"x\",\"x\",{x:0.5,c:\"#888888\"},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#aaaaaa\"},\"x\"],\n[\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",{x:0.5,c:\"#aaaaaa\",w:1.5},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{w:1.5},\"x\",{c:\"#aaaaaa\"},\"x\"],\n[\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",{x:0.5,c:\"#aaaaaa\",w:1.75},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#aaaaaa\",w:2.25},\"x\",\"x\"],\n[\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",{x:0.5,c:\"#aaaaaa\",w:2.25},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#aaaaaa\",w:1.75},\"x\",{c:\"#888888\"},\"x\",{c:\"#aaaaaa\"},\"x\"],\n[\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",{x:0.5,c:\"#aaaaaa\",w:1.5},\"x\",\"x\",{w:1.5},\"x\",{c:\"#cccccc\",w:6.25},\"x\",{c:\"#aaaaaa\",w:1.25},\"x\",\"x\",{x:0.5,c:\"#888888\"},\"x\",\"x\",\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_ext65( \\\n  K000, K100, K001, K101,  K002, K102, K003, K103, K004, K104, K005, K105, K006, K106, K007, K107, K008, K108, K508, K009, \\\n  K200, K300, K201, K301,  K202, K302, K203, K303, K204, K304, K205, K305, K206, K306, K207, K307, K208, K308,       K209, \\\n  K400, K500, K401, K501,  K402, K502, K403, K503, K404, K504, K405, K505, K406, K506, K407, K507, K408,             K409, \\\n  K600, K700, K601, K701,  K602, K702, K603, K703, K604, K704, K605, K705, K606, K706, K607, K708,             K608, K709, \\\n  K800, K900, K801, K901,  K802, K902, K803,                   K805,             K906, K807,             K908, K808, K909  \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009 }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, ____ }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209 }, \\\n  { K300, K301, K302, K303, K304, K305, K306, K307, K308, ____ }, \\\n  { K400, K401, K402, K403, K404, K405, K406, K407, K408, K409 }, \\\n  { K500, K501, K502, K503, K504, K505, K506, K507, K508, ____ }, \\\n  { K600, K601, K602, K603, K604, K605, K606, K607, K608, ____ }, \\\n  { K700, K701, K702, K703, K704, K705, K706, ____, K708, K709 }, \\\n  { K800, K801, K802, K803, ____, K805, ____, K807, K808, ____ }, \\\n  { K900, K901, K902, ____, ____, ____, K906, ____, K908, K909 } \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'AEboards Ext65',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  overrideMatrixIndexing: true,\n  vendorProductId: 0x4145AE65\n};\n\nexport default DEVICE_META;","import EQUINOX from './equinox';\n\n const KEYBOARDS = [\n    EQUINOX\n]\n\n export default KEYBOARDS;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#bbbbbb\",w:1.5},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#bbbbbb\",w:1.5},\"x\"],\n[{w:1.75},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#bbbbbb\"},\"x\",{w:1.25},\"x\"],\n[{w:1.25},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\\n,\",\"x\",{c:\"#bbbbbb\",w:1.75},\"x\"],\n[{w:1.25},\"x\",\"x\",{w:1.25},\"x\",{c:\"#cccccc\",w:2.25},\"x\",\"x\",{w:2.75},\"x\",{c:\"#bbbbbb\",w:1.25},\"x\",\"x\",{w:1.25},\"x\"]`;\n\n export const MATRIX = `\n#define LAYOUT( \\\n  K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, \\\n  K300, K301, K302,     K304,       K306,       K308,   K309, K310, K311  \\\n) \\\n{ \\\n  { K000,  K001,  K002,  K003,  K004,  K005,  K006,  K007,  K008,  K009,  K010,  K011 }, \\\n  { K100,  K101,  K102,  K103,  K104,  K105,  K106,  K107,  K108,  K109,  K110,  K111 }, \\\n  { K200,  K201,  K202,  K203,  K204,  K205,  K206,  K207,  K208,  K209,  K210,  K211 }, \\\n  { K300,  K301,  K302,  KC_NO, K304,  KC_NO, K306,  KC_NO, K308,  K309,  K310,  K311 }  \\\n}\n`;\n\n const DEVICE_META = {\n  name: 'Equinox',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0xA1030004\n};\n\n export default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#8a2020\"},\"Esc\",{c:\"#cccccc\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{a:7},\"\",\"\"],\n[{c:\"#0a4dc7\",a:4,w:1.5},\"Tab\",{c:\"#cccccc\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{c:\"#0a4dc7\",w:1.5},\"|\\n\\\\\"],\n[{w:1.75},\"Caps Lock\",{c:\"#cccccc\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#0a4dc7\",w:2.25},\"Enter\"],\n[{w:2.25},\"Shift\",{c:\"#cccccc\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#0a4dc7\",w:1.75},\"Shift\",{a:7},\"\"],\n[{a:4,w:1.25},\"Ctrl\",{w:1.25},\"Win\",{w:1.25},\"Alt\",{c:\"#cccccc\",a:7,w:6.25},\"\",{c:\"#0a4dc7\",a:4,w:1.25},\"Alt\",{w:1.25},\"Win\",{w:1.25},\"Menu\",{w:1.25},\"Ctrl\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n\tK00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, K0E,\\\n\tK10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C,      K1E, \\\n\tK20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B,          K2E, \\\n\tK30, K31, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B,          K3E,\\\n\tK40, K41,  K42,              K45,            K49, K4A, K4B,          K4E \\\n  ) { \\\n\t{  K00,  K01,  K02,  K03,  K04,    K05,    K06,    K07,    K08,    K09,  K0A,  K0B,  K0C,  K0D,  K0E}, \\\n\t{  K10,  K11,  K12,  K13,  K14,    K15,    K16,    K17,    K18,    K19,  K1A,  K1B,  K1C,  KNO,  K1E   }, \\\n\t{  K20,  K21,  K22,  K23,  K24,    K25,    K26,    K27,    K28,    K29,  K2A,  K2B,  KNO,  KNO,  K2E  }, \\\n\t{  K30,  K31,  K32,  K33,  K34,    K35,    K36,    K37,    K38,    K39,  K3A,  K3B,  KNO,  KNO,  K3E  }, \\\n\t{  K40,  K41,  K42,  KNO,  KNO,    K45,    KNO,    KNO,    KNO,    K49,  K4A,  K4B,  KNO,  KNO,  K4E  }  \\\n  }\n`;\n\nconst DEVICE_META = {\n\tname: 'AN-C',\n\tlayout: LAYOUT,\n\tmatrixLayout: MATRIX,\n\tlights: LightingSupport.QMKLighting,\n\tvendorProductId: 0xCA04A00C,\n};\n\nexport default DEVICE_META;\n","import DEVICE_META from './config';\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta';\n\nexport const LAYOUT = `[{c:\"#000000\",t:\"#696969\"},\"0\",{c:\"#cccccc\",t:\"#000000\"},\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",{c:\"#696969\"},\"14\"],\n[{w:1.5},\"15\",{c:\"#cccccc\"},\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",{c:\"#696969\",w:1.5},\"28\",{x:0.5},\"29\"],\n[{w:1.75},\"30\",{c:\"#cccccc\"},\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",{c:\"#696969\",w:1.25},\"43\",{x:0.5},\"44\"],\n[{w:1.25},\"45\",\"46\",{c:\"#cccccc\"},\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",{c:\"#696969\",w:1.75},\"57\",{x:1.5},\"59\"],\n[{y:-0.75,x:14.25,c:\"#000000\",t:\"#696969\"},\"58\"],\n[{y:-0.25,c:\"#696969\",t:\"#000000\",w:1.25},\"60\",{w:1.25},\"61\",{w:1.25},\"62\",{c:\"#000000\",t:\"#696969\",w:6.25},\"63\",{c:\"#696969\",t:\"#000000\"},\"64\",\"65\",\"66\"],\n[{y:-0.75,x:13.25,c:\"#000000\",t:\"#696969\"},\"67\",\"68\",\"69\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_default( \\\n\tK000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K014,       \\\n\tK100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113,       K115, \\\n\tK200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213,       K215, \\\n\tK300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313,       K315, \\\n\tK400, K401, K402,                   K406,             K409, K410, K411, K412, K413,       K415  \\\n) { \\\n\t{ K000,  K001,  K002,  K003,  K004,  K005,  K006,  K007,  K008,  K009,  K010,  K011,  K012,  K013,  K014,  KC_NO }, \\\n\t{ K100,  K101,  K102,  K103,  K104,  K105,  K106,  K107,  K108,  K109,  K110,  K111,  K112,  K113,  KC_NO, K115 }, \\\n\t{ K200,  K201,  K202,  K203,  K204,  K205,  K206,  K207,  K208,  K209,  K210,  K211,  K212,  K213,  KC_NO, K215 }, \\\n\t{ K300,  K301,  K302,  K303,  K304,  K305,  K306,  K307,  K308,  K309,  K310,  K311,  K312,  K313,  KC_NO, K315 }, \\\n\t{ K400,  K401,  K402,  KC_NO, KC_NO, KC_NO, K406,  KC_NO, KC_NO, K409,  K410,  K411,  K412,  K413,  KC_NO, K415 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'Chimera65',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.QMKLighting,\n  overrideMatrixIndexing: true,\n  vendorProductId: 0xca04c024\n};\n\nexport default DEVICE_META;\n","import DEVICE_META from './config';\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#8a2020\"},\"Esc\",{c:\"#cccccc\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{a:7},\"\",\"\"],\n[{c:\"#0a4dc7\",a:4,w:1.5},\"Tab\",{c:\"#cccccc\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{c:\"#0a4dc7\",w:1.5},\"|\\n\\\\\"],\n[{w:1.75},\"Caps Lock\",{c:\"#cccccc\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#0a4dc7\",w:2.25},\"Enter\"],\n[{w:2.25},\"Shift\",{c:\"#cccccc\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#0a4dc7\",w:1.75},\"Shift\",{a:7},\"\"],\n[{a:4,w:1.25},\"Ctrl\",{w:1.25},\"Win\",{w:1.25},\"Alt\",{c:\"#cccccc\",a:7,w:6.25},\"\",{c:\"#0a4dc7\",a:4,w:1.25},\"Alt\",{w:1.25},\"Win\",{w:1.25},\"Menu\",{w:1.25},\"Ctrl\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n\tK00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, K0E,\\\n\tK10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C,      K1E, \\\n\tK20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B,          K2E, \\\n\tK30, K31, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B,          K3E,\\\n\tK40, K41,  K42,              K45,            K49, K4A, K4B,          K4E \\\n  ) { \\\n\t{  K00,  K01,  K02,  K03,  K04,    K05,    K06,    K07,    K08,    K09,  K0A,  K0B,  K0C,  K0D,  K0E}, \\\n\t{  K10,  K11,  K12,  K13,  K14,    K15,    K16,    K17,    K18,    K19,  K1A,  K1B,  K1C,  KNO,  K1E   }, \\\n\t{  K20,  K21,  K22,  K23,  K24,    K25,    K26,    K27,    K28,    K29,  K2A,  K2B,  KNO,  KNO,  K2E  }, \\\n\t{  K30,  K31,  K32,  K33,  K34,    K35,    K36,    K37,    K38,    K39,  K3A,  K3B,  KNO,  KNO,  K3E  }, \\\n\t{  K40,  K41,  K42,  KNO,  KNO,    K45,    KNO,    KNO,    KNO,    K49,  K4A,  K4B,  KNO,  KNO,  K4E  }  \\\n  }\n`;\n\nconst DEVICE_META = {\n\tname: 'Instant60',\n\tlayout: LAYOUT,\n\tmatrixLayout: MATRIX,\n\tlights: LightingSupport.QMKLighting,\n\tvendorProductId: 0xCA041600,\n};\n\nexport default DEVICE_META;\n","import DEVICE_META from './config';\n\nexport default DEVICE_META;\n","import {KeyboardAPI} from '../../../utils/keyboard-api';\n\nconst GET_KEYBOARD_VALUE = 0x02;\nconst SET_KEYBOARD_VALUE = 0x03;\n\nconst KB_VALUES = {\n  ENABLED_ENCODER_MODES: 0x80,\n  OLED_DEFAULT_MODE: 0x81,\n  ENCODER_CUSTOM: 0x82,\n  OLED_MODE: 0x83\n};\n\nexport const getEncoderModes = async (api: KeyboardAPI) => {\n  const bytes = [KB_VALUES.ENABLED_ENCODER_MODES];\n  const [, , enabledModes] = await api.hidCommand(GET_KEYBOARD_VALUE, bytes);\n  return enabledModes;\n};\n\nexport const setEncoderModes = async (\n  api: KeyboardAPI,\n  newEncoderModes: number\n) => {\n  const bytes = [KB_VALUES.ENABLED_ENCODER_MODES, newEncoderModes];\n  await api.hidCommand(SET_KEYBOARD_VALUE, bytes);\n};\n\nexport const getDefaultOLED = async (api: KeyboardAPI) => {\n  const bytes = [KB_VALUES.OLED_DEFAULT_MODE];\n  const [, , defaultMode] = await api.hidCommand(GET_KEYBOARD_VALUE, bytes);\n  return defaultMode;\n};\n\nexport const setDefaultOLED = async (\n  api: KeyboardAPI,\n  newDefaultMode: number\n) => {\n  const bytes = [KB_VALUES.OLED_DEFAULT_MODE, newDefaultMode];\n  await api.hidCommand(SET_KEYBOARD_VALUE, bytes);\n};\n\nexport const getOLEDMode = async (api: KeyboardAPI) => {\n  const bytes = [KB_VALUES.OLED_MODE];\n  const [, , defaultMode] = await api.hidCommand(GET_KEYBOARD_VALUE, bytes);\n  return defaultMode;\n};\n\nexport const setOLEDMode = async (api: KeyboardAPI, newDefaultMode: number) => {\n  const bytes = [KB_VALUES.OLED_MODE, newDefaultMode];\n  await api.hidCommand(SET_KEYBOARD_VALUE, bytes);\n};\n\nexport const getCustomEncoderConfig = async (\n  api: KeyboardAPI,\n  encoderIdx: number\n) => {\n  const bytes = [KB_VALUES.ENCODER_CUSTOM, encoderIdx];\n  const raw = await api.hidCommand(GET_KEYBOARD_VALUE, bytes);\n  const [, , , cw1, cw2, ccw1, ccw2, press1, press2] = raw;\n  return [(cw1 << 8) | cw2, (ccw1 << 8) | ccw2, (press1 << 8) | press2];\n};\n\nexport const setCustomEncoderConfig = async (\n  api: KeyboardAPI,\n  encoderIdx: number,\n  behavior: number,\n  keycode: number\n) => {\n  const hi = (keycode & 0xff00) >> 8;\n  const lo = keycode & 0xff;\n  const bytes = [KB_VALUES.ENCODER_CUSTOM, encoderIdx, behavior, hi, lo];\n  await api.hidCommand(SET_KEYBOARD_VALUE, bytes);\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\n\nconst MODES = {\n  ENC_MODE_VOLUME: 0,\n  ENC_MODE_MEDIA: 1,\n  ENC_MODE_SCROLL: 2,\n  ENC_MODE_BRIGHTNESS: 3,\n  ENC_MODE_BACKLIGHT: 4,\n  ENC_MODE_CUSTOM0: 5,\n  ENC_MODE_CUSTOM1: 6,\n  ENC_MODE_CUSTOM2: 7\n};\n\nconst MODE_LABELS = {\n  ENC_MODE_VOLUME: 'Volume',\n  ENC_MODE_MEDIA: 'Media',\n  ENC_MODE_SCROLL: 'Scroll',\n  ENC_MODE_BRIGHTNESS: 'Brightness',\n  ENC_MODE_BACKLIGHT: 'Backlight',\n  ENC_MODE_CUSTOM0: 'Custom 0',\n  ENC_MODE_CUSTOM1: 'Custom 1',\n  ENC_MODE_CUSTOM2: 'Custom 2'\n};\n\nconst CenteredColumnDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst ColumnDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\ntype Props = {\n  enabledModes: number;\n  onChange: (value: number) => void;\n};\n\nexport class EncoderModeToggle extends React.Component<Props> {\n  handleInputChange = event => {\n    const {enabledModes, onChange} = this.props;\n    const {\n      target: {checked: value, name}\n    } = event;\n    /* eslint-disable no-bitwise */\n    const flagBit = 1 << MODES[name];\n    const newEnabledModes = value\n      ? enabledModes | flagBit\n      : enabledModes & ~flagBit;\n    /* eslint-enable no-bitwise */\n    onChange(newEnabledModes);\n  };\n\n  isChecked = (modeIdx: number): boolean =>\n    ((1 << modeIdx) & this.props.enabledModes) > 0; // eslint-disable-line no-bitwise\n\n  render() {\n    return (\n      <CenteredColumnDiv>\n        <h3>Enabled Encoder Modes:</h3>\n        <p>Only the selected encoder modes will be available on the keyboard</p>\n        <ColumnDiv>\n          {Object.entries(MODES).map(([key, value]) => (\n            <label key={value} htmlFor={MODE_LABELS[key]}>\n              <input\n                name={key}\n                id={MODE_LABELS[key]}\n                type=\"checkbox\"\n                checked={this.isChecked(value)}\n                onChange={this.handleInputChange}\n                key={value}\n              />\n              {MODE_LABELS[key]}\n            </label>\n          ))}\n        </ColumnDiv>\n      </CenteredColumnDiv>\n    );\n  }\n}\n\nexport default EncoderModeToggle;\n","import {basicKeyToByte, byteToKey} from './key';\n\nconst quantumRanges = {\n  QK_MODS: 0x0100,\n  QK_RMODS_MIN: 0x1000,\n  QK_MODS_MAX: 0x1fff,\n  QK_FUNCTION: 0x2000,\n  QK_FUNCTION_MAX: 0x2fff,\n  QK_MACRO: 0x3000,\n  QK_MACRO_MAX: 0x3fff,\n  QK_LAYER_TAP: 0x4000,\n  QK_LAYER_TAP_MAX: 0x4fff,\n  QK_TO: 0x5000,\n  QK_TO_MAX: 0x50ff,\n  QK_MOMENTARY: 0x5100,\n  QK_MOMENTARY_MAX: 0x51ff,\n  QK_DEF_LAYER: 0x5200,\n  QK_DEF_LAYER_MAX: 0x52ff,\n  QK_TOGGLE_LAYER: 0x5300,\n  QK_TOGGLE_LAYER_MAX: 0x53ff,\n  QK_ONE_SHOT_LAYER: 0x5400,\n  QK_ONE_SHOT_LAYER_MAX: 0x54ff,\n  QK_ONE_SHOT_MOD: 0x5500,\n  QK_ONE_SHOT_MOD_MAX: 0x55ff,\n  QK_TAP_DANCE: 0x5700,\n  QK_TAP_DANCE_MAX: 0x57ff,\n  QK_LAYER_TAP_TOGGLE: 0x5800,\n  QK_LAYER_TAP_TOGGLE_MAX: 0x58ff,\n  QK_LAYER_MOD: 0x5900,\n  QK_LAYER_MOD_MAX: 0x59ff,\n  QK_MOD_TAP: 0x6000,\n  QK_MOD_TAP_MAX: 0x7fff\n};\n\nconst modCodes = {\n  QK_LCTL: 0x0100,\n  QK_LSFT: 0x0200,\n  QK_LALT: 0x0400,\n  QK_LGUI: 0x0800,\n  QK_RMODS_MIN: 0x1000,\n  QK_RCTL: 0x1100,\n  QK_RSFT: 0x1200,\n  QK_RALT: 0x1400,\n  QK_RGUI: 0x1800\n};\n\nconst modMasks = {\n  MOD_LCTL: 0x0001,\n  MOD_LSFT: 0x0002,\n  MOD_LALT: 0x0004,\n  MOD_LGUI: 0x0008,\n  MOD_RCTL: 0x0011,\n  MOD_RSFT: 0x0012,\n  MOD_RALT: 0x0014,\n  MOD_RGUI: 0x0018,\n  MOD_HYPR: 0x000f,\n  MOD_MEH: 0x0007\n};\n\nconst ON_PRESS = 1;\n\nconst topLevelMacroToValue = {\n  DF: quantumRanges.QK_DEF_LAYER, //DF(layer)\n  MO: quantumRanges.QK_MOMENTARY, // MO(layer)\n  LM: quantumRanges.QK_LAYER_MOD, // LM(layer, mod)\n  LT: quantumRanges.QK_LAYER_TAP, // LT(layer, kc)\n  OSL: quantumRanges.QK_ONE_SHOT_LAYER, // OSL(layer)\n  TG: quantumRanges.QK_TOGGLE_LAYER, //  TG(layer)\n  TO: quantumRanges.QK_TO, // TO(layer)\n  TT: quantumRanges.QK_LAYER_TAP_TOGGLE, // TT(layer)\n  MT: quantumRanges.QK_MOD_TAP, // MT(mod, kc)\n  OSM: quantumRanges.QK_ONE_SHOT_MOD //OSM(mod)\n};\n\nconst modifierKeyToValue = {\n  LCTL: modCodes.QK_LCTL,\n  C: modCodes.QK_LCTL,\n  LSFT: modCodes.QK_LSFT,\n  S: modCodes.QK_LSFT,\n  LALT: modCodes.QK_LALT,\n  A: modCodes.QK_LALT,\n  LGUI: modCodes.QK_LGUI,\n  G: modCodes.QK_LGUI,\n  LCMD: modCodes.QK_LGUI,\n  LWIN: modCodes.QK_LGUI,\n  RCTL: modCodes.QK_RCTL,\n  RSFT: modCodes.QK_RSFT,\n  RALT: modCodes.QK_RALT,\n  ALGR: modCodes.QK_RALT,\n  RGUI: modCodes.QK_RGUI,\n  RCMD: modCodes.QK_RGUI,\n  RWIN: modCodes.QK_RGUI,\n  SGUI: modCodes.QK_LGUI | modCodes.QK_LSFT,\n  SCMD: modCodes.QK_LGUI | modCodes.QK_LSFT,\n  SWIN: modCodes.QK_LGUI | modCodes.QK_LSFT,\n  LCA: modCodes.QK_LCTL | modCodes.QK_LALT,\n  LCAG: modCodes.QK_LCTL | modCodes.QK_LALT | modCodes.QK_LGUI,\n  MEH: modCodes.QK_LCTL | modCodes.QK_LALT | modCodes.QK_LSFT,\n  HYPR:\n    modCodes.QK_LCTL | modCodes.QK_LALT | modCodes.QK_LSFT | modCodes.QK_LGUI\n};\n\nconst modifierValuetoKey = Object.entries(modifierKeyToValue).reduce(\n  (acc, [key, value]) => ({...acc, [value]: key}),\n  {}\n);\n\nconst topLevelValueToMacro = Object.entries(topLevelMacroToValue).reduce(\n  (acc, [key, value]) => ({...acc, [value]: key}),\n  {}\n);\n\nconst valueToRange = Object.entries(quantumRanges)\n  .map(([key, value]) => [value, key])\n  .sort((a, b) => (a[0] as number) - (b[0] as number));\n\n// MT, OSM, LM only take MOD\n// Everything else can use the KC mods\n// This is some brute forcey stuff, but it works.\n// If it returns 0, it means validation failed\nexport const advancedStringToKeycode = (inputString: string): number => {\n  const upperString = inputString.toUpperCase();\n  const parts = upperString.split(/\\(|\\)/).map(part => part.trim());\n  if (Object.keys(topLevelMacroToValue).includes(parts[0])) {\n    return parseTopLevelMacro(parts);\n  } else if (Object.keys(modifierKeyToValue).includes(parts[0])) {\n    return parseModifierCode(parts);\n  }\n  return 0;\n};\n\nexport const advancedKeycodeToString = (inputKeycode: number): string => {\n  /* Find the range we are in first */\n  let lastRange = null;\n  let lastValue;\n  for (let [value, rangeName] of valueToRange) {\n    if (inputKeycode < value) {\n      break;\n    }\n    lastRange = rangeName;\n    lastValue = value;\n  }\n  const topLevelModKeys = ['QK_MODS', 'QK_RMODS_MIN'];\n  if (topLevelModKeys.includes(lastRange)) {\n    return topLevelModToString(inputKeycode);\n  }\n  let humanReadable = topLevelValueToMacro[lastValue] + '(';\n  let remainder = inputKeycode & ~lastValue;\n  let layer = 0;\n  let keycode = '';\n  let modValue = 0;\n  switch (lastRange) {\n    case 'QK_MOMENTARY':\n    case 'QK_DEF_LAYER':\n    case 'QK_TOGGLE_LAYER':\n    case 'QK_ONE_SHOT_LAYER':\n    case 'QK_LAYER_TAP_TOGGLE':\n      humanReadable += remainder + ')';\n      break;\n    case 'QK_LAYER_TAP':\n      layer = remainder >> 8;\n      keycode = byteToKey[remainder & 0xff];\n      humanReadable += layer + ',' + keycode + ')';\n      break;\n    case 'QK_TO':\n      layer = ~(ON_PRESS << 4) & remainder;\n      humanReadable += layer + ')';\n      break;\n    case 'QK_ONE_SHOT_MOD':\n      humanReadable += modValueToString(remainder) + ')';\n      break;\n    case 'QK_LAYER_MOD':\n      layer = remainder >> 4;\n      modValue = remainder & 0xf;\n      humanReadable += layer + ',' + modValueToString(modValue) + ')';\n      break;\n    case 'QK_MOD_TAP':\n      modValue = (remainder >> 8) & 0x1f;\n      keycode = byteToKey[remainder & 0xff];\n      humanReadable += modValueToString(modValue) + ',' + keycode + ')';\n      break;\n    default:\n      humanReadable = null;\n  }\n  return humanReadable;\n};\n\nconst modValueToString = (modMask: number): string => {\n  const excluded = ['MOD_HYPR', 'MOD_MEH'];\n  const qualifyingStrings = Object.entries(modMasks)\n    .filter(\n      part => !excluded.includes(part[0]) && (part[1] & modMask) === part[1]\n    )\n    .map(part => part[0]);\n  return qualifyingStrings.join(' | ');\n};\n\nconst topLevelModToString = (modNumber: number): string => {\n  const keycode = byteToKey[modNumber & 0x00ff];\n  const enabledMods = Object.entries(modifierValuetoKey)\n    .filter(part => {\n      const current = Number.parseInt(part[0]);\n      return (current & modNumber) === current;\n    })\n    .map(part => part[1]);\n  return enabledMods.join('(') + '(' + keycode + ')'.repeat(enabledMods.length);\n};\n\nconst parseTopLevelMacro = (inputParts: string[]): number => {\n  const topLevelKey = inputParts[0];\n  const parameter = inputParts[1];\n  let [param1, param2] = ['', ''];\n  let layer = 0;\n  let mods = 0;\n  switch (topLevelKey) {\n    case 'MO':\n    case 'DF':\n    case 'TG':\n    case 'OSL':\n    case 'TT':\n      layer = Number.parseInt(parameter);\n      if (layer === NaN || layer < 0) {\n        return 0;\n      }\n      return topLevelMacroToValue[topLevelKey] | (layer & 0xff);\n    case 'TO': //#define TO(layer) (QK_TO | (ON_PRESS << 0x4) | ((layer)&0xFF))\n      layer = Number.parseInt(parameter);\n      if (layer === NaN || layer < 0) {\n        return 0;\n      }\n      return (\n        topLevelMacroToValue[topLevelKey] | (ON_PRESS << 0x4) | (layer & 0xff)\n      );\n    case 'OSM': //#define OSM(mod) (QK_ONE_SHOT_MOD | ((mod)&0xFF))\n      mods = parseMods(parameter);\n      if (mods === 0) {\n        return 0;\n      }\n      return topLevelMacroToValue[topLevelKey] | (mods & 0xff);\n    case 'LM': //#define LM(layer, mod) (QK_LAYER_MOD | (((layer)&0xF) << 4) | ((mod)&0xF))\n      [param1, param2] = parameter.split(',').map(s => s.trim());\n      layer = Number.parseInt(param1);\n      mods = parseMods(param2);\n      if (layer === NaN || layer < 0 || mods === 0) {\n        return 0;\n      }\n      return (\n        topLevelMacroToValue[topLevelKey] | ((layer & 0xf) << 4) | (mods & 0xff)\n      );\n    case 'LT': //#define LT(layer, kc) (QK_LAYER_TAP | (((layer)&0xF) << 8) | ((kc)&0xFF))\n      [param1, param2] = parameter.split(',').map(s => s.trim());\n      layer = Number.parseInt(param1);\n      if (\n        layer === NaN ||\n        layer < 0 ||\n        !basicKeyToByte.hasOwnProperty(param2)\n      ) {\n        return 0;\n      }\n      return (\n        topLevelMacroToValue[topLevelKey] |\n        ((layer & 0xf) << 8) |\n        basicKeyToByte[param2]\n      );\n    case 'MT': // #define MT(mod, kc) (QK_MOD_TAP | (((mod)&0x1F) << 8) | ((kc)&0xFF))\n      [param1, param2] = parameter.split(',').map(s => s.trim());\n      mods = parseMods(param1);\n      if (mods === 0 || !basicKeyToByte.hasOwnProperty(param2)) {\n        return 0;\n      }\n      return (\n        topLevelMacroToValue[topLevelKey] |\n        ((mods & 0x1f) << 8) |\n        (basicKeyToByte[param2] & 0xff)\n      );\n    default:\n      return 0;\n  }\n};\n\nconst parseMods = (input: string): number => {\n  const parts = input.split('|').map(s => s.trim());\n  if (\n    !parts.reduce((acc, part) => acc && modMasks.hasOwnProperty(part), true)\n  ) {\n    return 0;\n  }\n  return parts.reduce((acc, part) => acc | modMasks[part], 0);\n};\n\nconst parseModifierCode = (inputParts: string[]): number => {\n  const realParts = inputParts.filter(nonce => nonce.length !== 0);\n  const bytes = realParts.map((part, idx) => {\n    if (idx === realParts.length - 1) {\n      /* this must be a KC code */\n      return basicKeyToByte.hasOwnProperty(part) ? basicKeyToByte[part] : null;\n    } else {\n      /* This must be a top level modifier */\n      return modifierKeyToValue.hasOwnProperty(part)\n        ? modifierKeyToValue[part]\n        : null;\n    }\n  });\n  if (bytes.find(e => e === null)) {\n    return 0;\n  }\n  return bytes.reduce((acc, byte) => acc | byte, 0);\n};\n\nexport const anyKeycodeToString = (input: number) => {\n  let currentValue = '';\n  const advancedParsed = advancedKeycodeToString(input);\n  if (byteToKey[input]) {\n    currentValue = byteToKey[input];\n  } else if (advancedParsed !== null) {\n    currentValue = advancedParsed;\n  }\n  return currentValue;\n};\n","import {\n  advancedKeycodeToString,\n  advancedStringToKeycode\n} from './advanced-keys';\n\nexport interface IKeycode {\n  name: string;\n  code: string;\n  title?: string;\n  shortName?: string;\n  keys?: string;\n  width?: number;\n  type?: 'container' | 'text' | 'layer';\n  layer?: number;\n}\n\nexport interface IKeycodeMenu {\n  label: string;\n  keycodes: IKeycode[];\n  width?: 'label';\n  detailed?: string;\n}\n\n// Tests if label is an alpha\nexport function isAlpha(label) {\n  return /[A-Za-z]/.test(label) && label.length === 1;\n}\n\n// Tests if label is a number\nexport function isNumericOrShiftedSymbol(label) {\n  const numbersTop = '!@#$%^&*()_+|~{}:\"<>?1234567890'.split('');\n  return label.length === 1 && numbersTop.includes(label[0]);\n}\n\n// Tests if label is a number\nexport function isNumericSymbol(label) {\n  const numbersTop = '!@#$%^&*()_+|~{}:\"<>?'.split('');\n  return label.length !== 1 && numbersTop.includes(label[0]);\n}\n\n// Tests if label is a macro\nexport function isMacro(label) {\n  return /^M\\d+$/.test(label);\n}\n\n// Maps the byte value to the keycode\nexport function getByteForCode(code) {\n  const byte: number | undefined = basicKeyToByte[code];\n  if (byte !== undefined) {\n    return byte;\n  } else if (isLayerCode(code)) {\n    return getByteForLayerCode(code);\n  } else if (advancedStringToKeycode(code) !== null) {\n    return advancedStringToKeycode(code);\n  }\n  throw `Could not find byte for ${code}`;\n}\n\nconst QK_MO = 0x5100;\nconst QK_TO = 0x5000;\nconst QK_OSL = 0x5400;\nconst QK_TG = 0x5300;\nconst QK_TT = 0x5800;\nconst QK_DF = 0x5200;\n\n// Some magic for TO(layer)\nconst ON_PRESS = 1;\n//const ON_RELEASE = 2;\n\nfunction isLayerCode(code) {\n  return /([A-Za-z]+)\\((\\d+)\\)/.test(code);\n}\n\nfunction getByteForLayerCode(keycode): number {\n  const [, code, layer] = keycode.match(/([A-Za-z]+)\\((\\d+)\\)/);\n  const numLayer = parseInt(layer);\n  switch (code) {\n    case 'MO': {\n      return QK_MO | numLayer;\n    }\n    case 'TG': {\n      return QK_TG | numLayer;\n    }\n    case 'TO': {\n      return QK_TO | (ON_PRESS << 4) | (numLayer & 0x0f);\n    }\n    case 'TT': {\n      return QK_TT | numLayer;\n    }\n    case 'DF': {\n      return QK_DF | numLayer;\n    }\n    case 'OSL': {\n      return QK_OSL | numLayer;\n    }\n    default: {\n      throw 'Incorrect code';\n    }\n  }\n}\n\nfunction getCodeForLayerByte(byte) {\n  const layer = byte & 0xff;\n  if (QK_MO <= byte && (QK_MO | 0xff) >= byte) {\n    return `MO(${layer})`;\n  } else if (QK_TO <= byte && (QK_TO | 0xff) >= byte) {\n    const layer2 = byte & 0x0f;\n    return `TO(${layer2})`;\n  } else if (QK_OSL <= byte && (QK_OSL | 0xff) >= byte) {\n    return `OSL(${layer})`;\n  } else if (QK_TG <= byte && (QK_TG | 0xff) >= byte) {\n    return `TG(${layer})`;\n  } else if (QK_TT <= byte && (QK_TT | 0xff) >= byte) {\n    return `TT(${layer})`;\n  } else if (QK_DF <= byte && (QK_DF | 0xff) >= byte) {\n    return `DF(${layer})`;\n  }\n}\n\n// Todo remove duplicates\nexport const basicKeyToByte = require('./key-to-byte.json5');\n\nexport const keycodesList = getKeycodes().reduce<IKeycode[]>(\n  (p, n) => p.concat(n.keycodes),\n  []\n);\n\nconsole.log(\n  'correct list',\n  Object.keys(basicKeyToByte).filter(key =>\n    keycodesList.map(({code}) => code).includes(key)\n  )\n);\nconsole.log(\n  'missing list',\n  Object.keys(basicKeyToByte).filter(\n    key => !keycodesList.map(({code}) => code).includes(key)\n  )\n);\n\nexport const byteToKey = Object.keys(basicKeyToByte).reduce((p, n) => {\n  const key = basicKeyToByte[n];\n  if (key in p) {\n    const basicKeycode = keycodesList.find(({code}) => code === n);\n    if (basicKeycode) {\n      return {...p, [key]: basicKeycode.code};\n    }\n    console.log('skipping:', n);\n    return p;\n  }\n  return {...p, [key]: n};\n}, {});\n\nexport function getCodeForByte(byte) {\n  const keycode = byteToKey[byte];\n  if (keycode) {\n    return keycode;\n  } else if (isLayerKey(byte)) {\n    return getCodeForLayerByte(byte);\n  } else if (advancedKeycodeToString(byte) !== null) {\n    return advancedKeycodeToString(byte);\n  } else {\n    return '0x' + Number(byte).toString(16);\n  }\n}\n\nexport function keycodeInMaster(keycode) {\n  return keycode in basicKeyToByte || isLayerCode(keycode);\n}\n\nfunction shorten(str) {\n  return str\n    .split(' ')\n    .map(word => word.slice(0, 1) + word.slice(1).replace(/[aeiou ]/gi, ''))\n    .join('');\n}\n\nexport function isUserKeycodeByte(byte) {\n  return byte >= basicKeyToByte.USER00 && byte <= basicKeyToByte.USER15;\n}\n\nexport function getUserKeycodeIndex(byte) {\n  return byte - basicKeyToByte.USER00;\n}\n\nexport function getLabelForByte(byte, size = 100) {\n  const keycode = getCodeForByte(byte);\n  const basicKeycode = keycodesList.find(({code}) => code === keycode);\n  if (!basicKeycode) {\n    return keycode;\n  }\n  return getShortNameForKeycode(basicKeycode, size);\n}\n\nexport function getShortNameForKeycode(keycode, size = 100) {\n  const {code, name, shortName} = keycode;\n  if (size <= 150 && shortName) {\n    return shortName;\n  }\n  if (size === 100 && name.length > 5) {\n    const shortenedName = shorten(name);\n    if (!!code) {\n      const shortCode = code.replace('KC_', '').replace('_', ' ');\n      return shortenedName.length > 4 && shortCode.length < shortenedName.length\n        ? shortCode\n        : shortenedName;\n    }\n    return shortenedName;\n  }\n  return name;\n}\n\nexport function mapEvtToKeycode(evt) {\n  switch (evt.code) {\n    case 'Digit1': {\n      return 'KC_1';\n    }\n    case 'Digit2': {\n      return 'KC_2';\n    }\n    case 'Digit3': {\n      return 'KC_3';\n    }\n    case 'Digit4': {\n      return 'KC_4';\n    }\n    case 'Digit5': {\n      return 'KC_5';\n    }\n    case 'Digit6': {\n      return 'KC_6';\n    }\n    case 'Digit7': {\n      return 'KC_7';\n    }\n    case 'Digit8': {\n      return 'KC_8';\n    }\n    case 'Digit9': {\n      return 'KC_9';\n    }\n    case 'Digit0': {\n      return 'KC_0';\n    }\n    case 'KeyA': {\n      return 'KC_A';\n    }\n    case 'KeyB': {\n      return 'KC_B';\n    }\n    case 'KeyC': {\n      return 'KC_C';\n    }\n    case 'KeyD': {\n      return 'KC_D';\n    }\n    case 'KeyB': {\n      return 'KC_B';\n    }\n    case 'KeyC': {\n      return 'KC_C';\n    }\n    case 'KeyD': {\n      return 'KC_D';\n    }\n    case 'KeyE': {\n      return 'KC_E';\n    }\n    case 'KeyF': {\n      return 'KC_F';\n    }\n    case 'KeyG': {\n      return 'KC_G';\n    }\n    case 'KeyH': {\n      return 'KC_H';\n    }\n    case 'KeyI': {\n      return 'KC_I';\n    }\n    case 'KeyJ': {\n      return 'KC_J';\n    }\n    case 'KeyK': {\n      return 'KC_K';\n    }\n    case 'KeyL': {\n      return 'KC_L';\n    }\n    case 'KeyM': {\n      return 'KC_M';\n    }\n    case 'KeyN': {\n      return 'KC_N';\n    }\n    case 'KeyO': {\n      return 'KC_O';\n    }\n    case 'KeyP': {\n      return 'KC_P';\n    }\n    case 'KeyQ': {\n      return 'KC_Q';\n    }\n    case 'KeyR': {\n      return 'KC_R';\n    }\n    case 'KeyS': {\n      return 'KC_S';\n    }\n    case 'KeyT': {\n      return 'KC_T';\n    }\n    case 'KeyU': {\n      return 'KC_U';\n    }\n    case 'KeyV': {\n      return 'KC_V';\n    }\n    case 'KeyW': {\n      return 'KC_W';\n    }\n    case 'KeyX': {\n      return 'KC_X';\n    }\n    case 'KeyY': {\n      return 'KC_Y';\n    }\n    case 'KeyZ': {\n      return 'KC_Z';\n    }\n    case 'Comma': {\n      return 'KC_COMM';\n    }\n    case 'Period': {\n      return 'KC_DOT';\n    }\n    case 'Semicolon': {\n      return 'KC_SCLN';\n    }\n    case 'Quote': {\n      return 'KC_QUOT';\n    }\n    case 'BracketLeft': {\n      return 'KC_LBRC';\n    }\n    case 'BracketRight': {\n      return 'KC_RBRC';\n    }\n    case 'Backquote': {\n      return 'KC_GRV';\n    }\n    case 'Slash': {\n      return 'KC_SLSH';\n    }\n    case 'Backspace': {\n      return 'KC_BSPC';\n    }\n    case 'Backslash': {\n      return 'KC_BSLS';\n    }\n    case 'Minus': {\n      return 'KC_MINS';\n    }\n    case 'Equal': {\n      return 'KC_EQL';\n    }\n    case 'IntlRo': {\n      return 'KC_RO';\n    }\n    case 'IntlYen': {\n      return 'KC_JYEN';\n    }\n    case 'AltLeft': {\n      return 'KC_LALT';\n    }\n    case 'AltRight': {\n      return 'KC_RALT';\n    }\n    case 'CapsLock': {\n      return 'KC_CAPS';\n    }\n    case 'ControlLeft': {\n      return 'KC_LCTL';\n    }\n    case 'ControlRight': {\n      return 'KC_RCTL';\n    }\n    case 'MetaLeft': {\n      return 'KC_LGUI';\n    }\n    case 'MetaRight': {\n      return 'KC_RGUI';\n    }\n    case 'OSLeft': {\n      return 'KC_LGUI';\n    }\n    case 'OSRight': {\n      return 'KC_RGUI';\n    }\n    case 'ShiftLeft': {\n      return 'KC_LSFT';\n    }\n    case 'ShiftRight': {\n      return 'KC_RSFT';\n    }\n    case 'ContextMenu': {\n      return 'KC_APP';\n    }\n    case 'Apps': {\n      return 'KC_APP';\n    }\n    case 'Enter': {\n      return 'KC_ENT';\n    }\n    case 'Space': {\n      return 'KC_SPC';\n    }\n    case 'Tab': {\n      return 'KC_TAB';\n    }\n    case 'Delete': {\n      return 'KC_DEL';\n    }\n    case 'End': {\n      return 'KC_END';\n    }\n    case 'Help': {\n      return 'KC_HELP';\n    }\n    case 'Home': {\n      return 'KC_HOME';\n    }\n    case 'Insert': {\n      return 'KC_INS';\n    }\n    case 'PageDown': {\n      return 'KC_PGDN';\n    }\n    case 'PageUp': {\n      return 'KC_PGUP';\n    }\n    case 'ArrowDown': {\n      return 'KC_DOWN';\n    }\n    case 'ArrowLeft': {\n      return 'KC_LEFT';\n    }\n    case 'ArrowRight': {\n      return 'KC_RGHT';\n    }\n    case 'ArrowUp': {\n      return 'KC_UP';\n    }\n    case 'Escape': {\n      return 'KC_ESC';\n    }\n    case 'PrintScreen': {\n      return 'KC_PSCR';\n    }\n    case 'ScrollLock': {\n      return 'KC_SLCK';\n    }\n    case 'Pause': {\n      return 'KC_PAUS';\n    }\n    case 'F1': {\n      return 'KC_F1';\n    }\n    case 'F2': {\n      return 'KC_F2';\n    }\n    case 'F3': {\n      return 'KC_F3';\n    }\n    case 'F4': {\n      return 'KC_F4';\n    }\n    case 'F5': {\n      return 'KC_F5';\n    }\n    case 'F6': {\n      return 'KC_F6';\n    }\n    case 'F7': {\n      return 'KC_F7';\n    }\n    case 'F8': {\n      return 'KC_F8';\n    }\n    case 'F9': {\n      return 'KC_F9';\n    }\n    case 'F10': {\n      return 'KC_F10';\n    }\n    case 'F11': {\n      return 'KC_F11';\n    }\n    case 'F12': {\n      return 'KC_F12';\n    }\n    case 'F13': {\n      return 'KC_F13';\n    }\n    case 'F14': {\n      return 'KC_F14';\n    }\n    case 'F15': {\n      return 'KC_F15';\n    }\n    case 'F16': {\n      return 'KC_F16';\n    }\n    case 'F17': {\n      return 'KC_F17';\n    }\n    case 'F18': {\n      return 'KC_F18';\n    }\n    case 'F19': {\n      return 'KC_F19';\n    }\n    case 'F20': {\n      return 'KC_F20';\n    }\n    case 'F21': {\n      return 'KC_F21';\n    }\n    case 'F22': {\n      return 'KC_F22';\n    }\n    case 'F23': {\n      return 'KC_F23';\n    }\n    case 'F24': {\n      return 'KC_F24';\n    }\n    case 'NumLock': {\n      return 'KC_NLCK';\n    }\n    case 'Numpad0': {\n      return 'KC_P0';\n    }\n    case 'Numpad1': {\n      return 'KC_P1';\n    }\n    case 'Numpad2': {\n      return 'KC_P2';\n    }\n    case 'Numpad3': {\n      return 'KC_P3';\n    }\n    case 'Numpad4': {\n      return 'KC_P4';\n    }\n    case 'Numpad5': {\n      return 'KC_P5';\n    }\n    case 'Numpad6': {\n      return 'KC_P6';\n    }\n    case 'Numpad7': {\n      return 'KC_P7';\n    }\n    case 'Numpad8': {\n      return 'KC_P8';\n    }\n    case 'Numpad9': {\n      return 'KC_P9';\n    }\n    case 'NumpadAdd': {\n      return 'KC_PPLS';\n    }\n    case 'NumpadComma': {\n      return 'KC_COMM';\n    }\n    case 'NumpadDecimal': {\n      return 'KC_PDOT';\n    }\n    case 'NumpadDivide': {\n      return 'KC_PSLS';\n    }\n    case 'NumpadEnter': {\n      return 'KC_PENT';\n    }\n    case 'NumpadEqual': {\n      return 'KC_PEQL';\n    }\n    case 'NumpadMultiply': {\n      return 'KC_PAST';\n    }\n    case 'NumpadSubtract': {\n      return 'KC_PMNS';\n    }\n    default:\n      console.error('Unreacheable keydown code', evt);\n  }\n}\n\nfunction isLayerKey(byte) {\n  return [QK_DF, QK_MO, QK_OSL, QK_TG, QK_TO, QK_TT].some(\n    code => byte >= code && byte <= (code | 0xff)\n  );\n}\n\nexport function getKeycodeForByte(byte) {\n  const keycode = byteToKey[byte];\n  const basicKeycode = keycodesList.find(({code}) => code === keycode);\n  const advancedString = advancedKeycodeToString(byte);\n  return (basicKeycode && basicKeycode.code) || advancedString || keycode;\n}\n\nexport function getOtherMenu(): IKeycodeMenu {\n  const otherKeycodes = Object.keys(basicKeyToByte)\n    .filter(key => !keycodesList.map(({code}) => code).includes(key))\n    .map(code => ({\n      name: code.replace('KC_', '').replace(/_/g, ' '),\n      code: code\n    }));\n  //const staticList = [\n  //  {name: 'F13', code: 'KC_F13'},\n  //  {name: 'F14', code: 'KC_F14'},\n  //  {name: 'F15', code: 'KC_F15'},\n  //  {name: 'F16', code: 'KC_F16'},\n  //  {name: 'F17', code: 'KC_F17'},\n  //  {name: 'F18', code: 'KC_F18'},\n  //  {name: 'F19', code: 'KC_F19'},\n  //  {name: 'F20', code: 'KC_F20'},\n  //  {name: 'F21', code: 'KC_F21'},\n  //  {name: 'F22', code: 'KC_F22'},\n  //  {name: 'F23', code: 'KC_F23'},\n  //  {name: 'F24', code: 'KC_F24'}\n  //];\n\n  return {\n    label: 'Other',\n    keycodes: [].concat(otherKeycodes)\n  };\n}\n\nexport function buildLayerMenu(): IKeycodeMenu {\n  const hardCodedKeycodes: IKeycode[] = [\n    {\n      name: 'Fn1\\n(Fn3)',\n      code: 'FN_MO13',\n      title: 'Hold = Layer 1, Hold with Fn2 = Layer 3',\n      shortName: 'Fn1(3)'\n    },\n    {\n      name: 'Fn2\\n(Fn3)',\n      code: 'FN_MO23',\n      title: 'Hold = Layer 2, Hold with Fn1 = Layer 3',\n      shortName: 'Fn2(3)'\n    },\n    {\n      name: 'Space Fn1',\n      code: 'SPC_FN1',\n      title: 'Hold = Layer 1, Tap = Space',\n      shortName: 'Spc Fn1'\n    },\n    {\n      name: 'Space Fn2',\n      code: 'SPC_FN2',\n      title: 'Hold = Layer 2, Tap = Space',\n      shortName: 'Spc Fn2'\n    },\n    {\n      name: 'Space Fn3',\n      code: 'SPC_FN3',\n      title: 'Hold = Layer 3, Tap = Space',\n      shortName: 'Spc Fn3'\n    }\n  ];\n\n  const menu: IKeycodeMenu = {\n    label: 'Layers',\n    width: 'label',\n    keycodes: [\n      {\n        name: 'MO',\n        code: 'MO(layer)',\n        type: 'layer',\n        layer: 0,\n        title: 'Momentary turn layer on'\n      },\n      {\n        name: 'TG',\n        code: 'TG(layer)',\n        type: 'layer',\n        layer: 0,\n        title: 'Toggle layer on/off'\n      },\n      {\n        name: 'TT',\n        code: 'TT(layer)',\n        type: 'layer',\n        layer: 0,\n        title:\n          \"Normally acts like MO unless it's tapped multple times which toggles layer on\"\n      },\n      {\n        name: 'OSL',\n        code: 'OSL(layer)',\n        type: 'layer',\n        layer: 0,\n        title: 'Switch to layer for one keypress'\n      },\n      {\n        name: 'TO',\n        code: 'TO(layer)',\n        type: 'layer',\n        layer: 0,\n        title: 'Turn on layer when pressed'\n      }\n      /* Users are not ready for this ;-)\n      {\n        name: 'DF',\n        code: 'DF(layer)',\n        type: 'layer',\n        layer: 0,\n        title: 'Sets the default layer'\n      }\n      */\n    ]\n  };\n\n  // Statically generate layer codes from 0-9 instead of making it an input\n  return {\n    ...menu,\n    keycodes: [\n      ...hardCodedKeycodes,\n      ...menu.keycodes.flatMap(keycode => {\n        let res = [];\n        for (let idx = 0; idx < 10; idx++) {\n          const newTitle = keycode.title.replace('layer', `layer ${idx}`);\n          const newCode = keycode.code.replace('layer', `${idx}`);\n          const newName = keycode.name + `(${idx})`;\n          res = [\n            ...res,\n            {...keycode, name: newName, title: newTitle, code: newCode}\n          ];\n        }\n        return res;\n      })\n    ]\n  };\n}\n\nexport function getKeycodes(): IKeycodeMenu[] {\n  return [\n    {\n      label: 'Basic',\n      keycodes: [\n        {name: '', code: 'KC_NO', title: 'Nothing'},\n        {name: '▽', code: 'KC_TRNS', title: 'Pass-through'},\n        // TODO: remove \"shortName\" when multiline keycap labels are working\n        {name: 'Esc', code: 'KC_ESC', keys: 'esc'},\n        {name: 'A', code: 'KC_A', keys: 'a'},\n        {name: 'B', code: 'KC_B', keys: 'b'},\n        {name: 'C', code: 'KC_C', keys: 'c'},\n        {name: 'D', code: 'KC_D', keys: 'd'},\n        {name: 'E', code: 'KC_E', keys: 'e'},\n        {name: 'F', code: 'KC_F', keys: 'f'},\n        {name: 'G', code: 'KC_G', keys: 'g'},\n        {name: 'H', code: 'KC_H', keys: 'h'},\n        {name: 'I', code: 'KC_I', keys: 'i'},\n        {name: 'J', code: 'KC_J', keys: 'j'},\n        {name: 'K', code: 'KC_K', keys: 'k'},\n        {name: 'L', code: 'KC_L', keys: 'l'},\n        {name: 'M', code: 'KC_M', keys: 'm'},\n        {name: 'N', code: 'KC_N', keys: 'n'},\n        {name: 'O', code: 'KC_O', keys: 'o'},\n        {name: 'P', code: 'KC_P', keys: 'p'},\n        {name: 'Q', code: 'KC_Q', keys: 'q'},\n        {name: 'R', code: 'KC_R', keys: 'r'},\n        {name: 'S', code: 'KC_S', keys: 's'},\n        {name: 'T', code: 'KC_T', keys: 't'},\n        {name: 'U', code: 'KC_U', keys: 'u'},\n        {name: 'V', code: 'KC_V', keys: 'v'},\n        {name: 'W', code: 'KC_W', keys: 'w'},\n        {name: 'X', code: 'KC_X', keys: 'x'},\n        {name: 'Y', code: 'KC_Y', keys: 'y'},\n        {name: 'Z', code: 'KC_Z', keys: 'z'},\n        {name: '!\\n1', code: 'KC_1', keys: '1'},\n        {name: '@\\n2', code: 'KC_2', keys: '2'},\n        {name: '#\\n3', code: 'KC_3', keys: '3'},\n        {name: '$\\n4', code: 'KC_4', keys: '4'},\n        {name: '%\\n5', code: 'KC_5', keys: '5'},\n        {name: '^\\n6', code: 'KC_6', keys: '6'},\n        {name: '&\\n7', code: 'KC_7', keys: '7'},\n        {name: '*\\n8', code: 'KC_8', keys: '8'},\n        {name: '(\\n9', code: 'KC_9', keys: '9'},\n        {name: ')\\n0', code: 'KC_0', keys: '0'},\n        {name: '_\\n-', code: 'KC_MINS', keys: '-'},\n        {name: '+\\n=', code: 'KC_EQL', keys: '='},\n        {name: '~\\n`', code: 'KC_GRV', keys: '`'},\n        {name: '{\\n[', code: 'KC_LBRC', keys: '['},\n        {name: '}\\n]', code: 'KC_RBRC', keys: ']'},\n        {name: '|\\n\\\\', code: 'KC_BSLS', keys: '\\\\', width: 1500},\n        {name: ':\\n;', code: 'KC_SCLN', keys: ';'},\n        {name: '\"\\n\\'', code: 'KC_QUOT', keys: \"'\"},\n        {name: '<\\n,', code: 'KC_COMM', keys: ','},\n        {name: '>\\n.', code: 'KC_DOT', keys: '.'},\n        {name: '?\\n/', code: 'KC_SLSH', keys: '/'},\n        {name: '=', code: 'KC_PEQL'},\n        {name: ',', code: 'KC_PCMM'},\n        {name: 'F1', code: 'KC_F1'},\n        {name: 'F2', code: 'KC_F2'},\n        {name: 'F3', code: 'KC_F3'},\n        {name: 'F4', code: 'KC_F4'},\n        {name: 'F5', code: 'KC_F5'},\n        {name: 'F6', code: 'KC_F6'},\n        {name: 'F7', code: 'KC_F7'},\n        {name: 'F8', code: 'KC_F8'},\n        {name: 'F9', code: 'KC_F9'},\n        {name: 'F10', code: 'KC_F10'},\n        {name: 'F11', code: 'KC_F11'},\n        {name: 'F12', code: 'KC_F12'},\n        {name: 'Print Screen', code: 'KC_PSCR', shortName: 'Print'},\n        {name: 'Scroll Lock', code: 'KC_SLCK', shortName: 'Scroll'},\n        {name: 'Pause', code: 'KC_PAUS'},\n        {name: 'Tab', code: 'KC_TAB', keys: 'tab', width: 1500},\n        {\n          name: 'Backspace',\n          code: 'KC_BSPC',\n          keys: 'backspace',\n          width: 2000,\n          shortName: 'Bksp'\n        },\n        {name: 'Insert', code: 'KC_INS', keys: 'insert', shortName: 'Ins'},\n        {name: 'Del', code: 'KC_DEL', keys: 'delete'},\n        {name: 'Home', code: 'KC_HOME', keys: 'home'},\n        {name: 'End', code: 'KC_END', keys: 'end'},\n        {name: 'Page Up', code: 'KC_PGUP', keys: 'pageup', shortName: 'PgUp'},\n        {\n          name: 'Page Down',\n          code: 'KC_PGDN',\n          keys: 'pagedown',\n          shortName: 'PgDn'\n        },\n        {name: 'Num\\nLock', code: 'KC_NLCK', keys: 'num', shortName: 'N.Lck'},\n        {name: 'Caps Lock', code: 'KC_CAPS', keys: 'caps_lock', width: 1750},\n        {name: 'Enter', code: 'KC_ENT', keys: 'enter', width: 2250},\n        {name: '1', code: 'KC_P1', keys: 'num_1', title: 'Numpad 1'},\n        {name: '2', code: 'KC_P2', keys: 'num_2', title: 'Numpad 2'},\n        {name: '3', code: 'KC_P3', keys: 'num_3', title: 'Numpad 3'},\n        {name: '4', code: 'KC_P4', keys: 'num_4', title: 'Numpad 4'},\n        {name: '5', code: 'KC_P5', keys: 'num_5', title: 'Numpad 5'},\n        {name: '6', code: 'KC_P6', keys: 'num_6', title: 'Numpad 6'},\n        {name: '7', code: 'KC_P7', keys: 'num_7', title: 'Numpad 7'},\n        {name: '8', code: 'KC_P8', keys: 'num_8', title: 'Numpad 8'},\n        {name: '9', code: 'KC_P9', keys: 'num_9', title: 'Numpad 9'},\n        {\n          name: '0',\n          code: 'KC_P0',\n          width: 2000,\n          keys: 'num_0',\n          title: 'Numpad 0'\n        },\n        {name: '/', code: 'KC_PSLS', keys: 'num_divide', title: 'Numpad /'},\n        {name: '*', code: 'KC_PAST', keys: 'num_multiply', title: 'Numpad *'},\n        {name: '-', code: 'KC_PMNS', keys: 'num_subtract', title: 'Numpad -'},\n        {name: '+', code: 'KC_PPLS', keys: 'num_add', title: 'Numpad +'},\n        {name: '.', code: 'KC_PDOT', keys: 'num_decimal', title: 'Numpad .'},\n        {\n          name: 'Num\\nEnter',\n          code: 'KC_PENT',\n          shortName: 'N.Ent',\n          title: 'Numpad Enter'\n        },\n        {\n          name: 'Left Shift',\n          code: 'KC_LSFT',\n          keys: 'shift',\n          width: 2250,\n          shortName: 'LShft'\n        },\n        {name: 'Right Shift', code: 'KC_RSFT', width: 2750, shortName: 'RShft'},\n        {name: 'Left Ctrl', code: 'KC_LCTL', keys: 'ctrl', width: 1250},\n        {name: 'Right Ctrl', code: 'KC_RCTL', width: 1250, shortName: 'RCtl'},\n        {\n          name: 'Left Win',\n          code: 'KC_LGUI',\n          keys: 'cmd',\n          width: 1250,\n          shortName: 'LWin'\n        },\n        {name: 'Right Win', code: 'KC_RGUI', width: 1250, shortName: 'RWin'},\n        {\n          name: 'Left Alt',\n          code: 'KC_LALT',\n          keys: 'alt',\n          width: 1250,\n          shortName: 'LAlt'\n        },\n        {name: 'Right Alt', code: 'KC_RALT', width: 1250, shortName: 'RAlt'},\n        {name: 'Space', code: 'KC_SPC', keys: 'space', width: 6250},\n        {name: 'Menu', code: 'KC_APP', width: 1250, shortName: 'RApp'},\n        {name: 'Left', code: 'KC_LEFT', keys: 'left', shortName: '←'},\n        {name: 'Down', code: 'KC_DOWN', keys: 'down', shortName: '↓'},\n        {name: 'Up', code: 'KC_UP', keys: 'up', shortName: '↑'},\n        {name: 'Right', code: 'KC_RGHT', keys: 'right', shortName: '→'}\n      ]\n    },\n    {\n      label: 'Lighting',\n      width: 'label',\n      keycodes: [\n        {name: 'BR -', code: 'BR_DEC', title: 'Brightness -'},\n        {name: 'BR +', code: 'BR_INC', title: 'Brightness +'},\n        {name: 'EF -', code: 'EF_DEC', title: 'Effect -'},\n        {name: 'EF +', code: 'EF_INC', title: 'Effect +'},\n        {name: 'ES -', code: 'ES_DEC', title: 'Effect Speed -'},\n        {name: 'ES +', code: 'ES_INC', title: 'Effect Speed +'},\n        {name: 'H1 -', code: 'H1_DEC', title: 'Color1 Hue -'},\n        {name: 'H1 +', code: 'H1_INC', title: 'Color1 Hue +'},\n        {name: 'H2 -', code: 'H2_DEC', title: 'Color2 Hue -'},\n        {name: 'H2 +', code: 'H2_INC', title: 'Color2 Hue +'},\n        {name: 'S1 -', code: 'S1_DEC', title: 'Color1 Sat -'},\n        {name: 'S1 +', code: 'S1_INC', title: 'Color1 Sat +'},\n        {name: 'S2 -', code: 'S2_DEC', title: 'Color2 Sat -'},\n        {name: 'S2 +', code: 'S2_INC', title: 'Color2 Sat +'}\n      ]\n    },\n    {\n      label: 'Media',\n      width: 'label',\n      keycodes: [\n        {name: 'Vol -', code: 'KC_VOLD', title: 'Volume Down'},\n        {name: 'Vol +', code: 'KC_VOLU', title: 'Volume Up'},\n        {name: 'Mute', code: 'KC_MUTE', title: 'Mute Audio'},\n        {name: 'Play', code: 'KC_MPLY', title: 'Play/Pause'},\n        {name: 'Media Stop', code: 'KC_MSTP', title: 'Media Stop'},\n        {name: 'Previous', code: 'KC_MPRV', title: 'Media Previous'},\n        {name: 'Next', code: 'KC_MNXT', title: 'Media Next'},\n        {name: 'Rewind', code: 'KC_MRWD', title: 'Rewind'},\n        {name: 'Fast Forward', code: 'KC_MFFD', title: 'Fast Forward'},\n        {name: 'Select', code: 'KC_MSEL', title: 'Media Select'},\n        {name: 'Eject', code: 'KC_EJCT', title: 'Media Eject'}\n      ]\n    },\n    {\n      label: 'Macro',\n      width: 'label',\n      keycodes: [\n        {name: 'M0', code: 'MACRO00', title: 'Macro 0'},\n        {name: 'M1', code: 'MACRO01', title: 'Macro 1'},\n        {name: 'M2', code: 'MACRO02', title: 'Macro 2'},\n        {name: 'M3', code: 'MACRO03', title: 'Macro 3'},\n        {name: 'M4', code: 'MACRO04', title: 'Macro 4'},\n        {name: 'M5', code: 'MACRO05', title: 'Macro 5'},\n        {name: 'M6', code: 'MACRO06', title: 'Macro 6'},\n        {name: 'M7', code: 'MACRO07', title: 'Macro 7'},\n        {name: 'M8', code: 'MACRO08', title: 'Macro 8'},\n        {name: 'M9', code: 'MACRO09', title: 'Macro 9'},\n        {name: 'M10', code: 'MACRO10', title: 'Macro 10'},\n        {name: 'M11', code: 'MACRO11', title: 'Macro 11'},\n        {name: 'M12', code: 'MACRO12', title: 'Macro 12'},\n        {name: 'M13', code: 'MACRO13', title: 'Macro 13'},\n        {name: 'M14', code: 'MACRO14', title: 'Macro 14'},\n        {name: 'M15', code: 'MACRO15', title: 'Macro 15'}\n      ]\n    },\n    buildLayerMenu(),\n    {\n      label: 'Mod+_',\n      width: 'label',\n      detailed: '(A = Alt, C = Control, G = Windows/Command, S = Shift)',\n      keycodes: [\n        {name: 'LSft', code: 'LSFT(kc)', type: 'container'},\n        {name: 'LCtl', code: 'LCTL(kc)', type: 'container'},\n        {name: 'LAlt', code: 'LALT(kc)', type: 'container'},\n        {name: 'LGui', code: 'LGUI(kc)', type: 'container'},\n        {name: 'RSft', code: 'RSFT(kc)', type: 'container'},\n        {name: 'RCtl', code: 'RCTL(kc)', type: 'container'},\n        {name: 'RAlt', code: 'RALT(kc)', type: 'container'},\n        {name: 'RGui', code: 'RGUI(kc)', type: 'container'},\n        {\n          name: 'Hyper',\n          code: 'HYPR(kc)',\n          type: 'container',\n          title: 'LCTL + LSFT + LALT + LGUI'\n        },\n        {\n          name: 'Meh',\n          code: 'MEH(kc)',\n          type: 'container',\n          title: 'LCTL + LSFT + LALT'\n        },\n        {\n          name: 'LCAG',\n          code: 'LCAG(kc)',\n          type: 'container',\n          title: 'LCTL + LALT + LGUI'\n        },\n        {\n          name: 'ALTG',\n          code: 'ALTG(kc)',\n          type: 'container',\n          title: 'RCTL + RALT'\n        },\n        {\n          name: 'SGUI',\n          code: 'SCMD(kc)',\n          type: 'container',\n          title: 'LGUI + LSFT'\n        },\n        {name: 'LCA', code: 'LCA(kc)', type: 'container', title: 'LCTL + LALT'},\n        {\n          name: 'LSft_T',\n          code: 'LSFT_T(kc)',\n          type: 'container',\n          title: 'Shift when held, kc when tapped'\n        },\n        {\n          name: 'LCtl_T',\n          code: 'LCTL_T(kc)',\n          type: 'container',\n          title: 'Control when held, kc when tapped'\n        },\n        {\n          name: 'LAlt_T',\n          code: 'LALT_T(kc)',\n          type: 'container',\n          title: 'Alt when held, kc when tapped'\n        },\n        {\n          name: 'LGui_T',\n          code: 'LGUI_T(kc)',\n          type: 'container',\n          title: 'Gui when held, kc when tapped'\n        },\n        {\n          name: 'RSft_T',\n          code: 'RSFT_T(kc)',\n          type: 'container',\n          title: 'Shift when held, kc when tapped'\n        },\n        {\n          name: 'RCtl_T',\n          code: 'RCTL_T(kc)',\n          type: 'container',\n          title: 'Control when held, kc when tapped'\n        },\n        {\n          name: 'RAlt_T',\n          code: 'RALT_T(kc)',\n          type: 'container',\n          title: 'Alt when held, kc when tapped'\n        },\n        {\n          name: 'RGui_T',\n          code: 'RGUI_T(kc)',\n          type: 'container',\n          title: 'Gui when held, kc when tapped'\n        },\n        {\n          name: 'CS_T',\n          code: 'C_S_T(kc)',\n          type: 'container',\n          title: 'Control + Shift when held, kc when tapped'\n        },\n        {\n          name: 'All_T',\n          code: 'ALL_T(kc)',\n          type: 'container',\n          title: 'LCTL + LSFT + LALT + LGUI when held, kc when tapped'\n        },\n        {\n          name: 'Meh_T',\n          code: 'MEH_T(kc)',\n          type: 'container',\n          title: 'LCTL + LSFT + LALT when held, kc when tapped'\n        },\n        {\n          name: 'LCAG_T',\n          code: 'LCAG_T(kc)',\n          type: 'container',\n          title: 'LCTL + LALT + LGUI when held, kc when tapped'\n        },\n        {\n          name: 'RCAG_T',\n          code: 'RCAG_T(kc)',\n          type: 'container',\n          title: 'RCTL + RALT + RGUI when held, kc when tapped'\n        },\n        {\n          name: 'SGUI_T',\n          code: 'SCMD_T(kc)',\n          type: 'container',\n          title: 'LGUI + LSFT when held, kc when tapped'\n        },\n        {\n          name: 'LCA_T',\n          code: 'LCA_T(kc)',\n          type: 'container',\n          title: 'LCTL + LALT when held, kc when tapped'\n        }\n      ]\n    },\n    {\n      label: 'Special',\n      width: 'label',\n      keycodes: [\n        {name: '~', code: 'KC_TILD', keys: '`'},\n        {name: '!', code: 'KC_EXLM', keys: '!'},\n        {name: '@', code: 'KC_AT', keys: '@'},\n        {name: '#', code: 'KC_HASH', keys: '#'},\n        {name: '$', code: 'KC_DLR', keys: '$'},\n        {name: '%', code: 'KC_PERC', keys: '%'},\n        {name: '^', code: 'KC_CIRC', keys: '^'},\n        {name: '&', code: 'KC_AMPR', keys: '&'},\n        {name: '*', code: 'KC_ASTR', keys: '*'},\n        {name: '(', code: 'KC_LPRN', keys: '('},\n        {name: ')', code: 'KC_RPRN', keys: ')'},\n        {name: '_', code: 'KC_UNDS', keys: '_'},\n        {name: '+', code: 'KC_PLUS', keys: '+'},\n        {name: '{', code: 'KC_LCBR', keys: '{'},\n        {name: '}', code: 'KC_RCBR', keys: '}'},\n        {name: '<', code: 'KC_LT', keys: '<'},\n        {name: '>', code: 'KC_GT', keys: '>'},\n        {name: ':', code: 'KC_COLN', keys: ':'},\n        {name: '|', code: 'KC_PIPE', keys: '|'},\n        {name: '?', code: 'KC_QUES', keys: '?'},\n        {name: '\"', code: 'KC_DQUO', keys: '\"'},\n        {name: 'NUHS', code: 'KC_NUHS', title: 'Non-US # and ~'},\n        {name: 'NUBS', code: 'KC_NUBS', title: 'Non-US \\\\ and |'},\n        {name: 'Ro', code: 'KC_RO', title: 'JIS \\\\ and |'},\n        {name: '¥', code: 'KC_JYEN', title: 'JPN Yen'},\n        {name: '無変換', code: 'KC_MHEN', title: 'JIS Muhenkan'},\n        {name: '漢字', code: 'KC_HANJ', title: 'Hanja'},\n        {name: '한영', code: 'KC_HAEN', title: 'HanYeong'},\n        {name: '変換', code: 'KC_HENK', title: 'JIS Henkan'},\n        {name: 'かな', code: 'KC_KANA', title: 'JIS Katakana/Hiragana'},\n        {\n          name: 'Esc `',\n          code: 'KC_GESC',\n          title: 'Esc normally, but ` when Shift or Win is pressed'\n        },\n        {\n          name: 'LS (',\n          code: 'KC_LSPO',\n          title: 'Left Shift when held, ( when tapped'\n        },\n        {\n          name: 'RS )',\n          code: 'KC_RSPC',\n          title: 'Right Shift when held, ) when tapped'\n        },\n        {\n          name: 'LC (',\n          code: 'KC_LCPO',\n          title: 'Left Control when held, ( when tapped'\n        },\n        {\n          name: 'RC )',\n          code: 'KC_RCPC',\n          title: 'Right Control when held, ) when tapped'\n        },\n        {\n          name: 'LA (',\n          code: 'KC_LAPO',\n          title: 'Left Alt when held, ( when tapped'\n        },\n        {\n          name: 'RA )',\n          code: 'KC_RAPC',\n          title: 'Right Alt when held, ) when tapped'\n        },\n        {\n          name: 'SftEnt',\n          code: 'KC_SFTENT',\n          title: 'Right Shift when held, Enter when tapped'\n        },\n        {name: 'Reset', code: 'RESET', title: 'Reset the keyboard'},\n        {name: 'Debug', code: 'DEBUG', title: 'Toggle debug mode'},\n        {\n          name: 'Toggle NKRO',\n          code: 'MAGIC_TOGGLE_NKRO',\n          shortName: 'NKRO',\n          title: 'Toggle NKRO'\n        },\n        // I don't even think the locking stuff is enabled...\n        {name: 'Locking Num Lock', code: 'KC_LNUM'},\n        {name: 'Locking Caps Lock', code: 'KC_LCAP'},\n        {name: 'Locking Scroll Lock', code: 'KC_LSCR'},\n        {name: 'Power', code: 'KC_PWR'},\n        {name: 'Power OSX', code: 'KC_POWER'},\n        {name: 'Sleep', code: 'KC_SLEP'},\n        {name: 'Wake', code: 'KC_WAKE'},\n        {name: 'Calc', code: 'KC_CALC'},\n        {name: 'Mail', code: 'KC_MAIL'},\n        {name: 'Help', code: 'KC_HELP'},\n        {name: 'Stop', code: 'KC_STOP'},\n        {name: 'Alt Erase', code: 'KC_ERAS'},\n        {name: 'Again', code: 'KC_AGAIN'},\n        {name: 'Menu', code: 'KC_MENU'},\n        {name: 'Undo', code: 'KC_UNDO'},\n        {name: 'Select', code: 'KC_SELECT'},\n        {name: 'Exec', code: 'KC_EXECUTE'},\n        {name: 'Cut', code: 'KC_CUT'},\n        {name: 'Copy', code: 'KC_COPY'},\n        {name: 'Paste', code: 'KC_PASTE'},\n        {name: 'Find', code: 'KC_FIND'},\n        {name: 'My Comp', code: 'KC_MYCM'},\n        {name: 'Home', code: 'KC_WWW_HOME'},\n        {name: 'Back', code: 'KC_WWW_BACK'},\n        {name: 'Forward', code: 'KC_WWW_FORWARD'},\n        {name: 'Stop', code: 'KC_WWW_STOP'},\n        {name: 'Refresh', code: 'KC_WWW_REFRESH'},\n        {name: 'Favorites', code: 'KC_WWW_FAVORITES'},\n        {name: 'Search', code: 'KC_WWW_SEARCH'},\n        {\n          name: 'Screen +',\n          code: 'KC_BRIU',\n          shortName: 'Scr +',\n          title: 'Screen Brightness Up'\n        },\n        {\n          name: 'Screen -',\n          code: 'KC_BRID',\n          shortName: 'Scr -',\n          title: 'Screen Brightness Down'\n        },\n        {name: 'F13', code: 'KC_F13'},\n        {name: 'F14', code: 'KC_F14'},\n        {name: 'F15', code: 'KC_F15'},\n        {name: 'F16', code: 'KC_F16'},\n        {name: 'F17', code: 'KC_F17'},\n        {name: 'F18', code: 'KC_F18'},\n        {name: 'F19', code: 'KC_F19'},\n        {name: 'F20', code: 'KC_F20'},\n        {name: 'F21', code: 'KC_F21'},\n        {name: 'F22', code: 'KC_F22'},\n        {name: 'F23', code: 'KC_F23'},\n        {name: 'F24', code: 'KC_F24'},\n\n        // TODO: move these to a new group\n        {name: 'Mouse ↑', code: 'KC_MS_UP'},\n        {name: 'Mouse ↓', code: 'KC_MS_DOWN'},\n        {name: 'Mouse ←', code: 'KC_MS_LEFT'},\n        {name: 'Mouse →', code: 'KC_MS_RIGHT'},\n        {name: 'Mouse Btn1', code: 'KC_MS_BTN1'},\n        {name: 'Mouse Btn2', code: 'KC_MS_BTN2'},\n        {name: 'Mouse Btn3', code: 'KC_MS_BTN3'},\n        {name: 'Mouse Btn4', code: 'KC_MS_BTN4'},\n        {name: 'Mouse Btn5', code: 'KC_MS_BTN5'},\n        {name: 'Mouse Wh ↑', code: 'KC_MS_WH_UP'},\n        {name: 'Mouse Wh ↓', code: 'KC_MS_WH_DOWN'},\n        {name: 'Mouse Wh ←', code: 'KC_MS_WH_LEFT'},\n        {name: 'Mouse Wh →', code: 'KC_MS_WH_RIGHT'},\n        {name: 'Mouse Acc0', code: 'KC_MS_ACCEL0'},\n        {name: 'Mouse Acc1', code: 'KC_MS_ACCEL1'},\n        {name: 'Mouse Acc2', code: 'KC_MS_ACCEL2'},\n\n        // TODO: move these to a new group\n        {name: 'Audio On', code: 'AU_ON'},\n        {name: 'Audio Off', code: 'AU_OFF'},\n        {name: 'Audio Toggle', code: 'AU_TOG'},\n        {name: 'Clicky Toggle', code: 'CLICKY_TOGGLE'},\n        {name: 'Clicky Enable', code: 'CLICKY_ENABLE'},\n        {name: 'Clicky Disable', code: 'CLICKY_DISABLE'},\n        {name: 'Clicky Up', code: 'CLICKY_UP'},\n        {name: 'Clicky Down', code: 'CLICKY_DOWN'},\n        {name: 'Clicky Reset', code: 'CLICKY_RESET'},\n        {name: 'Music On', code: 'MU_ON'},\n        {name: 'Music Off', code: 'MU_OFF'},\n        {name: 'Music Toggle', code: 'MU_TOG'},\n        {name: 'Music Mode', code: 'MU_MOD'}\n      ]\n    },\n    /* These are for controlling the original backlighting and bottom RGB. */\n    {\n      label: 'QMK Lighting',\n      width: 'label',\n      keycodes: [\n        {name: 'BL Toggle', code: 'BL_TOGG'},\n        {name: 'BL On', code: 'BL_ON'},\n        {name: 'BL Off', code: 'BL_OFF', shortName: 'BL Off'},\n        {name: 'BL -', code: 'BL_DEC'},\n        {name: 'BL +', code: 'BL_INC'},\n        {name: 'BL Cycle', code: 'BL_STEP'},\n        {name: 'BR Toggle', code: 'BL_BRTG'},\n        {name: 'RGB Toggle', code: 'RGB_TOG'},\n        {name: 'RGB Mode -', code: 'RGB_RMOD'},\n        {name: 'RGB Mode +', code: 'RGB_MOD'},\n        {name: 'Hue -', code: 'RGB_HUD'},\n        {name: 'Hue +', code: 'RGB_HUI'},\n        {name: 'Sat -', code: 'RGB_SAD'},\n        {name: 'Sat +', code: 'RGB_SAI'},\n        {name: 'Bright -', code: 'RGB_VAD'},\n        {name: 'Bright +', code: 'RGB_VAI'},\n        {name: 'Effect Speed-', code: 'RGB_SPD'},\n        {name: 'Effect Speed+', code: 'RGB_SPI'},\n        {name: 'RGB Mode P', code: 'RGB_M_P', title: 'Plain'},\n        {name: 'RGB Mode B', code: 'RGB_M_B', title: 'Breathe'},\n        {name: 'RGB Mode R', code: 'RGB_M_R', title: 'Rainbow'},\n        {name: 'RGB Mode SW', code: 'RGB_M_SW', title: 'Swirl'},\n        {name: 'RGB Mode SN', code: 'RGB_M_SN', title: 'Snake'},\n        {name: 'RGB Mode K', code: 'RGB_M_K', title: 'Knight'},\n        {name: 'RGB Mode X', code: 'RGB_M_X', title: 'Xmas'},\n        {name: 'RGB Mode G', code: 'RGB_M_G', title: 'Gradient'}\n      ]\n    },\n    /*\n     These custom keycodes always exist and should be filtered out if necessary\n     Name and Title should be replaced with the correct ones from the keyboard json\n    */\n    {\n      label: 'Custom',\n      width: 'label',\n      keycodes: [\n        {name: 'User00', code: 'USER00', title: 'Custom Keycode 00'},\n        {name: 'User01', code: 'USER01', title: 'Custom Keycode 01'},\n        {name: 'User02', code: 'USER02', title: 'Custom Keycode 02'},\n        {name: 'User03', code: 'USER03', title: 'Custom Keycode 03'},\n        {name: 'User04', code: 'USER04', title: 'Custom Keycode 04'},\n        {name: 'User05', code: 'USER05', title: 'Custom Keycode 05'},\n        {name: 'User06', code: 'USER06', title: 'Custom Keycode 06'},\n        {name: 'User07', code: 'USER07', title: 'Custom Keycode 07'},\n        {name: 'User08', code: 'USER08', title: 'Custom Keycode 08'},\n        {name: 'User09', code: 'USER09', title: 'Custom Keycode 09'},\n        {name: 'User10', code: 'USER10', title: 'Custom Keycode 10'},\n        {name: 'User11', code: 'USER11', title: 'Custom Keycode 11'},\n        {name: 'User12', code: 'USER12', title: 'Custom Keycode 12'},\n        {name: 'User13', code: 'USER13', title: 'Custom Keycode 13'},\n        {name: 'User14', code: 'USER14', title: 'Custom Keycode 14'},\n        {name: 'User15', code: 'USER15', title: 'Custom Keycode 15'}\n      ]\n    }\n  ];\n}\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {basicKeyToByte} from '../../utils/key';\nimport {\n  advancedStringToKeycode,\n  anyKeycodeToString\n} from '../../utils/advanced-keys';\n\nconst NormalInput = styled.input`\n  border: none;\n  border-bottom: 1px solid var(--color_dark-grey);\n  color: var(--color_accent);\n  background: var(--color_light-jet);\n  transition: all 0.4s ease-out;\n  font-size: 18px;\n  margin-bottom: 25px;\n  height: 30px;\n  padding: 0 5px;\n  &:focus {\n    outline: none;\n    color: var(--color_accent);\n    border-color: var(--color_accent);\n  }\n  &::placeholder {\n    color: var(--color_dark-grey);\n  }\n`;\n\nconst ErrorInput = styled(NormalInput)`\n  border-color: #d15e5e;\n  color: #d15e5e;\n`;\n\ntype Props = {\n  defaultValue: number;\n  onBlur: (newValue: number) => void;\n  className?: string;\n};\n\ntype State = {\n  currentValue: string;\n  currentParsed: number;\n  defaultValueAsString: string;\n  isError: boolean;\n  lastDefault: number;\n};\n\nexport class KeycodeTextInput extends React.Component<Props, State> {\n  constructor(props) {\n    super(props);\n    const {defaultValue} = props;\n    let currentValue = anyKeycodeToString(defaultValue);\n    this.state = {\n      lastDefault: defaultValue,\n      defaultValueAsString: currentValue,\n      currentParsed: defaultValue,\n      currentValue,\n      isError: false\n    };\n  }\n\n  // It's usually best to avoid this function, but we're actually using it properly\n  // We want to maintain state here for validation purposes.\n  // But if we get a new prop, it means our change has made it up to where it matters\n  // And we should use it to represent what's actually coming from the kb\n  static getDerivedStateFromProps(props, state) {\n    if (\n      state.lastDefault !== props.defaultValue &&\n      state.currentParsed !== props.defaultValue\n    ) {\n      return {\n        ...state,\n        currentValue: anyKeycodeToString(props.defaultValue),\n        currentParsed: props.defaultValue,\n        lastDefault: props.defaultValue\n      };\n    }\n    return state;\n  }\n\n  handleChange = (e): void => {\n    const value = e.target.value;\n    this.setState({currentValue: value});\n  };\n\n  handleBlur = (e): void => {\n    const {onBlur} = this.props;\n    const {lastDefault} = this.state;\n    const value = e.target.value.trim().toUpperCase();\n    const advancedParsed = advancedStringToKeycode(value);\n    if (Object.keys(basicKeyToByte).includes(value)) {\n      if (lastDefault !== basicKeyToByte[value]) {\n        onBlur(basicKeyToByte[value]);\n      }\n      this.setState({isError: false});\n    } else if (advancedParsed !== 0) {\n      if (lastDefault !== advancedParsed) {\n        onBlur(advancedParsed);\n      }\n      this.setState({isError: false});\n    } else if (\n      new RegExp(/^0x[0-9A-Fa-f]{1,4}$/g).test(e.target.value.trim())\n    ) {\n      onBlur(parseInt(e.target.value.trim(), 16));\n      this.setState({isError: false});\n    } else {\n      this.setState({isError: true});\n    }\n  };\n\n  render() {\n    const {currentValue, isError} = this.state;\n    const InputComponent = isError ? ErrorInput : NormalInput;\n    return (\n      <InputComponent\n        type=\"text\"\n        placeholder={\n          this.props.defaultValue\n            ? this.state.defaultValueAsString\n            : 'KC_NO, 0xFF, etc.'\n        }\n        value={currentValue}\n        onChange={this.handleChange}\n        onBlur={this.handleBlur}\n        className={this.props.className}\n      />\n    );\n  }\n}\n\nexport default KeycodeTextInput;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport KeycodeTextInput from '../../../components/inputs/keycode-text-input';\n\nconst RowDiv = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-top: 4px;\n`;\n\nconst LabelText = styled.span`\n  font-weight: 650;\n  margin-right: 8px;\n  width: 80px;\n`;\n\nconst KeyInput = styled(KeycodeTextInput)`\n  width: 64px;\n  margin-right: 8px;\n`;\n\ntype Props = {\n  title: string;\n  encoderIdx: number;\n  behaviors: number[];\n  onChange: (encoderIdx: number, behavior: number, newValue: number) => void;\n};\n\nexport class EncoderCustomConfig extends React.Component<Props> {\n  handleInputChange = (newValue: number, behaviorIdx: number) => {\n    const {encoderIdx, onChange} = this.props;\n    onChange(encoderIdx, behaviorIdx, newValue);\n  };\n\n  render() {\n    const {\n      title,\n      behaviors: [cw, ccw, press]\n    } = this.props;\n    return (\n      <RowDiv>\n        <LabelText>{title}</LabelText>\n        <KeyInput\n          defaultValue={cw}\n          onBlur={newValue => this.handleInputChange(newValue, 0)}\n        />\n        <KeyInput\n          defaultValue={ccw}\n          onBlur={newValue => this.handleInputChange(newValue, 1)}\n        />\n        <KeyInput\n          defaultValue={press}\n          onBlur={newValue => this.handleInputChange(newValue, 2)}\n        />\n      </RowDiv>\n    );\n  }\n}\n\nexport default EncoderCustomConfig;\n","import * as React from 'react';\nimport {Component} from 'react';\nimport styled from 'styled-components';\nimport Select from 'react-select';\n\nimport {KeyboardAPI} from '../../../utils/keyboard-api';\nimport {\n  getEncoderModes,\n  setEncoderModes,\n  getDefaultOLED,\n  setDefaultOLED,\n  getOLEDMode,\n  setOLEDMode,\n  getCustomEncoderConfig,\n  setCustomEncoderConfig\n} from './api';\nimport {EncoderModeToggle} from './encoder-mode-toggle';\nimport {EncoderCustomConfig} from './encoder-custom-config';\n\ntype Props = {api: KeyboardAPI};\ntype EnabledEncoderModes = number;\ntype OLEDMode = number;\ntype EncoderBehavior = [number, number, number];\n\nconst MenuContainer = styled.div`\n  display: flex;\n  color: #717070;\n  padding: 24px;\n  font-family: GothamRounded;\n  h3 {\n    margin: 4px 0;\n  }\n  p {\n    margin: 4px 0 8px 0;\n    width: 288px;\n    font-size: 13px;\n    text-align: center;\n  }\n`;\n\nconst SectionContainer = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst OLEDSelectContainer = styled.div`\n  width: 156px;\n  margin-bottom: 12px;\n`;\n\nconst CustomEncoderContainer = styled.div`\n  padding-left: 112px;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst LabelText = styled.span`\n  font-weight: 650;\n  margin-right: 8px;\n  width: 64px;\n`;\n\nconst OLED_OPTIONS = [\n  {value: 0, label: 'Default'},\n  {value: 1, label: 'Time'},\n  {value: 2, label: 'Off'}\n];\n\ntype State = {\n  enabledModes: number;\n  defaultOLEDMode: number;\n  currOLEDMode: number;\n  encoderBehaviors: EncoderBehavior[];\n};\n\nexport class SatisfactionMenu extends Component<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      enabledModes: 0x1f,\n      defaultOLEDMode: 0,\n      currOLEDMode: 0,\n      encoderBehaviors: [[0, 0, 0], [0, 0, 0], [0, 0, 0]]\n    };\n  }\n\n  componentDidMount() {\n    this.fetchDataAndSet();\n  }\n\n  fetchDataAndSet = async () => {\n    const {api} = this.props;\n    const promises = [\n      getEncoderModes(api),\n      getDefaultOLED(api),\n      getOLEDMode(api),\n      getCustomEncoderConfig(api, 0),\n      getCustomEncoderConfig(api, 1),\n      getCustomEncoderConfig(api, 2)\n    ];\n    const [\n      enabledModes,\n      defaultOLEDMode,\n      currOLEDMode,\n      encoder0,\n      encoder1,\n      encoder2\n    ] = await Promise.all(promises);\n    this.setState({\n      enabledModes,\n      defaultOLEDMode,\n      currOLEDMode,\n      encoderBehaviors: [encoder0, encoder1, encoder2]\n    });\n  };\n\n  onEncoderModeChange = (newEncoderModes: EnabledEncoderModes) => {\n    const {api} = this.props;\n    const {enabledModes: currentModes} = this.state;\n    if (currentModes !== newEncoderModes) {\n      this.setState({enabledModes: newEncoderModes});\n      setEncoderModes(api, newEncoderModes);\n    }\n  };\n\n  onEncoderCustomConfigChange = (encoderIdx, behavior, newValue) => {\n    const {api} = this.props;\n    const newBehaviors = [...this.state.encoderBehaviors];\n    newBehaviors[encoderIdx][behavior] = newValue;\n    this.setState({encoderBehaviors: newBehaviors});\n    setCustomEncoderConfig(api, encoderIdx, behavior, newValue);\n  };\n\n  onOLEDDefaultChange = (input: {value: OLEDMode}) => {\n    const {value: newDefaultOLEDMode} = input;\n    const {api} = this.props;\n    const {defaultOLEDMode: currentMode} = this.state;\n    if (currentMode !== newDefaultOLEDMode) {\n      this.setState({defaultOLEDMode: newDefaultOLEDMode});\n      setDefaultOLED(api, newDefaultOLEDMode);\n    }\n  };\n\n  onOLEDChange = (input: {value: OLEDMode}) => {\n    const {value: newOLEDMode} = input;\n    const {api} = this.props;\n    const {currOLEDMode} = this.state;\n    if (currOLEDMode !== newOLEDMode) {\n      this.setState({currOLEDMode: newOLEDMode});\n      setOLEDMode(api, newOLEDMode);\n    }\n  };\n\n  render() {\n    const {api} = this.props;\n    const {\n      enabledModes,\n      defaultOLEDMode,\n      currOLEDMode,\n      encoderBehaviors\n    } = this.state;\n    if (api) {\n      return (\n        <MenuContainer>\n          <SectionContainer>\n            <EncoderModeToggle\n              onChange={this.onEncoderModeChange}\n              enabledModes={enabledModes}\n            />\n          </SectionContainer>\n          <SectionContainer>\n            <h3>Default OLED Mode:</h3>\n            <p>\n              This is the OLED mode that will be selected by default when you\n              plug in your keyboard.\n            </p>\n            <OLEDSelectContainer>\n              <Select\n                value={OLED_OPTIONS.find(e => e.value === defaultOLEDMode)}\n                onChange={this.onOLEDDefaultChange}\n                options={OLED_OPTIONS}\n              />\n            </OLEDSelectContainer>\n            <h3>Current OLED Mode:</h3>\n            <p>Change your {\"keyboard's\"} current OLED mode</p>\n            <OLEDSelectContainer>\n              <Select\n                value={OLED_OPTIONS.find(e => e.value === currOLEDMode)}\n                onChange={this.onOLEDChange}\n                options={OLED_OPTIONS}\n                menuPlacement=\"top\"\n              />\n            </OLEDSelectContainer>\n          </SectionContainer>\n          <SectionContainer>\n            <h3>Custom Encoder Configuration:</h3>\n            <p>Configure the behavior of encoder custom modes</p>\n            <CustomEncoderContainer>\n              <LabelText>CW</LabelText>\n              <LabelText>CCW</LabelText>\n              <LabelText>Press</LabelText>\n            </CustomEncoderContainer>\n            <EncoderCustomConfig\n              title=\"Custom 0\"\n              encoderIdx={0}\n              behaviors={encoderBehaviors[0]}\n              onChange={this.onEncoderCustomConfigChange}\n            />\n            <EncoderCustomConfig\n              title=\"Custom 1\"\n              encoderIdx={1}\n              behaviors={encoderBehaviors[1]}\n              onChange={this.onEncoderCustomConfigChange}\n            />\n            <EncoderCustomConfig\n              title=\"Custom 2\"\n              encoderIdx={2}\n              behaviors={encoderBehaviors[2]}\n              onChange={this.onEncoderCustomConfigChange}\n            />\n          </SectionContainer>\n        </MenuContainer>\n      );\n    }\n    return null;\n  }\n}\n\nexport default SatisfactionMenu;\n","import AEBOARDS from './aeboards';\nimport AI03 from './ai03';\nimport CANNONKEYS from './cannonkeys';\nimport KEEBIO from './keebio';\nimport NOXARY from './noxary';\nimport OTHER from './other';\nimport WILBA_TECH from './wilba_tech';\nimport YIANCARDESIGNS from './yiancardesigns';\n\nconst KEYBOARDS = [\n  ...AEBOARDS,\n  ...AI03,\n  ...CANNONKEYS,\n  ...KEEBIO,\n  ...NOXARY,\n  ...OTHER,\n  ...WILBA_TECH,\n  ...YIANCARDESIGNS\n];\n\nexport default KEYBOARDS;\n","import AN_C from './an_c'\nimport CHIMERA65 from './chimera65'\nimport INSTANT60 from './instant60';\nimport SATISFACTION75 from './satisfaction75';\n\nconst KEYBOARDS = [\n    AN_C,\n    CHIMERA65,\n    INSTANT60,\n    SATISFACTION75,\n]\n\nexport default KEYBOARDS;\n","import {SatisfactionMenu} from './menu';\nimport {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#d4c266\",a:7},\"0\",{x:0.5,c:\"#cccccc\"},\"1\",\"2\",\"3\",\"4\",{x:0.25,c:\"#09b084\"},\"5\",\"6\",\"7\",\"8\",{x:0.25,c:\"#cccccc\"},\"9\",\"10\",\"11\",\"12\"],\n[{y:0.25,c:\"#09b084\"},\"13\",{c:\"#cccccc\"},\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",{c:\"#09b084\"},\"26\",\"27\",{x:0.5},\"28\"],\n[{w:1.5},\"29\",{c:\"#cccccc\"},\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",{c:\"#09b084\",w:1.5},\"42\",{x:0.5},\"43\"],\n[{w:1.75},\"44\",{c:\"#cccccc\"},\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",{c:\"#d4c266\",w:1.25},\"57\",{x:0.5,c:\"#09b084\"},\"58\"],\n[{w:1.25},\"59\",{c:\"#cccccc\"},\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",{c:\"#09b084\",w:1.75},\"71\",{x:1.5},\"73\"],\n[{y:-0.75,x:14.25,c:\"#d4c266\"},\"72\"],\n[{y:-0.25,c:\"#09b084\",w:1.25},\"74\",{w:1.25},\"75\",{w:1.25},\"76\",{c:\"#cccccc\",w:2.25},\"77\",{w:1.25},\"78\",{w:2.75},\"79\",{c:\"#09b084\"},\"80\",\"81\",\"82\"],\n[{y:-0.75,x:13.25,c:\"#d4c266\"},\"83\",\"84\",\"85\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n\tK000,       K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013,             \\\n\tK100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, K115, \\\n\tK200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213,       K215, \\\n\tK300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313,       K315, \\\n\tK400, K401, K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412, K413,       K415, \\\n\tK500, K501, K502, K503,       K505,       K507,       K509, K510, K511, K512, K513,       K515  \\\n) { \\\n\t{ K000,  KC_NO, K002,  K003,  K004,  K005,  K006,  K007,  K008,  K009,  K010,  K011,  K012,  K013,  KC_NO,  KC_NO }, \\\n\t{ K100,  K101,  K102,  K103,  K104,  K105,  K106,  K107,  K108,  K109,  K110,  K111,  K112,  K113,  K114,   K115 }, \\\n\t{ K200,  K201,  K202,  K203,  K204,  K205,  K206,  K207,  K208,  K209,  K210,  K211,  K212,  K213,  KC_NO,  K215 }, \\\n\t{ K300,  K301,  K302,  K303,  K304,  K305,  K306,  K307,  K308,  K309,  K310,  K311,  K312,  K313,  KC_NO,  K315 }, \\\n\t{ K400,  K401,  K402,  K403,  K404,  K405,  K406,  K407,  K408,  K409,  K410,  K411,  K412,  K413,  KC_NO,  K415 }, \\\n\t{ K500,  K501,  K502,  K503,  KC_NO, K505,  KC_NO, K507,  KC_NO, K509,  K510,  K511,  K512,  K513,  KC_NO,  K515 } \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'Satisfaction75',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.QMKLighting,\n  overrideMatrixIndexing: true,\n  customMenus: [\n    {\n      title: 'custom',\n      component: SatisfactionMenu\n    }\n  ],\n  vendorProductId: 0xca0457f5\n};\n\nexport default DEVICE_META;\n","import IRIS from './iris';\n\nconst KEYBOARDS = [\n    IRIS,\n]\n\nexport default KEYBOARDS;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#bd760f\"},\"Esc\",{c:\"#c4c8c5\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",{x:2.75},\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",{c:\"#006d59\"},\"Back\"],\n[\"Tab\",{c:\"#c4c8c5\"},\"Q\",\"W\",\"E\",\"R\",\"T\",{x:2.75},\"Y\",\"U\",\"I\",\"O\",\"P\",{c:\"#006d59\"},\"Del\"],\n[\"Ctrl\",{c:\"#c4c8c5\"},\"A\",\"S\",\"D\",\"F\",\"G\",{x:2.75},\"H\",\"J\",\"K\",\"L\",\":\\n;\",{c:\"#006d59\"},\"\\\"\\n'\"],\n[\"Shift\",{c:\"#c4c8c5\"},\"Z\",\"X\",\"C\",\"V\",\"B\",{c:\"#006d59\"},\"Space\",{x:0.75},\"Enter\",{c:\"#c4c8c5\"},\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#006d59\"},\"Right\"],\n[{x:3.5},\"Ctrl\",\"Alt\",\"Space\",{x:1.75},\"Enter\",\"Win\",\"Alt\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n  L00, L01, L02, L03, L04, L05,           R00, R01, R02, R03, R04, R05, \\\n  L10, L11, L12, L13, L14, L15,           R10, R11, R12, R13, R14, R15, \\\n  L20, L21, L22, L23, L24, L25,           R20, R21, R22, R23, R24, R25, \\\n  L30, L31, L32, L33, L34, L35, LT4, RT4, R30, R31, R32, R33, R34, R35, \\\n                      LT1, LT2, LT3, RT3, RT2, RT1 \\\n  ) \\\n  { \\\n      { L00, L01, L02, L03, L04, L05 }, \\\n      { L10, L11, L12, L13, L14, L15 }, \\\n      { L20, L21, L22, L23, L24, L25 }, \\\n      { L30, L31, L32, L33, L34, L35 }, \\\n      { KC_NO, KC_NO, LT4, LT1, LT2, LT3 }, \\\n      { R05, R04, R03, R02, R01, R00 }, \\\n      { R15, R14, R13, R12, R11, R10 }, \\\n      { R25, R24, R23, R22, R21, R20 }, \\\n      { R35, R34, R33, R32, R31, R30 }, \\\n      { KC_NO, KC_NO, RT4, RT1, RT2, RT3 } \\\n  }\n`;\n\nconst DEVICE_META = {\n  name: 'IRIS',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.QMKLighting,\n  vendorProductId: 0xcb101256\n};\n\nexport default DEVICE_META;\n","import _268_2 from './268_2';\n\nconst KEYBOARDS = [\n    _268_2\n]\n\nexport default KEYBOARDS;\n","import {LightingSupport} from '../../../utils/device-meta';\n\nexport const LAYOUT = `[{c:\"#DEBFB3\",t:\"#363636\"},\"Esc\",{c:\"#ebebeb\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{c:\"#363636\",t:\"#DEBFB3\"},\"PrtSc\",\"Pause\\nBreak\",\"Num Lock\"],\n[{w:1.5},\"Tab\",{c:\"#ebebeb\",t:\"#363636\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{c:\"#363636\",t:\"#DEBFB3\",w:1.5},\"x\",\"Insert\"],\n[{w:1.75},\"Caps Lock\",{c:\"#ebebeb\",t:\"#363636\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#363636\",t:\"#DEBFB3\",w:2.25},\"Enter\",\"Home\"],\n[{w:2.25},\"Shift\",{c:\"#ebebeb\",t:\"#363636\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#363636\",t:\"#DEBFB3\",w:1.75},\"Shift\",{c:\"#DEBFB3\",t:\"#363636\"},\"↑\",{c:\"#363636\",t:\"#DEBFB3\"},\"/\"],\n[{w:1.25},\"Ctrl\",{w:1.25},\"x\",{w:1.25},\"Alt\",{c:\"#DEBFB3\",t:\"#363636\",a:7,w:6.25},\"\",{c:\"#363636\",t:\"#DEBFB3\",a:4,w:1.25},\"Alt\",{w:1.25},\"Alt\",{x:0.5,c:\"#DEBFB3\",t:\"#363636\"},\"←\",\"↓\",\"→\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n\tK000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K014, K015, \\\n\tK100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112,       K114, K115, \\\n\tK200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211,             K214, K215, \\\n\tK300,       K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312,       K314, K315, \\\n\tK400, K401, K402,                   K406,             K409, K410,       K412,       K414, K415  \\\n) { \\\n\t{ K000,  K001,  K002,  K003,  K004,  K005,  K006,  K007,  K008,  K009,  K010,  K011,  K012,  K013,  K014,  K015, }, \\\n\t{ K100,  K101,  K102,  K103,  K104,  K105,  K106,  K107,  K108,  K109,  K110,  K111,  K112,  KC_NO, K114,  K115, }, \\\n\t{ K200,  K201,  K202,  K203,  K204,  K205,  K206,  K207,  K208,  K209,  K210,  K211,  KC_NO, KC_NO, K214,  K215, }, \\\n\t{ K300,  KC_NO, K302,  K303,  K304,  K305,  K306,  K307,  K308,  K309,  K310,  K311,  K312,  KC_NO, K314,  K315, }, \\\n\t{ K400,  K401,  K402,  KC_NO, KC_NO, KC_NO, K406,  KC_NO, KC_NO, K409,  K410,  KC_NO, K412,  KC_NO, K414,  K415, }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'Noxary 268.2',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x4e580044\n};\n\nexport default DEVICE_META;\n","import PLAIN60 from './plain60';\nimport SNAGPAD from './snagpad';\nimport AANZEE from './aanzee';\nimport G60 from './g60';\nimport IDB60 from './idb60';\nimport LUNAR from './lunar';\nimport PRIME_E from './prime_e';\nimport LEAF60 from './leaf60';\nimport E65 from './e6.5';\nimport ROMAC from './romac';\nimport IS0 from './is0';\nimport OSA from './osa';\n\nconst KEYBOARDS = [\n  PLAIN60,\n  SNAGPAD,\n  AANZEE,\n  G60,\n  IDB60,\n  LUNAR,\n  PRIME_E,\n  E65,\n  LEAF60,\n  ROMAC,\n  IS0,\n  OSA,\n];\n\nexport default KEYBOARDS;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[\"Esc\",\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",\"|\\n\\\\\",\"Back space\"],\n[{w:1.5},\"Tab\",\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{w:1.5},\"|\\n\\\\\"],\n[{w:1.75},\"Caps Lock\",\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",\"ISO\",{w:1.25},\"Enter\"],\n[{w:1.25},\"Shift\",\"ISO\",\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{w:1.75},\"Shift\",\"Fn\"],\n[{w:1.25},\"Ctrl\",{w:1.25},\"Win\",{w:1.25},\"Alt\",{a:7,w:6.25},\"\",{a:4,w:1.25},\"Alt\",{w:1.25},\"Win\",{w:1.25},\"Menu\",{w:1.25},\"Ctrl\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n    k00, k01, k02, k03, k04, k05, k06, k07, k08, k09, k0a, k0b, k0c, k0d, k0e, \\\n    k10, k11, k12, k13, k14, k15, k16, k17, k18, k19, k1a, k1b, k1c, k1d, \\\n    k20, k21, k22, k23, k24, k25, k26, k27, k28, k29, k2a, k2b, k2c, k2d, \\\n    k30, k31, k32, k33, k34, k35, k36, k37, k38, k39, k3a, k3b, k3c, k3d, \\\n    k40, k41, k42,                k46,                k4a, k4b, k4c, k4d  \\\n) \\\n{ \\\n    {k00, k01, k02, k03, k04, k05, k06, k07, k08, k09, k0a, k0b, k0c, k0d, k0e}, \\\n    {k10, k11, k12, k13, k14, k15, k16, k17, k18, k19, k1a, k1b, k1c, k1d, XXX}, \\\n    {k20, k21, k22, k23, k24, k25, k26, k27, k28, k29, k2a, k2b, k2c, k2d, XXX}, \\\n    {k30, k31, k32, k33, k34, k35, k36, k37, k38, k39, k3a, k3b, k3c, k3d, XXX}, \\\n    {k40, k41, k42, XXX, XXX, XXX, k46, XXX, XXX, XXX, k4a, k4b, k4c, k4d, XXX}  \\\n}`;\n\nconst DEVICE_META = {\n  name: 'PLAIN60',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x47050160\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#505557\",t:\"#d9d7d7\",a:7},\"x\",\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\",\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_ortho_5x4( \\\n\tK00, K01, K02, K03, \\\n\tK10, K11, K12, K13, \\\n\tK20, K21, K22, K23, \\\n\tK30, K31, K32, K33, \\\n\tK40, K41, K42, K43  \\\n) { \\\n\t{ K00,   K01,   K02,   K03 }, \\\n\t{ K10,   K11,   K12,   K13 }, \\\n\t{ K20,   K21,   K22,   K23 }, \\\n\t{ K30,   K31,   K32,   K33 }, \\\n\t{ K40,   K41,   K42,   K43 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'Snagpad',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x44435350\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta';\n\nexport const LAYOUT = `[{c:\"\",t:\"\",p:\"GMK\",a:6},\"Esc\",{a:4,f:5},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{a:7,f:3},\"\",\"\",{a:6},\"Home\"],\n[{a:4,w:1.5},\"⇤\\n⇥\\n\\n\\n\\n\\nTab\",{f:7},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",{f:5},\"{\\n[\",\"}\\n]\",{f:3,w:1.5},\"|\\n\\\\\",{a:6},\"PgUp\"],\n[{w:1.75},\"Caps Lock\",{a:4,f:7},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",{f:5},\":\\n;\",\"\\\"\\n'\",{a:6,f:3,w:2.25},\"↵ Enter\",\"PgDn\"],\n[{w:2.25},\"⇧ Shift\",{a:4,f:7},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",{f:5},\"<\\n,\",\">\\n.\",\"?\\n/\",{a:6,f:3,w:1.75},\"⇧ Shift\",{a:4,f:9},\"↑\",{a:6,f:3},\"Fn\"],\n[{w:1.25},\"Ctrl\",{w:1.25},\"Win\",{w:1.25},\"Alt\",{a:7,w:6.25},\"\",{a:6,w:1.25},\"Alt\",{w:1.25},\"Win\",{x:0.5,a:4,f:9},\"←\",\"↓\",\"→\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n  K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0F, K0D, K0E, \\\n  K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C,      K1D, K1E, \\\n  K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B,           K2D, K2E, \\\n  K30,      K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C,      K3D, K3E, \\\n  K40, K41, K42,                K46,           K49, K4A,      K4C,      K4D, K4E  \\\n) \\\n{ \\\n  {K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, K0E, K0F}, \\\n  {K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K1D, K1E, ___}, \\\n  {K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, ___, K2D, K2E, ___}, \\\n  {K30, ___, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C, K3D, K3E, ___}, \\\n  {K40, K41, K42, ___, ___, ___, K46, ___, ___, K49, K4A, ___, K4C, K4D, K4E, ___}  \\\n}`;\n\nconst DEVICE_META = {\n  name: 'aanzee',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x21ffaa01\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\"],\n[{w:1.5},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{w:1.5},\"x\"],\n[{w:1.75},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{w:1.25},\"x\"],\n[\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\"],\n[{w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{w:6.25},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n  K00,  K01,  K02,  K03,  K04,  K05,  K06,  K07,  K08,  K09,  K0A,  K0B,  K0C,  K0D,  K49, \\\n  K10,  K11,  K12,  K13,  K14,  K15,  K16,  K17,  K18,  K19,  K1A,  K1B,  K1C,  K1D,       \\\n  K20,  K21,  K22,  K23,  K24,  K25,  K26,  K27,  K28,  K29,  K2A,  K2B,  K2C,  K2D,       \\\n  K30,  K31,  K32,  K33,  K34,  K35,  K36,  K37,  K38,  K39,  K3A,  K3B,  K47,  K3D,  K3C, \\\n  K40,  K41,  K42,              K45,                          K4A,  K4B,  K48,  K4C,  K4D  \\\n) { \\\n  { K00,  K01,  K02,  K03,   K04,   K05,  K06,   K07,  K08,  K09,  K0A,  K0B,  K0C,  K0D }, \\\n  { K10,  K11,  K12,  K13,   K14,   K15,  K16,   K17,  K18,  K19,  K1A,  K1B,  K1C,  K1D }, \\\n  { K20,  K21,  K22,  K23,   K24,   K25,  K26,   K27,  K28,  K29,  K2A,  K2B,  K2C,  K2D }, \\\n  { K30,  K31,  K32,  K33,   K34,   K35,  K36,   K37,  K38,  K39,  K3A,  K3B,  K3C,  K3D }, \\\n  { K40,  K41,  K42,  KC_NO, KC_NO, K45,  KC_NO, K47,  K48,  K49,  K4A,  K4B,  K4C,  K4D }  \\\n\n}\n`;\n\nconst DEVICE_META = {\n  name: 'BIOI G60',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x65826080\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[\"~\",\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",\"Backspace\",\"Del\"],\n[{w:1.5},\"Tab\",\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{w:1.5},\"|\\n\\\\\"],\n[{w:1.75},\"Caps Lock\",\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{w:2.25},\"Enter\"],\n[{w:1.25},\"Shift\",\"NUBS\",\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{w:1.75},\"Shift\",\"Fn\"],\n[{w:1.5},\"Ctrl\",\"Win\",{w:1.5},\"Alt\",{a:7,w:7},\"\",{a:4,w:1.5},\"Alt\",\"Win\",{w:1.5},\"Menu\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n    K00, K10, K01, K11, K02, K12, K03, K13, K04, K14, K05, K15, K06, K16, K07,\\\n    K20, K30, K21, K31, K22, K32, K23, K33, K24, K34, K25, K35, K26, K36,\\\n\tK40, K50, K41, K51, K42, K52, K43, K53, K44, K54, K45, K55,      K56,\\\n\tK60, K70, K61, K71, K62, K72, K63, K73, K64, K74, K65, K75, K66, K76,\\\n\tK80, K90, K81,                     K93,                K95, K86, K96\\\n) { \\\n    { K00, K01, K02, K03, K04, K05, K06, K07 }, \\\n    { K10, K11, K12, K13, K14, K15, K16 }, \\\n    { K20, K21, K22, K23, K24, K25, K26 }, \\\n    { K30, K31, K32, K33, K34, K35, K36 }, \\\n    { K40, K41, K42, K43, K44, K45, KC_NO }, \\\n    { K50, K51, K52, K53, K54, K55, K56 }, \\\n    { K60, K61, K62, K63, K64, K65, K66 }, \\\n    { K70, K71, K72, K73, K74, K75, K76 }, \\\n\t{ K80, K81, KC_NO, KC_NO, KC_NO, KC_NO, K86 }, \\\n    { K90, KC_NO, KC_NO, K93, KC_NO, K95, K96 } \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'IDB 60',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x60606060\n};\n\nexport default DEVICE_META;\n\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{a:7},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],\n[{w:1.5},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{w:1.5},\"\",\"\"],\n[{w:1.75},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{w:2.25},\"\",\"\"],\n[{w:2.25},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{w:1.75},\"\",\"\",\"\"],\n[{w:1.5},\"\",{w:1.25},\"\",{w:1.5},\"\",{w:2.25},\"\",{w:1.5},\"\",{w:2.75},\"\",{w:1.25},\"\",\"\",\"\",\"\",\"\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n\tK000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K212, K014, \\\n\tK100,       K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, \\\n\tK200,       K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211,       K213, K214, \\\n\tK300,       K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311,       K313, K314, \\\n\tK400, K401, K402,       K403,       K405,       K407,             K409, K410, K411, K413, K414  \\\n) \\\n{ \\\n\t{ K000,  K001,  K002,  K003,  K004,  K005,  K006,  K007,  K008,  K009,  K010,  K011,  K012,  K013,  K014 }, \\\n\t{ K100,  K101,  K102,  K103,  K104,  K105,  K106,  K107,  K108,  K109,  K110,  K111,  K112,  K113,  K114 }, \\\n\t{ K200,  K201,  K202,  K203,  K204,  K205,  K206,  K207,  K208,  K209,  K210,  K211,  K212,  K213,  K214 }, \\\n\t{ K300,  K301,  K302,  K303,  K304,  K305,  K306,  K307,  K308,  K309,  K310,  K311,  KC_NO, K313,  K314 }, \\\n\t{ K400,  K401,  K402,  K403,  KC_NO, K405,  KC_NO, K407,  KC_NO, K409,  K410,  K411,  KC_NO, K413,  K414 }  \\\n}`;\n\nconst DEVICE_META = {\n  name: 'Lunar',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0xa1030001\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#950013\",t:\"#e4dedd\"},\"Esc\",{c:\"#e4dedd\",t:\"#212224\"},\"Q\",\"W\",\"E\",\"R\",\"T\",{x:1.5},\"Y\",\"U\",\"I\",\"O\",\"P\",{c:\"#5d6060\",t:\"#e4dedd\"},\"Del\",\"Back Space\"],\n[{w:1.25},\"Tab\",{c:\"#e4dedd\",t:\"#212224\"},\"A\",\"S\",\"D\",\"F\",\"G\",{x:1.5},\"H\",\"J\",\"K\",\"L\",\":\\n;\",{c:\"#950013\",t:\"#e4dedd\",w:1.75},\"Enter\"],\n[{c:\"#5d6060\",w:1.75},\"Shift\",{c:\"#e4dedd\",t:\"#212224\"},\"Z\",\"X\",\"C\",\"V\",\"B\",{x:0.5},\"Fn2\",\"N\",\"M\",\"<\\n.\",\">\\n.\",\"?\\n/\",{c:\"#5d6060\",t:\"#e4dedd\",w:1.25},\"Shift\"],\n[{w:1.25},\"Ctrl\",{w:1.25},\"Menu\",{x:1,w:1.25},\"Alt\",{c:\"#e4dedd\",t:\"#212224\",w:2},\"Fn1\",{x:0.5,w:2.25},\"Space\",{c:\"#5d6060\",t:\"#e4dedd\",w:1.25},\"Super\",{x:1.25,w:1.25},\"Win\",{w:1.25},\"Ctl\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n\tK000, K001, K002, K003, K004, K005,  \t\tK006, K007, K008, K009, K010, K011, K012, \\\n\tK100, K101, K102, K103, K104, K105,  \t\tK106, K107, K108, K109, K110, K112, \\\n\tK200, K201, K202, K203, K204, K205,  \t\tK206, K207, K208, K209, K210, K211, K212, \\\n\tK300, K301,  \t\t\tK303, K304,  \t\t      K306, K308, \t\t\t\tK311, K312 \\\n) { \\\n\t{ K000,  K001,  K002,  K003,  K004,  K005,  K006,  K007,  K008,  K009,  K010,  K011,  K012 }, \\\n\t{ K100,  K101,  K102,  K103,  K104,  K105,  K106,  K107,  K108,  K109,  K110,  KC_NO, K112 }, \\\n\t{ K200,  K201,  K202,  K203,  K204,  K205,  K206,  K207,  K208,  K209,  K210,  K211,  K212 }, \\\n\t{ K300,  K301,  KC_NO, K303,  K304,  KC_NO, K306,  KC_NO, K308,  KC_NO, KC_NO, K311,  K312 } \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'PRIME_E',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x50520051\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta';\n\nexport const LAYOUT = `[\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\"],\n[{w:1.5},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{w:1.5},\"x\",\"x\"],\n[{w:1.75},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{w:2.25},\"x\",\"x\"],\n[{w:2.25},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{w:1.75},\"x\",\"x\",\"x\"],\n[{w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{w:6.25},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n\tK000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K014, K015, \\\n\tK100,       K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, K115, \\\n\tK200,       K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212,       K214, K215, \\\n\tK300,       K302, K303, K304, K305, K306, K307, K308, K309, K310, K311,       K313, K314, K315, \\\n\tK400, K401,       K403,             K406,                   K410, K411, K412, K413, K414, K415  \\\n) { \\\n\t{ K000,  K001,  K002,  K003,  K004,  K005,  K006,  K007,  K008,  K009,  K010,  K011,  K012,  K013,  K014,  K015 }, \\\n\t{ K100,  KC_NO, K102,  K103,  K104,  K105,  K106,  K107,  K108,  K109,  K110,  K111,  K112,  K113,  K114,  K115 }, \\\n\t{ K200,  KC_NO, K202,  K203,  K204,  K205,  K206,  K207,  K208,  K209,  K210,  K211,  K212,  KC_NO, K214,  K215 }, \\\n\t{ K300,  KC_NO, K302,  K303,  K304,  K305,  K306,  K307,  K308,  K309,  K310,  K311,  KC_NO, K313,  K314,  K315 }, \\\n\t{ K400,  K401,  KC_NO, K403,  KC_NO, KC_NO, K406,  KC_NO, KC_NO, KC_NO, K410,  K411,  K412,  K413,  K414,  K415 }  \\\n}`;\n\nconst DEVICE_META = {\n  name: 'E6.5',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0xfeed6500\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta';\n\nexport const LAYOUT = `[\"Esc\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"0\",\"-\",\"=\",\"|\",\"~\"],\n[{w:1.5},\"Tab\",\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"[\",\"]\",{w:1.5},\"Backspace\"],\n[{w:1.75},\"Caps Lock\",\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\";\",\"'\",{w:2.25},\"Enter\"],\n[{w:2.25},\"Shift\",\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\",\",\".\",\"/\",{w:1.75},\"Shift\",\"Fn\"],\n[{w:1.25},\"Ctrl\",{w:1.25},\"Win\",{w:1.25},\"Alt\",{a:7,w:6.25},\"\",{a:4,w:1.25},\"Alt\",{w:1.25},\"Win\",{w:1.25},\"Menu\",{w:1.25},\"Ctrl\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n\tk00, k01, k02, k03, k04, k05, k06, k07, k08, k09, k0a, k0b, k0c, k0d, k0e, \\\n\tk10, k11, k12, k13, k14, k15, k16, k17, k18, k19, k1a, k1b, k1c, k1e, \\\n\tk20,      k22, k23, k24, k25, k26, k27, k28, k29, k2a, k2b, k2c, k2e, \\\n\tk30,      k32, k33, k34, k35, k36, k37, k38, k39, k3a, k3b, k3c, k3d, \\\n\tk40,      k42, k43,                k47, k48, k49, k4a, k4b       \\\n\t) { \\\n\t\t{k00,   k01, k02,   k03,   k04,   k05, k06, k08,   k09,   k0a,   k0b, k0c,   k0d, k0e}, \\\n\t\t{k10,   k11, k12,   k13,   k14,   k15, k16, k17,   k18,   k19,   k1a, k1b,   k1c, k1e}, \\\n\t\t{k20,   k22, k23,   k24,   k25,   k26, k27, k28,   k29,   k2a,   k2b, k2c, KC_NO, k2e}, \\\n\t\t{k30, KC_NO, k32,   k33,   k34,   k35, k36, k37,   k38,   k39,   k3a, k3b,   k3c, k3d}, \\\n\t\t{k40,   k42, k43, KC_NO, KC_NO, KC_NO, k47, k07, KC_NO, KC_NO,   k48, k49,   k4a, k4b}  \\\n\t}`;\n\nconst DEVICE_META = {\n  name: 'Leaf 60',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x60be00be\n};\n\nexport default DEVICE_META;\n","import { LightingSupport } from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#505557\",t:\"#d9d7d7\",a:7},\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n\tK00, K01, K02, \\\n\tK10, K11, K12, \\\n\tK20, K21, K22, \\\n\tK30, K31, K32  \\\n) \\\n{ \\\n\t{ K00,   K01,   K02 }, \\\n\t{ K10,   K11,   K12 }, \\\n\t{ K20,   K21,   K22 }, \\\n\t{ K30,   K31,   K32 }  \\\n}\n`;\n\nconst DEVICE_META = {\n\tname: 'romac',\n\tlayout: LAYOUT,\n\tmatrixLayout: MATRIX,\n\tlights: LightingSupport.None,\n\tvendorProductId: 0x52530001\n};\n\nexport default DEVICE_META;\n","import { LightingSupport } from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{w:1.5},\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT( \\\n    K0 \\\n) \\\n{ \\\n    { K0 } \\\n}\n`;\n\nconst DEVICE_META = {\n\tname: 'is0',\n\tlayout: LAYOUT,\n\tmatrixLayout: MATRIX,\n\tlights: LightingSupport.None,\n\tvendorProductId: 0xa1030012\n};\n\nexport default DEVICE_META;\n","import { LightingSupport } from '../../../utils/device-meta'\n\nexport const xLAYOUT = `[{c:\"#bbbbbb\"},\"x\",{x:0.25,c:\"#aaaaaa\"},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#bbbbbb\"},\"x\",\"x\"],\n[\"x\",{x:0.25,w:1.5},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#bbbbbb\",w:1.5},\"x\"],\n[\"x\",{x:0.25,w:1.75},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#aaaaaa\",w:2.25},\"x\"],\n[{x:1.25,c:\"#bbbbbb\",w:2.25},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#bbbbbb\",w:1.75},\"x\",\"x\"],\n[{x:1.25,w:1.5},\"x\",{w:1.5},\"x\",{c:\"#aaaaaa\",w:2.25},\"x\",{c:\"#bbbbbb\"},\"x\",{c:\"#aaaaaa\",w:2.75},\"x\",{c:\"#bbbbbb\",w:1.5},\"x\",{w:1.5},\"x\"]`;\n\nexport const LAYOUT = `[{c:\"#bbbbbb\"},\"x\",{x:0.25,c:\"#aaaaaa\"},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{x:2.25},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#bbbbbb\"},\"x\",\"x\"],\n[\"x\",{x:0.25,w:1.5},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{x:2.25},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{w:1.5},\"x\"],\n[{c:\"#bbbbbb\"},\"x\",{x:0.25,w:1.75},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",{x:2.25},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#aaaaaa\",w:2.25},\"x\"],\n[{x:1.25,c:\"#bbbbbb\",w:2.25},\"x\",{c:\"#cccccc\"},\"x\",\"x\",\"x\",\"x\",\"x\",{x:1.25},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#bbbbbb\",w:1.75},\"x\",\"x\"],\n[{x:1.25,w:1.5},\"x\",{x:1.5,w:1.5},\"x\",{c:\"#cccccc\",w:2.25},\"x\",{c:\"#bbbbbb\"},\"x\",{x:0.75,c:\"#cccccc\",w:2.75},\"x\",{c:\"#bbbbbb\",w:1.5},\"x\",{x:3,w:1.5},\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n\tK10, K00, K01, K02, K03, K04, K05, K06,   K56, K55, K54, K53, K52, K51, K50, K57, \\\n\tK20, K11, K12, K13, K14, K15, K16,        K66, K65, K64, K63, K62, K61, K60, K67, \\\n\tK30, K21, K22, K23, K24, K25, K26,        K76, K75, K74, K73, K72, K71,      K77, \\\n\t\t K31, K32, K33, K34, K35, K36,        K86, K85, K84, K83, K82, K81, K80, K87, \\\n\t\t K41,      K43,      K45, K46,        K95,           K93,                K90  \\\n  ) \\\n  { \\\n\t  { K00,   K01,   K02,   K03,   K04,   K05,   K06,   KC_NO  }, \\\n\t  { K10,   K11,   K12,   K13,   K14,   K15,   K16,   KC_NO  }, \\\n\t  { K20,   K21,   K22,   K23,   K24,   K25,   K26,   KC_NO  }, \\\n\t  { K30,   K31,   K32,   K33,   K34,   K35,   K36,   KC_NO  }, \\\n\t  { KC_NO, K41,   KC_NO, K43,   KC_NO, K45,   K46,   KC_NO  }, \\\n\t  { K50,   K51,   K52,   K53,   K54,   K55,   K56,   K57    }, \\\n\t  { K60,   K61,   K62,   K63,   K64,   K65,   K66,   K67    }, \\\n\t  { KC_NO, K71,   K72,   K73,   K74,   K75,   K76,   K77    }, \\\n\t  { K80,   K81,   K82,   K83,   K84,   K85,   K86,   K87    }, \\\n\t  { K90,   KC_NO, KC_NO, K93,   KC_NO, K95,   KC_NO, KC_NO  }  \\\n  }\n`;\n\nconst DEVICE_META = {\n\tname: 'OSA',\n\tlayout: LAYOUT,\n\tmatrixLayout: MATRIX,\n\tlights: LightingSupport.None,\n\tvendorProductId: 0x53430001\n};\n\nexport default DEVICE_META;\n","import RAMA_WORKS_KOYU from './rama_works_koyu'\nimport RAMA_WORKS_M6_A from './rama_works_m6_a'\nimport RAMA_WORKS_M6_B from './rama_works_m6_b'\nimport RAMA_WORKS_M10_B from './rama_works_m10_b'\nimport RAMA_WORKS_M60_A from './rama_works_m60_a'\nimport RAMA_WORKS_U80_A from './rama_works_u80_a'\nimport WT8_A from './wt8_a';\nimport WT60_A from './wt60_a';\nimport WT60_D from './wt60_d';\nimport WT65_A from './wt65_a';\nimport WT65_B from './wt65_b';\nimport WT69_A from './wt69_a';\nimport WT75_A from './wt75_a';\nimport WT75_B from './wt75_b';\nimport WT75_C from './wt75_c';\nimport WT80_A from './wt80_a';\nimport ZEAL60 from './zeal60';\nimport ZEAL65 from './zeal65';\n\nconst KEYBOARDS = [\n    RAMA_WORKS_KOYU,\n    RAMA_WORKS_M6_A,\n    RAMA_WORKS_M6_B,\n    RAMA_WORKS_M10_B,\n    RAMA_WORKS_M60_A,\n    RAMA_WORKS_U80_A,\n    WT8_A,\n    WT60_A,\n    WT60_D,\n    WT65_A,\n    WT65_B,\n    WT69_A,\n    WT75_A,\n    WT75_B,\n    WT75_C,\n    WT80_A,\n    ZEAL60,\n    ZEAL65,\n]\n\nexport default KEYBOARDS;","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#DEBFB3\",t:\"#363636\"},\"\",{c:\"#ebebeb\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{c:\"#363636\",t:\"#DEBFB3\"},\"PrtSc\",\"Pause\\nBreak\",\"Num Lock\"],\n[{w:1.5},\"Tab\",{c:\"#ebebeb\",t:\"#363636\"},\"\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{c:\"#363636\",t:\"#DEBFB3\",w:1.5},\"|\\n\\\\\",\"Insert\"],\n[{w:1.75},\"Caps Lock\",{c:\"#ebebeb\",t:\"#363636\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#363636\",t:\"#DEBFB3\",w:2.25},\"Enter\",\"Home\"],\n[{w:2.25},\"Shift\",{c:\"#ebebeb\",t:\"#363636\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#363636\",t:\"#DEBFB3\",w:1.75},\"Shift\",{c:\"#DEBFB3\",t:\"#363636\"},\"↑\",{c:\"#363636\",t:\"#DEBFB3\"},\"/\"],\n[{w:1.5},\"Ctrl\",\"Win\",{w:1.5},\"Alt\",{c:\"#DEBFB3\",t:\"#363636\",a:7,w:7},\"\",{c:\"#363636\",t:\"#DEBFB3\",a:4,w:1.5},\"Ctrl\",{x:0.5,c:\"#DEBFB3\",t:\"#363636\"},\"←\",\"↓\",\"→\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n    K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K213, K014, \\\n    K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113,       K114, \\\n    K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212,             K214, \\\n    K300, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312,             K313, K314, \\\n    K400, K401, K402,                   K407,                         K411,       K412, K413, K414  \\\n) { \\\n    { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K014 }, \\\n    { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114 }, \\\n    { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213, K214 }, \\\n    { K300, ____, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313, K314 }, \\\n    { K400, K401, K402, ____, ____, ____, ____, K407, ____, ____, ____, K411, K412, K413, K414 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'RAMA WORKS KOYU',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.WTRGBBacklight,\n  vendorProductId: 0x52414b59\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#505557\",t:\"#d9d7d7\",a:7},\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT(                         \\\n    K00, K01, K02, K03, K04, K05)       \\\n    {                                   \\\n        {K00, K01, K02, K03, K04, K05}, \\\n    }\n`;\n\nconst DEVICE_META = {\n  name: 'RAMA WORKS M6-A',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x5241006a\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#505557\",t:\"#d9d7d7\",a:7},\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT(                         \\\n    K00, K01, K02, K03, K04, K05)       \\\n    {                                   \\\n        {K00, K01, K02, K03, K04, K05}, \\\n    }\n`;\n\nconst DEVICE_META = {\n  name: 'RAMA WORKS M6-B',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.WTRGBBacklight,\n  vendorProductId: 0x5241006b\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#505557\",t:\"#d9d7d7\",a:7},\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\"],\n[{x:1,w:2},\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT(                         \\\n  K00, K01, K02, K03, K04, K05, K06, K07, K08, K09 )       \\\n  {                                   \\\n      {K00, K01, K02, K03, K04, K05, K06, K07, K08, K09}, \\\n  }\n`;\n\nconst DEVICE_META = {\n  name: 'RAMA WORKS M10-B',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x524100ab\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#4d525a\",t:\"#e2e2e2\"},\"Esc\",{c:\"#e2e2e2\",t:\"#363636\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",\"|\\n\\\\\",{c:\"#4d525a\",t:\"#e2e2e2\"},\"n\"],\n[{w:1.5},\"Tab\",{c:\"#e2e2e2\",t:\"#363636\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{c:\"#4d525a\",t:\"#e2e2e2\",w:1.5},\"Backspace\"],\n[{c:\"#f5cb01\",t:\"#4d525a\",w:1.75},\"Control\",{c:\"#e2e2e2\",t:\"#363636\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#4d525a\",t:\"#e2e2e2\",w:2.25},\"Enter\"],\n[{w:2.25},\"Shift\",{c:\"#e2e2e2\",t:\"#363636\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#4d525a\",t:\"#e2e2e2\",w:1.75},\"Shift\",{c:\"#f5cb01\",t:\"#4d525a\"},\"Fn\"],\n[{x:1.5,c:\"#4d525a\",t:\"#e2e2e2\"},\"Alt\",{w:1.5},\"Meta\",{c:\"#e2e2e2\",t:\"#363636\",a:7,w:7},\"\",{c:\"#4d525a\",t:\"#e2e2e2\",a:4,w:1.5},\"Meta\",\"Alt\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_60_hhkb( \\\n    K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, K2D, \\\n    K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K1D, \\\n    K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C,      \\\n    K30,      K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C, K3D, \\\n         K41, K42,                     K47,                K4B, K4C       \\\n) { \\\n    { K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D }, \\\n    { K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K1D }, \\\n    { K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C, K2D }, \\\n    { K30, XXX, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C, K3D }, \\\n    { XXX, K41, K42, XXX, XXX, XXX, XXX, K47, XXX, XXX, XXX, K4B, K4C, XXX }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'RAMA WORKS M60-A',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.WTRGBBacklight,\n  vendorProductId: 0x5241060a\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#afb0ae\",t:\"#505557\"},\"x\",{x:1,c:\"#505557\",t:\"#aeb0b0\"},\"x\",\"x\",\"x\",\"x\",{x:0.5,c:\"#6b7173\"},\"x\",\"x\",\"x\",\"x\",{x:0.5,c:\"#505557\"},\"x\",\"x\",\"x\",\"x\",{x:0.25,c:\"#6b7173\"},\"x\",\"x\",\"x\"],\n[{y:0.25},\"x\",{c:\"#505557\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#6b7173\",w:2},\"x\",{x:0.25},\"x\",\"x\",\"x\"],\n[{w:1.5},\"x\",{c:\"#505557\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#6b7173\",w:1.5},\"x\",{x:0.25},\"x\",\"x\",\"x\"],\n[{w:1.75},\"x\",{c:\"#505557\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#afb0ae\",t:\"#505557\",w:2.25},\"x\"],\n[{c:\"#6b7173\",t:\"#aeb0b0\",w:2.25},\"x\",{c:\"#505557\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#6b7173\",w:2.75},\"x\",{x:1.25},\"x\"],\n[{w:1.5},\"x\",\"x\",{w:1.5},\"x\",{c:\"#505557\",w:7},\"x\",{c:\"#6b7173\",w:1.5},\"x\",\"x\",{w:1.5},\"x\",{x:0.25},\"x\",\"x\",\"x\"]`;\n\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n  K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012,             K014, K015, K016, \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113,       K114, K115, K116, \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213,       K214, K215, K216, \\\n  K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312,                               \\\n  K400,       K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412,                   K415,       \\\n  K500, K501, K502,                         K507,                   K511, K512, K513,       K514, K515, K516  \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, ____, K014, K015, K016 }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, K115, K116 }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213, K214, K215, K216 }, \\\n  { K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, ____, ____, ____, ____ }, \\\n  { K400, ____, K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412, ____, ____, K415, ____ }, \\\n  { K500, K501, K502, ____, ____, ____, ____, K507, ____, ____, ____, K511, K512, K513, K514, K515, K516 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'RAMA WORKS U80-A',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.WTRGBBacklight,\n  vendorProductId:  0x5241080A\n};\n\nexport default DEVICE_META;","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#505557\",t:\"#d9d7d7\",a:7},\"x\",\"x\",\"x\",\"x\"],\n[\"x\",\"x\",\"x\",\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT(                                   \\\n  K00, K01, K02, K03, K04, K05, K06, K07 )       \\\n  {                                              \\\n      {K00, K01, K02, K03, K04, K05, K06, K07 }, \\\n  }\n`;\n\nconst DEVICE_META = {\n  name: 'WT8-A',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x6582008a\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#ba8080\",t:\"#ffe6d4\"},\"x\",{c:\"#f7f2ea\",t:\"#ba8080\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ffe6d4\"},\"x\"],\n[{w:1.5},\"x\",{c:\"#f7f2ea\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ffe6d4\",w:1.5},\"x\"],\n[{w:1.75},\"x\",{c:\"#f7f2ea\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ba8080\",t:\"#ffe6d4\",w:2.25},\"x\"],\n[{c:\"#ffe6d4\",t:\"#ba8080\",w:2.25},\"x\",{c:\"#f7f2ea\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ffe6d4\",w:1.75},\"x\",\"x\"],\n[{w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{c:\"#f7f2ea\",w:6.25},\"x\",{c:\"#ffe6d4\",w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_60_ansi_split_bs_rshift( \\\n  K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K213, \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113,       \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212,             \\\n  K300,       K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313,       \\\n  K400, K401, K402,                   K406,                   K410, K411, K412, K413        \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013 }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113 }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213 }, \\\n  { K300, ____, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313 }, \\\n  { K400, K401, K402, ____, ____, ____, K406, ____, ____, ____, K410, K411, K412, K413 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'WT60-A',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x6582060a\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#ba8080\",t:\"#ffe6d4\"},\"x\",{c:\"#f7f2ea\",t:\"#ba8080\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ffe6d4\"},\"x\"],\n[{w:1.5},\"x\",{c:\"#f7f2ea\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ffe6d4\",w:1.5},\"x\"],\n[{w:1.75},\"x\",{c:\"#f7f2ea\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ba8080\",t:\"#ffe6d4\",w:2.25},\"x\"],\n[{c:\"#ffe6d4\",t:\"#ba8080\",w:1.25},\"x\",\"x\",{c:\"#f7f2ea\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ffe6d4\",w:1.75},\"x\",\"x\"],\n[{w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{c:\"#f7f2ea\",w:6.25},\"x\",{c:\"#ffe6d4\",w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n  K000, K003, K002, K001, K004, K005, K006, K007, K008, K009, K012, K011, K010, K013, K213, \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113,       \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212,             \\\n  K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313,       \\\n  K400, K401, K402,                   K403,                   K410, K411, K412, K413        \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013 }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113 }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213 }, \\\n  { K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313 }, \\\n  { K400, K401, K402, K403, ____, ____, ____, ____, ____, ____, K410, K411, K412, K413 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'WT60-D',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x6582060d\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#c28080\",t:\"#fff5f0\",a:6},\"Esc\",{c:\"#fff5f0\",t:\"#c28080\",a:4},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{c:\"#91c4c3\",a:6},\"Backspace\",\"Backspace\",\"Home\"],\n[{w:1.5},\"Tab\",{c:\"#fff5f0\",a:4,f:7},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",{f:3},\"{\\n[\",\"}\\n]\",{c:\"#91c4c3\",w:1.5},\"|\\n\\\\\",{a:6},\"PgUp\"],\n[{w:1.75},\"Caps Lock\",{c:\"#fff5f0\",a:4,f:7},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",{f:3},\":\\n;\",\"\\\"\\n'\",{c:\"#c28080\",t:\"#fff5f0\",a:6,w:2.25},\"Enter\",{c:\"#91c4c3\",t:\"#c28080\"},\"PgDn\"],\n[{w:2.25},\"Shift\",{c:\"#fff5f0\",a:4,f:7},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",{f:3},\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#91c4c3\",a:6,w:1.75},\"Shift\",\"↑\",\"Fn\"],\n[{w:1.25},\"Ctrl\",{w:1.25},\"Win\",{w:1.25},\"Alt\",{c:\"#fff5f0\",a:7,w:6.25},\"\",{c:\"#91c4c3\",a:6,w:1.25},\"Alt\",{w:1.25},\"Fn\",{x:0.5},\"←\",\"↓\",\"→\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n  K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K213, K014, \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113,       K114, \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212,             K214, \\\n  K300, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312,             K313, K314, \\\n  K400, K401, K402,                   K406,                   K410, K411,       K412, K413, K414  \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K014 }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114 }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213, K214 }, \\\n  { K300, ____, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313, K314 }, \\\n  { K400, K401, K402, ____, ____, ____, K406, ____, ____, ____, K410, K411, K412, K413, K414 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'WT65-A',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x6582065a\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#1a6639\"},\"Esc\",{c:\"#cccccc\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",\"|\\n\\\\\",{c:\"#555555\"},\"Del\",\"Home\"],\n[{w:1.5},\"Tab\",{c:\"#cccccc\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{c:\"#555555\",w:1.5},\"Backspace\",\"End\"],\n[{w:1.75},\"Control\",{c:\"#cccccc\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#555555\",w:2.25},\"Enter\",\"PgUp\"],\n[{w:2.25},\"Shift\",{c:\"#cccccc\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#555555\",w:1.75},\"Shift\",{c:\"#1a6639\"},\"Up\",{c:\"#555555\"},\"PgDn\"],\n[{w:1.5},\"Win\",{x:0.75,w:1.5},\"Alt\",{c:\"#cccccc\",a:7,w:7},\"\",{c:\"#555555\",a:4,w:1.5},\"Fn\",{x:0.75,c:\"#1a6639\"},\"Left\",\"Down\",\"Right\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n  K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K213, K014, \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113,       K114, \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212,             K214, \\\n  K300, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312,             K313, K314, \\\n  K400,       K402,                   K406,                         K411,       K412, K413, K414  \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K014 }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114 }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213, K214 }, \\\n  { K300, ____, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313, K314 }, \\\n  { K400, ____, K402, ____, ____, ____, K406, ____, ____, ____, ____, K411, K412, K413, K414 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'WT65-B',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x6582065b\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#bbbbbb\"},\"F1\",\"F2\",{x:0.25,c:\"#888888\"},\"Esc\",{c:\"#cccccc\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{c:\"#bbbbbb\"},\"BkSp\",\"BkSp\",\"Home\"],\n[\"F3\",\"F4\",{x:0.25,w:1.5},\"Tab\",{c:\"#cccccc\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{w:1.5},\"|\\n\\\\\",{c:\"#bbbbbb\"},\"PgUp\"],\n[\"F5\",\"F6\",{x:0.25,w:1.75},\"Caps Lock\",{c:\"#cccccc\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#bbbbbb\",w:2.25},\"Enter\",\"PgDn\"],\n[\"F7\",\"F8\",{x:0.25,w:2.25},\"Shift\",{c:\"#cccccc\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#bbbbbb\",w:1.75},\"Shift\",{c:\"#888888\"},\"↑\",{c:\"#bbbbbb\"},\"End\"],\n[\"F9\",\"F10\",{x:0.25,w:1.5},\"Control\",\"Win\",{w:1.5},\"Alt\",{c:\"#cccccc\",a:7,w:7},\"\",{c:\"#bbbbbb\",a:4,w:1.5},\"Fn\",{x:0.5,c:\"#888888\"},\"←\",\"↓\",\"→\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n  K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K014, K015, K215, K016, \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, K115,       K116, \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213, K214,             K216, \\\n  K300, K301, K302, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313, K314,             K315, K316, \\\n  K400, K401, K402, K403, K404,                   K408,                         K413,       K414, K415, K416  \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K014, K015, K016 }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, K115, K116 }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213, K214, K215, K216 }, \\\n  { K300, K301, K302, ____, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313, K314, K315, K316 }, \\\n  { K400, K401, K402, K403, K404, ____, ____, ____, K408, ____, ____, ____, ____, K413, K414, K415, K416 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'WT69-A',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x6582069a\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#888888\",a:7},\"\",{x:0.5,c:\"#cccccc\"},\"\",\"\",\"\",\"\",{x:0.25,c:\"#aaaaaa\"},\"\",\"\",\"\",\"\",{x:0.25,c:\"#cccccc\"},\"\",\"\",\"\",\"\",{x:1,c:\"#aaaaaa\"},\"\"],\n[{y:0.25,c:\"#cccccc\"},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{c:\"#aaaaaa\"},\"\",\"\",\"\"],\n[{w:1.5},\"\",{c:\"#cccccc\"},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{w:1.5},\"\",{c:\"#aaaaaa\"},\"\"],\n[{w:1.75},\"\",{c:\"#cccccc\"},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{c:\"#aaaaaa\",w:2.25},\"\",\"\"],\n[{w:2.25},\"\",{c:\"#cccccc\"},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{c:\"#aaaaaa\",w:1.75},\"\",{c:\"#888888\"},\"\",{c:\"#aaaaaa\"},\"\"],\n[{w:1.25},\"\",{w:1.25},\"\",{w:1.25},\"\",{c:\"#cccccc\",w:6.25},\"\",{c:\"#aaaaaa\",w:1.25},\"\",{w:1.25},\"\",{x:0.5,c:\"#888888\"},\"\",\"\",\"\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n  K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012,             K014, \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K313, K114, \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213,       K214, \\\n  K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312,             K314, \\\n  K400, K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412,             K413, K414, \\\n  K500, K501, K502,                   K506,                   K510, K511,       K512, K513, K514  \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, ____, K014 }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114 }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213, K214 }, \\\n  { K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313, K314 }, \\\n  { K400, ____, K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412, K413, K414 }, \\\n  { K500, K501, K502, ____, ____, ____, K506, ____, ____, ____, K510, K511, K512, K513, K514 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'WT75-A',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x6582075a\n};\n\nexport default DEVICE_META;","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#888888\",a:7},\"\",{c:\"#cccccc\"},\"\",\"\",\"\",\"\",{c:\"#aaaaaa\"},\"\",\"\",\"\",\"\",{c:\"#cccccc\"},\"\",\"\",\"\",\"\",{c:\"#aaaaaa\"},\"\",\"\",\"\"],\n[{c:\"#cccccc\"},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{c:\"#aaaaaa\"},\"\",\"\",\"\"],\n[{w:1.5},\"\",{c:\"#cccccc\"},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{w:1.5},\"\",{c:\"#aaaaaa\"},\"\"],\n[{w:1.75},\"\",{c:\"#cccccc\"},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{c:\"#aaaaaa\",w:2.25},\"\",\"\"],\n[{w:2.25},\"\",{c:\"#cccccc\"},\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",{c:\"#aaaaaa\",w:1.75},\"\",{c:\"#888888\"},\"\",{c:\"#aaaaaa\"},\"\"],\n[{w:1.25},\"\",{w:1.25},\"\",{w:1.25},\"\",{c:\"#cccccc\",w:6.25},\"\",{c:\"#aaaaaa\",w:1.25},\"\",{w:1.25},\"\",{x:0.5,c:\"#888888\"},\"\",\"\",\"\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n  K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K014, K015, \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, K115, \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213,       K215, \\\n  K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312,             K315, \\\n  K400, K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412,             K413, K415, \\\n  K500, K501, K502,                   K506,                   K510, K511,       K512, K513, K515  \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, K013, K014, K015 }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, K115 }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213, ____, K215 }, \\\n  { K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, ____, ____, K315 }, \\\n  { K400, ____, K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412, K413, ____, K415 }, \\\n  { K500, K501, K502, ____, ____, ____, K506, ____, ____, ____, K510, K511, K512, K513, ____, K515 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'WT75-B',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x6582075b\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#888888\",a:7},\"0\",{x:0.25,c:\"#cccccc\"},\"1\",\"2\",\"3\",\"4\",{x:0.25,c:\"#aaaaaa\"},\"5\",\"6\",\"7\",\"8\",{x:0.25,c:\"#cccccc\"},\"9\",\"10\",\"11\",\"12\",{x:0.25,c:\"#aaaaaa\"},\"13\"],\n[{y:0.25,c:\"#cccccc\"},\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",{c:\"#aaaaaa\"},\"27\",\"28\",{x:0.25},\"29\"],\n[{w:1.5},\"30\",{c:\"#cccccc\"},\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",{w:1.5},\"43\",{x:0.25,c:\"#aaaaaa\"},\"44\"],\n[{w:1.75},\"45\",{c:\"#cccccc\"},\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",{c:\"#aaaaaa\",w:2.25},\"57\",{x:0.25},\"58\"],\n[{w:2.25},\"59\",{c:\"#cccccc\"},\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",{c:\"#aaaaaa\",w:1.75},\"70\"],\n[{y:-0.75,x:14.25,c:\"#888888\"},\"71\"],\n[{y:-0.25,c:\"#aaaaaa\",w:1.5},\"72\",\"73\",{w:1.5},\"74\",{c:\"#cccccc\",w:6},\"75\",{c:\"#aaaaaa\",w:1.5},\"76\",{w:1.5},\"77\"],\n[{y:-0.75,x:13.25,c:\"#888888\"},\"78\",\"79\",\"80\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n  K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012,       K014,       \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, K115, \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213,       K215, \\\n  K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312,             K315, \\\n  K400, K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412,             K413,       \\\n  K500, K501, K502,                   K506,                   K510, K511,       K512, K513, K515  \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, ____, K014, ____ }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, K115 }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213, ____, K215 }, \\\n  { K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, ____, ____, K315 }, \\\n  { K400, ____, K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412, K413, ____, ____ }, \\\n  { K500, K501, K502, ____, ____, ____, K506, ____, ____, ____, K510, K511, K512, K513, ____, K515 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'WT75-C',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x6582075c\n};\n\nexport default DEVICE_META;","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#afb0ae\",t:\"#505557\"},\"x\",{x:1,c:\"#505557\",t:\"#aeb0b0\"},\"x\",\"x\",\"x\",\"x\",{x:0.5,c:\"#6b7173\"},\"x\",\"x\",\"x\",\"x\",{x:0.5,c:\"#505557\"},\"x\",\"x\",\"x\",\"x\",{x:0.25,c:\"#6b7173\"},\"x\",\"x\",\"x\"],\n[{y:0.25},\"x\",{c:\"#505557\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#6b7173\"},\"x\",\"x\",{x:0.25},\"x\",\"x\",\"x\"],\n[{w:1.5},\"x\",{c:\"#505557\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#6b7173\",w:1.5},\"x\",{x:0.25},\"x\",\"x\",\"x\"],\n[{w:1.75},\"x\",{c:\"#505557\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#afb0ae\",t:\"#505557\",w:2.25},\"x\"],\n[{c:\"#6b7173\",t:\"#aeb0b0\",w:2.25},\"x\",{c:\"#505557\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#6b7173\",w:1.75},\"x\",\"x\",{x:1.25},\"x\"],\n[{w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{c:\"#505557\",w:6.25},\"x\",{c:\"#6b7173\",w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{x:0.25},\"x\",\"x\",\"x\"]`;\n\n\nexport const MATRIX = `\n#define LAYOUT_all( \\\n  K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012,             K014, K015, K016, \\\n  K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K313, K114, K115, K116, \\\n  K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213,       K214, K215, K216, \\\n  K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312,                               \\\n  K400,       K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412, K413,             K415,       \\\n  K500, K501, K502,                   K506,                   K510, K511, K512, K513,       K514, K515, K516  \\\n) { \\\n  { K000, K001, K002, K003, K004, K005, K006, K007, K008, K009, K010, K011, K012, ____, K014, K015, K016 }, \\\n  { K100, K101, K102, K103, K104, K105, K106, K107, K108, K109, K110, K111, K112, K113, K114, K115, K116 }, \\\n  { K200, K201, K202, K203, K204, K205, K206, K207, K208, K209, K210, K211, K212, K213, K214, K215, K216 }, \\\n  { K300, K301, K302, K303, K304, K305, K306, K307, K308, K309, K310, K311, K312, K313, ____, ____, ____ }, \\\n  { K400, ____, K402, K403, K404, K405, K406, K407, K408, K409, K410, K411, K412, K413, ____, K415, ____ }, \\\n  { K500, K501, K502, ____, ____, ____, K506, ____, ____, ____, K510, K511, K512, K513, K514, K515, K516 }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'WT80-A',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.None,\n  vendorProductId: 0x6582080a\n};\n\nexport default DEVICE_META;","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#ba8080\",t:\"#ffe6d4\"},\"x\",{c:\"#f7f2ea\",t:\"#ba8080\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ffe6d4\"},\"x\"],\n[{w:1.5},\"x\",{c:\"#f7f2ea\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ffe6d4\",w:1.5},\"x\"],\n[{w:1.75},\"x\",{c:\"#f7f2ea\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ba8080\",t:\"#ffe6d4\",w:2.25},\"x\"],\n[{c:\"#ffe6d4\",t:\"#ba8080\",w:1.25},\"x\",\"x\",{c:\"#f7f2ea\"},\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",{c:\"#ffe6d4\",w:1.75},\"x\",\"x\"],\n[{w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{c:\"#f7f2ea\",w:6.25},\"x\",{c:\"#ffe6d4\",w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\",{w:1.25},\"x\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_60_all( \\\n    K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, K2D, \\\n    K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K1D, \\\n    K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C,      \\\n    K30, K31, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C, K3D, \\\n    K40, K41, K42,                     K47,           K4A, K4B, K4C, K4D  \\\n) { \\\n    { K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D }, \\\n    { K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K1D }, \\\n    { K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C, K2D }, \\\n    { K30, K31, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C, K3D }, \\\n    { K40, K41, K42, XXX, XXX, XXX, XXX, K47, XXX, XXX, K4A, K4B, K4C, K4D }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'ZEAL60',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.WTRGBBacklight,\n  vendorProductId: 0x5a450060\n};\n\nexport default DEVICE_META;\n","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#DEBFB3\",t:\"#363636\"},\"Esc\",{c:\"#ebebeb\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{c:\"#363636\",t:\"#DEBFB3\"},\"PrtSc\",\"Pause\\nBreak\",\"Num Lock\"],\n[{w:1.5},\"Tab\",{c:\"#ebebeb\",t:\"#363636\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{c:\"#363636\",t:\"#DEBFB3\",w:1.5},\"|\\n\\\\\",\"Insert\"],\n[{w:1.75},\"Caps Lock\",{c:\"#ebebeb\",t:\"#363636\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#363636\",t:\"#DEBFB3\",w:2.25},\"Enter\",\"Home\"],\n[{w:2.25},\"Shift\",{c:\"#ebebeb\",t:\"#363636\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#363636\",t:\"#DEBFB3\",w:1.75},\"Shift\",{c:\"#DEBFB3\",t:\"#363636\"},\"↑\",{c:\"#363636\",t:\"#DEBFB3\"},\"/\"],\n[{w:1.5},\"Ctrl\",{w:1.5},\"Alt\",{c:\"#DEBFB3\",t:\"#363636\",a:7,w:7},\"\",{c:\"#363636\",t:\"#DEBFB3\",a:4,w:1.5},\"Alt\",{w:1.5},\"Ctrl\",{c:\"#DEBFB3\",t:\"#363636\"},\"←\",\"↓\",\"→\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_65_split_bs( \\\n    K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, K2D, K0E, \\\n    K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K1D, K1E, \\\n    K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C,      K2E, \\\n    K30,      K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C, K3D, K3E, \\\n    K40, K41,                          K47,           K4A, K4B, K4C, K4D, K4E  \\\n) { \\\n    { K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, K0E }, \\\n    { K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K1D, K1E }, \\\n    { K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C, K2D, K2E }, \\\n    { K30, XXX, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C, K3D, K3E }, \\\n    { K40, K41, XXX, XXX, XXX, XXX, XXX, K47, XXX, XXX, K4A, K4B, K4C, K4D, K4E }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'ZEAL65',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.WTRGBBacklight,\n  vendorProductId: 0x5a450065\n};\n\nexport default DEVICE_META;","import NK65 from './nk65';\nimport HS60_ANSI from './hs60/ansi';\nimport HS60_ISO from './hs60/iso';\nimport HS60_HHKB from './hs60/hhkb';\n\nconst KEYBOARDS = [\n    NK65,\n    HS60_ANSI,\n    HS60_ISO,\n    HS60_HHKB,\n]\n\nexport default KEYBOARDS;","import {LightingSupport} from '../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#DEBFB3\",t:\"#363636\"},\"Esc\",{c:\"#ebebeb\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{c:\"#363636\",t:\"#DEBFB3\",w:2},\"Backspace\",\"Home\"],\n[{w:1.5},\"Tab\",{c:\"#ebebeb\",t:\"#363636\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{c:\"#363636\",t:\"#DEBFB3\",w:1.5},\"|\\n\\\\\",\"Page Up\"],\n[{w:1.75},\"Caps Lock\",{c:\"#ebebeb\",t:\"#363636\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#363636\",t:\"#DEBFB3\",w:2.25},\"Enter\",\"Page Down\"],\n[{w:2.25},\"Shift\",{c:\"#ebebeb\",t:\"#363636\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#363636\",t:\"#DEBFB3\",w:1.75},\"Shift\",{c:\"#DEBFB3\",t:\"#363636\"},\"↑\",{c:\"#363636\",t:\"#DEBFB3\"},\"End\"],\n[{w:1.25},\"Ctrl\",{w:1.25},\"Win\",{w:1.25},\"Alt\",{c:\"#DEBFB3\",t:\"#363636\",a:7,w:6.25},\"\",{c:\"#363636\",t:\"#DEBFB3\",a:4},\"Alt\",\"Fn\",\"Ctrl\",{c:\"#DEBFB3\",t:\"#363636\"},\"←\",\"↓\",\"→\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_65_ansi( \\\n    K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, K0E, \\\n    K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K2C, K1E, \\\n    K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B,      K2D, K2E, \\\n    K30,      K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C, K3D, K3E, \\\n    K40, K41, K42,                K46,           K49, K4A, K4B, K4C, K4D, K4E  \\\n) { \\\n    { K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, K0E }, \\\n    { K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, XXX, K1E }, \\\n    { K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C, K2D, K2E }, \\\n    { K30, XXX, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C, K3D, K3E }, \\\n    { K40, K41, K42, XXX, XXX, XXX, K46, XXX, XXX, K49, K4A, K4B, K4C, K4D, K4E }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'NK65',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.WTRGBBacklight,\n  vendorProductId: 0x89684E4B\n};\n\nexport default DEVICE_META;","import {LightingSupport} from '../../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#DEBFB3\",t:\"#363636\"},\"Esc\",{c:\"#ebebeb\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{c:\"#363636\",t:\"#DEBFB3\",w:2},\"Backspace\"],\n[{w:1.5},\"Tab\",{c:\"#ebebeb\",t:\"#363636\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{c:\"#363636\",t:\"#DEBFB3\",w:1.5},\"|\\n\\\\\"],\n[{w:1.75},\"Caps Lock\",{c:\"#ebebeb\",t:\"#363636\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#363636\",t:\"#DEBFB3\",w:2.25},\"Enter\"],\n[{w:2.25},\"Shift\",{c:\"#ebebeb\",t:\"#363636\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#363636\",t:\"#DEBFB3\",w:2.75},\"Shift\"],\n[{w:1.25},\"Ctrl\",{w:1.25},\"Win\",{w:1.25},\"Alt\",{c:\"#DEBFB3\",t:\"#363636\",a:7,w:6.25},\"\",{c:\"#363636\",t:\"#DEBFB3\",a:4,w:1.25},\"Alt\",{w:1.25},\"Fn\",{w:1.25},\"Menu\",{w:1.25},\"Ctrl\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_60_ansi( \\\n    K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, \\\n    K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K2C, \\\n    K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B,      K2D, \\\n    K30,      K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B,      K3D, \\\n    K40, K41, K42,                K46,                K4A, K4B, K4C, K4D  \\\n) { \\\n    { K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D }, \\\n    { K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, XXX }, \\\n    { K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C, K2D }, \\\n    { K30, XXX, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, XXX, K3D }, \\\n    { K40, K41, K42, XXX, XXX, XXX, K46, XXX, XXX, XXX, K4A, K4B, K4C, K4D }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'HS60 V2 ANSI',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.WTRGBBacklight,\n  vendorProductId: 0x89684854\n};\n\nexport default DEVICE_META;","import {LightingSupport} from '../../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#DEBFB3\",t:\"#363636\"},\"Esc\",{c:\"#ebebeb\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",{c:\"#363636\",t:\"#DEBFB3\",w:2},\"Backspace\"],\n[{w:1.5},\"Tab\",{c:\"#ebebeb\",t:\"#363636\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\"],\n[{c:\"#363636\",t:\"#DEBFB3\",w:1.75},\"Caps Lock\",{c:\"#ebebeb\",t:\"#363636\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",\"~\\n#\",{c:\"#363636\",t:\"#DEBFB3\",w:1.25},\"Enter\"],\n[{w:2.25},\"Shift\",{c:\"#ebebeb\",t:\"#363636\"},\"|\\n\\\\\",\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#363636\",t:\"#DEBFB3\",w:1.75},\"Shift\"],\n[{w:1.25},\"Ctrl\",{w:1.25},\"Win\",{w:1.25},\"Alt\",{c:\"#DEBFB3\",t:\"#363636\",a:7,w:6.25},\"\",{c:\"#363636\",t:\"#DEBFB3\",a:4,w:1.25},\"Alt\",{w:1.25},\"Fn\",{w:1.25},\"Menu\",{w:1.25},\"Ctrl\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_60_iso( \\\n    K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, \\\n    K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C,      \\\n    K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C, K2D, \\\n    K30, K31, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B,      K3D, \\\n    K40, K41, K42,                K46,                K4A, K4B, K4C, K4D  \\\n) { \\\n    { K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D }, \\\n    { K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, XXX }, \\\n    { K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C, K2D }, \\\n    { K30, K31, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, XXX, K3D }, \\\n    { K40, K41, K42, XXX, XXX, XXX, K46, XXX, XXX, XXX, K4A, K4B, K4C, K4D }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'HS60 V2 ISO',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.WTRGBBacklight,\n  vendorProductId: 0x89684853\n};\n\nexport default DEVICE_META;","import {LightingSupport} from '../../../../utils/device-meta'\n\nexport const LAYOUT = `[{c:\"#DEBFB3\",t:\"#363636\"},\"Esc\",{c:\"#ebebeb\"},\"!\\n1\",\"@\\n2\",\"#\\n3\",\"$\\n4\",\"%\\n5\",\"^\\n6\",\"&\\n7\",\"*\\n8\",\"(\\n9\",\")\\n0\",\"_\\n-\",\"+\\n=\",\"XXXX\",{c:\"#363636\",t:\"#DEBFB3\"},\"|\\n\\\\\"],\n[{w:1.5},\"Tab\",{c:\"#ebebeb\",t:\"#363636\"},\"Q\",\"W\",\"E\",\"R\",\"T\",\"Y\",\"U\",\"I\",\"O\",\"P\",\"{\\n[\",\"}\\n]\",{c:\"#363636\",t:\"#DEBFB3\",w:1.5},\"Backspace\"],\n[{w:1.75},\"Caps Lock\",{c:\"#ebebeb\",t:\"#363636\"},\"A\",\"S\",\"D\",\"F\",\"G\",\"H\",\"J\",\"K\",\"L\",\":\\n;\",\"\\\"\\n'\",{c:\"#363636\",t:\"#DEBFB3\",w:2.25},\"Enter\"],\n[{w:2.25},\"Shift\",{c:\"#ebebeb\",t:\"#363636\"},\"Z\",\"X\",\"C\",\"V\",\"B\",\"N\",\"M\",\"<\\n,\",\">\\n.\",\"?\\n/\",{c:\"#363636\",t:\"#DEBFB3\",w:1.75},\"Shift\",\"Fn\"],\n[{w:1.5},\"Ctrl\",\"Win\",{w:1.5},\"Alt\",{c:\"#DEBFB3\",t:\"#363636\",a:7,w:7},\"\",{c:\"#363636\",t:\"#DEBFB3\",a:4,w:1.5},\"Alt\",\"Win\",{w:1.5},\"Ctrl\"]`;\n\nexport const MATRIX = `\n#define LAYOUT_60_hhkb( \\\n    K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D, K1D, \\\n    K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K2C,      \\\n    K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B,      K2D,      \\\n    K30, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C,      K3D,      \\\n    K40, K41, K42,                K46,                     K4B, K4C, K4D       \\\n) { \\\n    { K00, K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, K0B, K0C, K0D }, \\\n    { K10, K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, K1B, K1C, K1D }, \\\n    { K20, K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A, K2B, K2C, K2D }, \\\n    { K30, XXX, K32, K33, K34, K35, K36, K37, K38, K39, K3A, K3B, K3C, K3D }, \\\n    { K40, K41, K42, XXX, XXX, XXX, K46, XXX, XXX, XXX, XXX, K4B, K4C, K4D }  \\\n}\n`;\n\nconst DEVICE_META = {\n  name: 'HS60 V2 HHKB',\n  layout: LAYOUT,\n  matrixLayout: MATRIX,\n  lights: LightingSupport.WTRGBBacklight,\n  vendorProductId: 0x89684855\n};\n\nexport default DEVICE_META;","import {Component} from 'react';\nimport {ParsedKLE, parseKLE} from './kle-parser';\nimport {parseKLERaw} from './kle-parser';\nimport {parseLayout} from './layout-parser';\nimport KEYBOARDS from '../keyboards';\nimport stringify from 'json-stringify-pretty-compact';\nimport {existsSync, mkdirSync, writeFileSync} from 'fs';\nimport {join} from 'path';\nimport {Device} from '../types';\n\nexport const enum LightingSupport {\n  None,\n  QMKLighting,\n  WTRGBBacklight,\n  WTMonoBacklight\n}\n\nexport type CustomMenu = {title: string; component: typeof Component};\n\nexport type DeviceMeta = {\n  name: string;\n  layout: string;\n  matrixLayout: string;\n  lights: LightingSupport;\n  overrideMatrixIndexing?: boolean;\n  customMenus?: CustomMenu[];\n  vendorProductId: number;\n};\n\nexport type ParsedMatrix = any;\nexport type CompiledDeviceMeta = DeviceMeta & {\n  compiledLayout: ParsedKLE;\n  compiledMatrixLayout: any;\n};\n\nexport type DeviceMetaMap = {[key: number]: DeviceMeta};\nexport type CompiledDeviceMetaMap = {[key: number]: CompiledDeviceMeta};\n\nexport const DEVICE_META_MAP: DeviceMetaMap = KEYBOARDS.reduce(\n  (accum, deviceMeta) => ({\n    ...accum,\n    [deviceMeta.vendorProductId]: deviceMeta\n  }),\n  {}\n);\n\nconst COMPILED_DEVICE_META_MAP: CompiledDeviceMetaMap = Object.entries(\n  DEVICE_META_MAP\n).reduce(\n  (p, [k, v]: [string, any]) => ({\n    ...p,\n    [k]: {\n      ...v,\n      compiledLayout: parseKLERaw(v.layout),\n      compiledMatrixLayout: parseLayout(v.matrixLayout)\n    }\n  }),\n  {}\n);\n\nfunction generateEncodedLayout(layout: string, matrixLayout: string) {\n  const pins = [...parseLayout(matrixLayout).layout]\n    .reverse()\n    .map(({col, row}) => `${row},${col}`);\n  const encodedLayout = parseKLE(layout).map(row =>\n    row.map(elem => (typeof elem === 'string' ? pins.pop() : elem))\n  );\n  return encodedLayout;\n}\n\nfunction generateDeviceJSON(v: any) {\n  const {rows, cols} = parseLayout(v.matrixLayout);\n  return {\n    name: v.name,\n    vendorId: `0x${v.vendorProductId.toString(16).slice(0, 4)}`,\n    productId: `0x${v.vendorProductId.toString(16).slice(4)}`,\n    lights: v.lights,\n    matrix: {rows, cols},\n    layouts: {all: generateEncodedLayout(v.layout, v.matrixLayout)}\n  };\n}\n\nexport function writeAllDevices() {\n  const dir = 'dist';\n  if (!existsSync(dir)) {\n    mkdirSync(dir);\n  }\n\n  Object.entries(DEVICE_META_MAP).forEach(([k, v]: [string, any]) =>\n    writeFileSync(\n      join('.', dir, `${v.name.toLowerCase().replace(/[\\s-]/gi, '_')}.json`),\n      stringify(generateDeviceJSON(v))\n    )\n  );\n}\n\nexport function getKeyboardFromDevice(device: Device): CompiledDeviceMeta {\n  return COMPILED_DEVICE_META_MAP[getKeyboardId(device)];\n}\n\nexport function getKeyboardFromVendorProductId(id: number): CompiledDeviceMeta {\n  return COMPILED_DEVICE_META_MAP[id];\n}\n\nexport function getKeyboardId({productId, vendorId}) {\n  return vendorId * 65536 + productId;\n}\n\nexport function getLayoutFromDevice(device: Device) {\n  const kb = getKeyboardFromDevice(device);\n  return kb.compiledLayout;\n}\n\nexport function getMatrixLayoutFromDevice(device: Device) {\n  const kb = getKeyboardFromDevice(device);\n  return kb.compiledMatrixLayout;\n}\n","const entryLog = [];\n\nexport const logCommand = (\n  kbAddr: string,\n  request: number[],\n  response: number[]\n) => {\n  entryLog.push({kbAddr, request, response, ts: Date.now()});\n};\n\nexport const getLog = ((window as any).__getLogs = () => {\n  return entryLog;\n});\n\nwindow.addEventListener('message', m => {\n  console.log('cl', m);\n  if (m.data.command === 'fetchLogs') {\n    window.postMessage({command: 'getLogs', payload: getLog()}, '*');\n  }\n});\n","import {\n  getKeyboardFromDevice,\n  getMatrixLayoutFromDevice,\n  LightingSupport\n} from './device-meta';\nimport {MatrixInfo} from '../types';\nimport {LightingValue} from 'via-reader';\nimport {logCommand} from './command-logger';\n\nconst HID: any = require('node-hid');\nexport const VALID_PROTOCOL_VERSIONS = [1, 7, 8, 9, 10];\n\n// Zeal60 API Command IDs\nconst COMMAND_START = 0x00; // This is really a HID Report ID\nconst GET_PROTOCOL_VERSION = 0x01;\nconst GET_KEYBOARD_VALUE = 0x02;\nconst SET_KEYBOARD_VALUE = 0x03;\nconst DYNAMIC_KEYMAP_GET_KEYCODE = 0x04;\nconst DYNAMIC_KEYMAP_SET_KEYCODE = 0x05;\n//const DYNAMIC_KEYMAP_CLEAR_ALL = 0x06;\nconst CUSTOM_MENU_SET_VALUE = 0x07;\nconst CUSTOM_MENU_GET_VALUE = 0x08;\nconst CUSTOM_MENU_SAVE = 0x09;\n\nconst EEPROM_RESET = 0x0a;\nconst BOOTLOADER_JUMP = 0x0b;\nconst DYNAMIC_KEYMAP_MACRO_GET_COUNT = 0x0c;\nconst DYNAMIC_KEYMAP_MACRO_GET_BUFFER_SIZE = 0x0d;\nconst DYNAMIC_KEYMAP_MACRO_GET_BUFFER = 0x0e;\nconst DYNAMIC_KEYMAP_MACRO_SET_BUFFER = 0x0f;\nconst DYNAMIC_KEYMAP_MACRO_RESET = 0x10;\nconst DYNAMIC_KEYMAP_GET_LAYER_COUNT = 0x11;\nconst DYNAMIC_KEYMAP_GET_BUFFER = 0x12;\nconst DYNAMIC_KEYMAP_SET_BUFFER = 0x13;\n\n// DEPRECATED:\nconst BACKLIGHT_CONFIG_SET_VALUE = 0x07;\nconst BACKLIGHT_CONFIG_GET_VALUE = 0x08;\nconst BACKLIGHT_CONFIG_SAVE = 0x09;\n\nexport enum KeyboardValue {\n  UPTIME = 0x01,\n  LAYOUT_OPTIONS = 0x02,\n  SWITCH_MATRIX_STATE = 0x03\n}\n\n// RGB Backlight Value IDs\n//const BACKLIGHT_USE_SPLIT_BACKSPACE = 0x01;\n//const BACKLIGHT_USE_SPLIT_LEFT_SHIFT = 0x02;\n//const BACKLIGHT_USE_SPLIT_RIGHT_SHIFT = 0x03;\n//const BACKLIGHT_USE_7U_SPACEBAR = 0x04;\n//const BACKLIGHT_USE_ISO_ENTER = 0x05;\n//const BACKLIGHT_DISABLE_HHKB_BLOCKER_LEDS = 0x06;\n//const BACKLIGHT_DISABLE_WHEN_USB_SUSPENDEd = 0x07;\n//const BACKLIGHT_DISABLE_AFTER_TIMEOUT = 0x08;\nconst BACKLIGHT_BRIGHTNESS = 0x09;\nconst BACKLIGHT_EFFECT = 0x0a;\n//const BACKLIGHT_EFFECT_SPEED = 0x0b;\nconst BACKLIGHT_COLOR_1 = 0x0c;\nconst BACKLIGHT_COLOR_2 = 0x0d;\n//const BACKLIGHT_CAPS_LOCK_INDICATOR_COLOR = 0x0e;\n//const BACKLIGHT_CAPS_LOCK_INDICATOR_ROW_Col = 0x0f;\n//const BACKLIGHT_LAYER_1_INDICATOR_COLOR = 0x10;\n//const BACKLIGHT_LAYER_1_INDICATOR_ROW_COL = 0x11;\n//const BACKLIGHT_LAYER_2_INDICATOR_COLOR = 0x12;\n//const BACKLIGHT_LAYER_2_INDICATOR_ROW_COL = 0x13;\n//const BACKLIGHT_LAYER_3_INDICATOR_COLOR = 0x14;\n//const BACKLIGHT_LAYER_3_INDICATOR_ROW_COL = 0x15;\n//const BACKLIGHT_ALPHAS_MODS = 0x16;\nconst BACKLIGHT_CUSTOM_COLOR = 0x17;\n\nexport const PROTOCOL_ALPHA = 7;\nexport const PROTOCOL_BETA = 8;\nexport const PROTOCOL_GAMMA = 9;\n\nexport const BACKLIGHT_PROTOCOL_NONE = 0;\nexport const BACKLIGHT_PROTOCOL_WILBA = 1;\n\nconst cache: {[addr: string]: {device: Device; hid: any}} = {};\n\nconst eqArr = (arr1, arr2) => {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  return arr1.every((val, idx) => arr2[idx] === val);\n};\n\nconst shiftTo16Bit = ([hi, lo]: [number, number]): number => (hi << 8) | lo;\n\nconst shiftFrom16Bit = (value: number): [number, number] => [\n  value >> 8,\n  value & 255\n];\n\nconst shiftBufferTo16Bit = (buffer: number[]): number[] => {\n  let shiftedBuffer = [];\n  for (let i = 0; i < buffer.length; i += 2) {\n    shiftedBuffer.push(shiftTo16Bit([buffer[i], buffer[i + 1]]));\n  }\n  return shiftedBuffer;\n};\n\nconst shiftBufferFrom16Bit = (buffer: number[]): number[] =>\n  buffer.map(shiftFrom16Bit).flatMap(value => value);\n\nexport type Device = {\n  productId: number;\n  vendorId: number;\n  interface: number;\n  usage?: number;\n  usagePage?: number;\n  path: string;\n};\ntype Command = number;\ntype HIDAddress = string;\ntype Layer = number;\ntype Row = number;\ntype Column = number;\ntype CommandQueueArgs = [string, number, Array<number>] | (() => Promise<void>);\ntype CommandQueueEntry = {\n  res: (val?: any) => void;\n  rej: (error?: any) => void;\n  args: CommandQueueArgs;\n};\ntype CommandQueue = Array<CommandQueueEntry>;\n\nconst globalCommandQueue: {\n  [kbAddr: string]: {isFlushing: boolean; commandQueue: CommandQueue};\n} = {};\n\nexport const canConnect = (device: Device) => {\n  try {\n    new KeyboardAPI(device);\n    return true;\n  } catch (e) {\n    console.error('Skipped ', device, e);\n    return false;\n  }\n};\n\nexport class KeyboardAPI {\n  kbAddr: HIDAddress;\n  constructor(device: Device) {\n    const {path} = device;\n    this.kbAddr = path;\n    if (!cache[path]) {\n      cache[path] = {device, hid: new HID.HID(path)};\n    } else {\n      cache[path] = {...cache[path], device};\n    }\n  }\n\n  getDevice() {\n    return cache[this.kbAddr].device;\n  }\n\n  getMatrix() {\n    const device = this.getDevice();\n    return getMatrixLayoutFromDevice(device);\n  }\n\n  refresh(kbAddr: HIDAddress) {\n    this.kbAddr = kbAddr;\n    cache[kbAddr] = {...cache[kbAddr], hid: new HID.HID(kbAddr)};\n  }\n\n  async getByteBuffer(): Promise<number[]> {\n    return new Promise((res, rej) => {\n      this.getHID().read((err, data) => {\n        if (err) {\n          rej(err);\n        } else {\n          res(data);\n        }\n      });\n    });\n  }\n\n  async getBacklightProtocolVersion() {\n    return getKeyboardFromDevice(this.getDevice()).lights ===\n      LightingSupport.WTRGBBacklight\n      ? BACKLIGHT_PROTOCOL_WILBA\n      : BACKLIGHT_PROTOCOL_NONE;\n  }\n\n  async getProtocolVersion() {\n    try {\n      const [, hi, lo] = await this.hidCommand(GET_PROTOCOL_VERSION);\n      return shiftTo16Bit([hi, lo]);\n    } catch (e) {\n      return -1;\n    }\n  }\n\n  async getKey(layer: Layer, row: Row, col: Column) {\n    const buffer = await this.hidCommand(DYNAMIC_KEYMAP_GET_KEYCODE, [\n      layer,\n      row,\n      col\n    ]);\n    return shiftTo16Bit([buffer[4], buffer[5]]);\n  }\n\n  async isCorrectProtocol(): Promise<boolean> {\n    // https://github.com/olivia/via-config/wiki/Protocol-Versions\n    const res = await this.getProtocolVersion();\n    if (VALID_PROTOCOL_VERSIONS.includes(res)) {\n      return true;\n    }\n    return false;\n  }\n\n  async getLayerCount() {\n    const version = await this.getProtocolVersion();\n    if (version >= PROTOCOL_BETA) {\n      const [, count] = await this.hidCommand(DYNAMIC_KEYMAP_GET_LAYER_COUNT);\n      return count;\n    } else if (version === PROTOCOL_ALPHA) {\n      return 4;\n    }\n  }\n\n  async readRawMatrix(matrix: MatrixInfo, layer: number): Promise<number[]> {\n    const version = await this.getProtocolVersion();\n    if (version >= PROTOCOL_BETA) {\n      return this.fastReadRawMatrix(matrix, layer);\n    } else if (version === PROTOCOL_ALPHA) {\n      return this.slowReadRawMatrix(matrix, layer);\n    }\n  }\n\n  async getKeymapBuffer(offset: number, size: number): Promise<number[]> {\n    if (size > 28) {\n      throw 'Max data length is 28.';\n    }\n    // id_dynamic_keymap_get_buffer <offset> <size> ^<data>\n    // offset is 16bit. size is 8bit. data is 16bit keycode values, maximum 28 bytes.\n    const res = await this.hidCommand(DYNAMIC_KEYMAP_GET_BUFFER, [\n      ...shiftFrom16Bit(offset),\n      size\n    ]);\n    return [...res].slice(4, size + 4);\n  }\n\n  async fastReadRawMatrix(\n    {rows, cols}: MatrixInfo,\n    layer: number\n  ): Promise<number[]> {\n    const length = rows * cols;\n    const MAX_KEYCODES_PARTIAL = 14;\n    const bufferList = new Array<number>(\n      Math.ceil(length / MAX_KEYCODES_PARTIAL)\n    ).fill(0);\n    const {res: promiseRes} = bufferList.reduce(\n      ({res, remaining}: {res: Promise<number[]>[]; remaining: number}) =>\n        remaining < MAX_KEYCODES_PARTIAL\n          ? {\n              res: [\n                ...res,\n                this.getKeymapBuffer(\n                  layer * length * 2 + 2 * (length - remaining),\n                  remaining * 2\n                )\n              ],\n              remaining: 0\n            }\n          : {\n              res: [\n                ...res,\n                this.getKeymapBuffer(\n                  layer * length * 2 + 2 * (length - remaining),\n                  MAX_KEYCODES_PARTIAL * 2\n                )\n              ],\n              remaining: remaining - MAX_KEYCODES_PARTIAL\n            },\n      {res: [], remaining: length}\n    );\n    const yieldedRes = await Promise.all(promiseRes);\n    return yieldedRes.flatMap(shiftBufferTo16Bit);\n  }\n\n  async slowReadRawMatrix(\n    {rows, cols}: MatrixInfo,\n    layer: number\n  ): Promise<number[]> {\n    const length = rows * cols;\n    const res = new Array(length)\n      .fill(0)\n      .map((_, i) => this.getKey(layer, ~~(i / cols), i % cols));\n    return Promise.all(res);\n  }\n\n  async writeRawMatrix(\n    matrixInfo: MatrixInfo,\n    keymap: number[][]\n  ): Promise<void> {\n    const version = await this.getProtocolVersion();\n    if (version >= PROTOCOL_BETA) {\n      return this.fastWriteRawMatrix(keymap);\n    } else if (version === PROTOCOL_ALPHA) {\n      return this.slowWriteRawMatrix(matrixInfo, keymap);\n    }\n  }\n\n  async slowWriteRawMatrix(\n    {cols}: MatrixInfo,\n    keymap: number[][]\n  ): Promise<void> {\n    keymap.forEach(async (layer, layerIdx) =>\n      layer.forEach(async (keycode, keyIdx) => {\n        await this.setKey(layerIdx, ~~(keyIdx / cols), keyIdx % cols, keycode);\n      })\n    );\n  }\n\n  async fastWriteRawMatrix(keymap: number[][]): Promise<void> {\n    const data = keymap.flatMap(layer => layer.map(key => key));\n    const shiftedData = shiftBufferFrom16Bit(data);\n    const bufferSize = 28;\n    for (let offset = 0; offset < shiftedData.length; offset += bufferSize) {\n      const buffer = shiftedData.slice(offset, offset + bufferSize);\n      await this.hidCommand(DYNAMIC_KEYMAP_SET_BUFFER, [\n        ...shiftFrom16Bit(offset),\n        buffer.length,\n        ...buffer\n      ]);\n    }\n  }\n\n  async getKeyboardValue(\n    command: KeyboardValue,\n    resultLength: number = 1\n  ): Promise<number[]> {\n    const bytes = [command];\n    const res = await this.hidCommand(GET_KEYBOARD_VALUE, bytes);\n    return res.slice(2, 2 + resultLength);\n  }\n\n  async setKeyboardValue(command: KeyboardValue, ...rest: number[]) {\n    const bytes = [command, ...rest];\n    await this.hidCommand(SET_KEYBOARD_VALUE, bytes);\n  }\n\n  async getCustomMenuValue(commandBytes: number[]): Promise<number[]> {\n    const res = await this.hidCommand(CUSTOM_MENU_GET_VALUE, commandBytes);\n    return res.slice(0 + commandBytes.length);\n  }\n\n  async setCustomMenuValue(...args: number[]): Promise<void> {\n    await this.hidCommand(CUSTOM_MENU_SET_VALUE, args);\n  }\n\n  async getBacklightValue(\n    command: LightingValue,\n    resultLength: number = 1\n  ): Promise<number[]> {\n    const bytes = [command];\n    const res = await this.hidCommand(BACKLIGHT_CONFIG_GET_VALUE, bytes);\n    return res.slice(2, 2 + resultLength);\n  }\n\n  async setBacklightValue(command: LightingValue, ...rest: number[]) {\n    const bytes = [command, ...rest];\n    await this.hidCommand(BACKLIGHT_CONFIG_SET_VALUE, bytes);\n  }\n\n  async getRGBMode() {\n    const bytes = [BACKLIGHT_EFFECT];\n    const [, , val] = await this.hidCommand(BACKLIGHT_CONFIG_GET_VALUE, bytes);\n    return val;\n  }\n\n  async getBrightness() {\n    const bytes = [BACKLIGHT_BRIGHTNESS];\n    const [, , brightness] = await this.hidCommand(\n      BACKLIGHT_CONFIG_GET_VALUE,\n      bytes\n    );\n    return brightness;\n  }\n\n  async getColor(colorNumber: number) {\n    const bytes = [colorNumber === 1 ? BACKLIGHT_COLOR_1 : BACKLIGHT_COLOR_2];\n    const [, , hue, sat] = await this.hidCommand(\n      BACKLIGHT_CONFIG_GET_VALUE,\n      bytes\n    );\n    return {hue, sat};\n  }\n\n  async setColor(colorNumber: number, hue: number, sat: number) {\n    const bytes = [\n      colorNumber === 1 ? BACKLIGHT_COLOR_1 : BACKLIGHT_COLOR_2,\n      hue,\n      sat\n    ];\n    await this.hidCommand(BACKLIGHT_CONFIG_SET_VALUE, bytes);\n  }\n\n  async getCustomColor(colorNumber: number) {\n    const bytes = [BACKLIGHT_CUSTOM_COLOR, colorNumber];\n    const [, , , hue, sat] = await this.hidCommand(\n      BACKLIGHT_CONFIG_GET_VALUE,\n      bytes\n    );\n    return {hue, sat};\n  }\n\n  async setCustomColor(colorNumber: number, hue: number, sat: number) {\n    const bytes = [BACKLIGHT_CUSTOM_COLOR, colorNumber, hue, sat];\n    await this.hidCommand(BACKLIGHT_CONFIG_SET_VALUE, bytes);\n  }\n\n  async setRGBMode(effect: number) {\n    const bytes = [BACKLIGHT_EFFECT, effect];\n    await this.hidCommand(BACKLIGHT_CONFIG_SET_VALUE, bytes);\n  }\n\n  async commitCustomMenu(channel: number) {\n    await this.hidCommand(CUSTOM_MENU_SAVE, [channel]);\n  }\n\n  async saveLighting() {\n    await this.hidCommand(BACKLIGHT_CONFIG_SAVE);\n  }\n\n  async resetEEPROM() {\n    await this.hidCommand(EEPROM_RESET);\n  }\n\n  async jumpToBootloader() {\n    await this.hidCommand(BOOTLOADER_JUMP);\n  }\n\n  async setKey(layer: Layer, row: Row, column: Column, val: number) {\n    const res = await this.hidCommand(DYNAMIC_KEYMAP_SET_KEYCODE, [\n      layer,\n      row,\n      column,\n      ...shiftFrom16Bit(val)\n    ]);\n    return shiftTo16Bit([res[4], res[5]]);\n  }\n\n  async getMacroCount() {\n    const [, count] = await this.hidCommand(DYNAMIC_KEYMAP_MACRO_GET_COUNT);\n    return count;\n  }\n\n  // size is 16 bit\n  async getMacroBufferSize() {\n    const [, hi, lo] = await this.hidCommand(\n      DYNAMIC_KEYMAP_MACRO_GET_BUFFER_SIZE\n    );\n    return shiftTo16Bit([hi, lo]);\n  }\n\n  // From protocol: id_dynamic_keymap_macro_get_buffer <offset> <size> ^<data>\n  // offset is 16bit. size is 8bit.\n  async getMacroBytes(): Promise<number[]> {\n    const macroBufferSize = await this.getMacroBufferSize();\n    // Can only get 28 bytes at a time\n    const size = 28;\n    let bytes = [];\n    for (let offset = 0; offset < macroBufferSize; offset += 28) {\n      const [\n        ,\n        ,\n        ,\n        ,\n        ...buffer\n      ] = await this.hidCommand(DYNAMIC_KEYMAP_MACRO_GET_BUFFER, [\n        ...shiftFrom16Bit(offset),\n        size\n      ]);\n      bytes.push(...buffer);\n    }\n\n    return bytes;\n  }\n\n  // From protocol: id_dynamic_keymap_macro_set_buffer <offset> <size> <data>\n  // offset is 16bit. size is 8bit. data is ASCII characters and null (0x00) delimiters/terminator, maximum 28 bytes.\n  // async setMacros(macros: Macros[]) {\n  async setMacroBytes(data: number[]) {\n    const macroBufferSize = await this.getMacroBufferSize();\n    const size = data.length;\n    if (size > macroBufferSize) {\n      throw new Error(\n        `Macro size (${size}) exceeds buffer size (${macroBufferSize})`\n      );\n    }\n\n    const lastOffset = macroBufferSize - 1;\n    const lastOffsetBytes = shiftFrom16Bit(lastOffset);\n\n    // Clear the entire macro buffer before rewriting\n    await this.resetMacros();\n    try {\n      // set last byte in buffer to non-zero (0xFF) to indicate write-in-progress\n      await this.hidCommand(DYNAMIC_KEYMAP_MACRO_SET_BUFFER, [\n        ...shiftFrom16Bit(lastOffset),\n        1,\n        0xff\n      ]);\n\n      // Can only write 28 bytes at a time\n      const bufferSize = 28;\n      for (let offset = 0; offset < data.length; offset += bufferSize) {\n        const buffer = data.slice(offset, offset + bufferSize);\n        await this.hidCommand(DYNAMIC_KEYMAP_MACRO_SET_BUFFER, [\n          ...shiftFrom16Bit(offset),\n          buffer.length,\n          ...buffer\n        ]);\n      }\n    } finally {\n      // set last byte in buffer to zero to indicate write finished\n      await this.hidCommand(DYNAMIC_KEYMAP_MACRO_SET_BUFFER, [\n        ...lastOffsetBytes,\n        1,\n        0x00\n      ]);\n    }\n  }\n\n  async resetMacros() {\n    await this.hidCommand(DYNAMIC_KEYMAP_MACRO_RESET);\n  }\n\n  get commandQueueWrapper() {\n    if (!globalCommandQueue[this.kbAddr]) {\n      globalCommandQueue[this.kbAddr] = {isFlushing: false, commandQueue: []};\n      return globalCommandQueue[this.kbAddr];\n    }\n    return globalCommandQueue[this.kbAddr];\n  }\n\n  async timeout(time: number) {\n    return new Promise((res, rej) => {\n      this.commandQueueWrapper.commandQueue.push({\n        res,\n        rej,\n        args: () =>\n          new Promise(r =>\n            setTimeout(() => {\n              r();\n              res();\n            }, time)\n          )\n      });\n      if (!this.commandQueueWrapper.isFlushing) {\n        this.flushQueue();\n      }\n    });\n  }\n\n  async hidCommand(command: Command, bytes: Array<number> = []): Promise<any> {\n    return new Promise(async (res, rej) => {\n      this.commandQueueWrapper.commandQueue.push({\n        res,\n        rej,\n        args: [this.kbAddr, command, bytes]\n      });\n      if (!this.commandQueueWrapper.isFlushing) {\n        this.flushQueue();\n      }\n    });\n  }\n\n  async flushQueue() {\n    if (this.commandQueueWrapper.isFlushing === true) {\n      return;\n    }\n    this.commandQueueWrapper.isFlushing = true;\n    while (this.commandQueueWrapper.commandQueue.length !== 0) {\n      const {res, rej, args} = this.commandQueueWrapper.commandQueue.shift();\n      // This allows us to queue promises in between hid commands, useful for timeouts\n      if (typeof args === 'function') {\n        await args();\n        res();\n      } else {\n        try {\n          const ans = await this._hidCommand(...args);\n          res(ans);\n        } catch (e) {\n          rej(e);\n        }\n      }\n    }\n    this.commandQueueWrapper.isFlushing = false;\n  }\n\n  getHID() {\n    return cache[this.kbAddr].hid;\n  }\n\n  async _hidCommand(\n    kbAddr: HIDAddress,\n    command: Command,\n    bytes: Array<number> = []\n  ): Promise<any> {\n    const commandBytes = [...[COMMAND_START, command], ...bytes];\n    const paddedArray = new Array(33).fill(0);\n    commandBytes.forEach((val, idx) => (paddedArray[idx] = val));\n    try {\n      this.getHID().write(paddedArray);\n    } catch (ex) {\n      console.log('Retrying...');\n      this.refresh(kbAddr);\n      this.getHID().write(paddedArray);\n    }\n    const buffer = await this.getByteBuffer();\n    const bufferCommandBytes = buffer.slice(0, commandBytes.length - 1);\n    logCommand(this.kbAddr, commandBytes, buffer);\n    if (!eqArr(commandBytes.slice(1), bufferCommandBytes)) {\n      console.error('Command:', commandBytes, 'Bad Resp:', buffer);\n      throw 'Receiving incorrect response for command';\n    }\n    console.info(\n      `Command for ${this.kbAddr}`,\n      commandBytes,\n      'Correct Resp:',\n      buffer\n    );\n    return buffer;\n  }\n}\n","import {KeyboardAPI, Device} from './keyboard-api';\nimport {byteToKey, keycodesList, basicKeyToByte} from './key';\n\n// Corresponds to 'magic codes' in qmk sendstring\nenum KeyAction {\n  Tap = 1, // \\x01\n  Down = 2, // \\x02\n  Up = 3 // \\x03\n}\nconst MacroTerminator = 0;\n\ninterface ValidationResult {\n  isValid: boolean;\n  errorMessage: string;\n}\n\n// Only comma-separated valid keycodes should be allowed in unescaped action blocks: {KC_VALID_KEYCODE, KC_ANOTHER_ONE}\n// Empty action blocks can't be persisted, so should fail: {}\nexport function validateExpression(expression: string): ValidationResult {\n  // Check for unclosed action blocks\n  if (expression.match(/(?<!\\\\)\\{(?![^{]*})/)) {\n    return {\n      isValid: false,\n      errorMessage:\n        \"Looks like a keycode block - {} - is unclosed! Are you missing an '}'?\"\n    };\n  }\n\n  // Validate each block of keyactions\n  const keycodeBlockRegex = /(?<!\\\\){(.*?)}/g;\n  let groups = [];\n  while ((groups = keycodeBlockRegex.exec(expression))) {\n    const csv = groups[1].replace(/\\s+/g, ''); // Remove spaces\n    // Empty action blocks {} can't be persisted\n    if (!csv.length) {\n      return {\n        isValid: false,\n        errorMessage:\n          \"Sorry, I can't handle empty {}. Fill them up with keycodes or use \\\\{} to tell the macro to literally type {}\"\n      };\n    }\n\n    const invalidKeycodes = csv\n      .split(',')\n      .filter(keycode => keycode.trim().length && !isMacroKeycode(keycode));\n    if (invalidKeycodes.length) {\n      return {\n        isValid: false,\n        errorMessage: `Whoops! Invalid keycodes detected inside {}: ${invalidKeycodes.join(\n          ', '\n        )}`\n      };\n    }\n  }\n\n  return {\n    isValid: true,\n    errorMessage: undefined\n  };\n}\n\nfunction isMacroKeycode(keycode: string): boolean {\n  return !!macroKeycodes[keycode.toUpperCase()];\n}\n\nfunction getByte(keycode: string): number {\n  return basicKeyToByte[keycode.toUpperCase()];\n}\n\nexport const getMacroApi = (device: Device) => {\n  if (!device) {\n    return undefined;\n  }\n  const keyboardApi = new KeyboardAPI(device);\n  if (!keyboardApi) {\n    return undefined;\n  }\n  return new MacroAPI(keyboardApi);\n};\n\nexport class MacroAPI {\n  constructor(private keyboardApi: KeyboardAPI) {}\n\n  async readMacroExpressions(): Promise<string[]> {\n    const bytes = await this.keyboardApi.getMacroBytes();\n    const macroCount = await this.keyboardApi.getMacroCount();\n\n    let macroId = 0;\n    let i = 0;\n    let expressions: string[] = [];\n    let currentExpression = [];\n    let currentChord = [];\n\n    while (i < bytes.length && macroId < macroCount) {\n      let byte = bytes[i];\n      switch (byte) {\n        case MacroTerminator:\n          expressions[macroId] = currentExpression.join('');\n          macroId++;\n          currentExpression = [];\n          break;\n        case KeyAction.Tap: // Encode as {KEYCODE}\n          byte = bytes[++i]; // Skip the key action\n          currentExpression.push(`{${byteToKey[byte]}}`);\n          break;\n        case KeyAction.Down: // Encode sequential Keydowns as {KEYCODE,KEYCODE,KEYCODE}\n          byte = bytes[++i]; // Skip the key action\n          currentChord.push(byteToKey[byte]);\n          break;\n        case KeyAction.Up: // Seek to the last keyup and write the keydown stack\n          while (bytes[i + 2] === KeyAction.Up && i < bytes.length) {\n            // Peek ahead for another keyup\n            i += 2;\n          }\n          currentExpression.push(`{${currentChord.join(',')}}`);\n\n          currentChord = []; // reset chord\n          i++; // Skip the key action\n          break;\n        default:\n          const char = String.fromCharCode(byte);\n          // Escape { with \\\n          if (char === '{') {\n            currentExpression.push('\\\\');\n          }\n          currentExpression.push(char);\n          break;\n      }\n      i++;\n    }\n\n    return expressions;\n  }\n\n  async writeMacroExpressions(expressions: string[]) {\n    const bytes = expressions.flatMap(expression => {\n      const validationResult = validateExpression(expression);\n      if (!validationResult.isValid) {\n        throw validationResult.errorMessage;\n      }\n      let bytes: number[] = [];\n      let i = 0;\n      while (i < expression.length) {\n        const char = expression[i];\n        // Check for keycode block, peek behind to make sure there's no escape char \\\n        if (char === '{' && expression[i - 1] !== '\\\\') {\n          const keyActionEnd = expression.indexOf('}', i + 1);\n          if (keyActionEnd < 0) {\n            throw \"Syntax error: KeyAction block must end with '}'\";\n          }\n          const keycodes = expression\n            .substr(i + 1, keyActionEnd - i - 1)\n            .split(',')\n            .map(keycode => keycode.trim())\n            .filter(keycode => keycode.length);\n          switch (keycodes.length) {\n            case 0:\n              throw 'Syntax error: Keycodes expected within block. Use \\\\{} to define literal {}';\n            case 1:\n              bytes.push(KeyAction.Tap);\n              bytes.push(getByte(keycodes[0]));\n              break;\n            default:\n              // Keydowns\n              keycodes.forEach(keycode => {\n                bytes.push(KeyAction.Down);\n                bytes.push(getByte(keycode));\n              });\n              // Symmetrical Keyups\n              keycodes.reverse().forEach(keycode => {\n                bytes.push(KeyAction.Up);\n                bytes.push(getByte(keycode));\n              });\n              break;\n          }\n          i = keyActionEnd; // fastforward cursor to end of action block\n        } else if (char === '\\\\' && expression[i + 1] === '{') {\n          // Skip if this is an escape char for {\n        } else {\n          bytes.push(char.charCodeAt(0));\n        }\n\n        i++;\n      }\n\n      bytes.push(MacroTerminator);\n      return bytes;\n    });\n\n    await this.keyboardApi.setMacroBytes(bytes);\n  }\n}\n\nconst macroKeycodes = {\n  KC_NO: true,\n  KC_A: true,\n  KC_B: true,\n  KC_C: true,\n  KC_D: true,\n  KC_E: true,\n  KC_F: true,\n  KC_G: true,\n  KC_H: true,\n  KC_I: true,\n  KC_J: true,\n  KC_K: true,\n  KC_L: true,\n  KC_M: true,\n  KC_N: true,\n  KC_O: true,\n  KC_P: true,\n  KC_Q: true,\n  KC_R: true,\n  KC_S: true,\n  KC_T: true,\n  KC_U: true,\n  KC_V: true,\n  KC_W: true,\n  KC_X: true,\n  KC_Y: true,\n  KC_Z: true,\n  KC_1: true,\n  KC_2: true,\n  KC_3: true,\n  KC_4: true,\n  KC_5: true,\n  KC_6: true,\n  KC_7: true,\n  KC_8: true,\n  KC_9: true,\n  KC_0: true,\n  KC_ENT: true,\n  KC_ESC: true,\n  KC_BSPC: true,\n  KC_TAB: true,\n  KC_SPC: true,\n  KC_MINS: true,\n  KC_EQL: true,\n  KC_LBRC: true,\n  KC_RBRC: true,\n  KC_BSLS: true,\n  KC_NUHS: true,\n  KC_SCLN: true,\n  KC_QUOT: true,\n  KC_GRV: true,\n  KC_COMM: true,\n  KC_DOT: true,\n  KC_SLSH: true,\n  KC_CAPS: true,\n  KC_F1: true,\n  KC_F2: true,\n  KC_F3: true,\n  KC_F4: true,\n  KC_F5: true,\n  KC_F6: true,\n  KC_F7: true,\n  KC_F8: true,\n  KC_F9: true,\n  KC_F10: true,\n  KC_F11: true,\n  KC_F12: true,\n  KC_PSCR: true,\n  KC_SLCK: true,\n  KC_PAUS: true,\n  KC_INS: true,\n  KC_HOME: true,\n  KC_PGUP: true,\n  KC_DEL: true,\n  KC_END: true,\n  KC_PGDN: true,\n  KC_RGHT: true,\n  KC_LEFT: true,\n  KC_DOWN: true,\n  KC_UP: true,\n  KC_NLCK: true,\n  KC_PSLS: true,\n  KC_KP_ASTERISK: true,\n  KC_PAST: true,\n  KC_PPLS: true,\n  KC_PENT: true,\n  KC_P1: true,\n  KC_P2: true,\n  KC_P3: true,\n  KC_P4: true,\n  KC_P5: true,\n  KC_P6: true,\n  KC_P7: true,\n  KC_P8: true,\n  KC_P9: true,\n  KC_P0: true,\n  KC_PDOT: true,\n  KC_NUBS: true,\n  KC_APP: true,\n  KC_POWER: true,\n  KC_PEQL: true,\n  KC_F13: true,\n  KC_F14: true,\n  KC_F15: true,\n  KC_F16: true,\n  KC_F17: true,\n  KC_F18: true,\n  KC_F19: true,\n  KC_F20: true,\n  KC_F21: true,\n  KC_F22: true,\n  KC_F23: true,\n  KC_F24: true,\n  KC_EXECUTE: true,\n  KC_HELP: true,\n  KC_MENU: true,\n  KC_SELECT: true,\n  KC_STOP: true,\n  KC_AGAIN: true,\n  KC_UNDO: true,\n  KC_CUT: true,\n  KC_COPY: true,\n  KC_PASTE: true,\n  KC_FIND: true,\n  KC_LCAP: true,\n  KC_LNUM: true,\n  KC_LSCR: true,\n  KC_PCMM: true,\n  KC_KP_EQUAL_AS400: true,\n  KC_RO: true,\n  KC_KANA: true,\n  KC_JYEN: true,\n  KC_HENK: true,\n  KC_MHEN: true,\n  KC_INT6: true,\n  KC_INT7: true,\n  KC_INT8: true,\n  KC_INT9: true,\n  KC_HAEN: true,\n  KC_HANJ: true,\n  KC_LANG3: true,\n  KC_LANG4: true,\n  KC_LANG5: true,\n  KC_LANG6: true,\n  KC_LANG7: true,\n  KC_LANG8: true,\n  KC_LANG9: true,\n  KC_SYSREQ: true,\n  KC_CANCEL: true,\n  KC_CLEAR: true,\n  KC_PRIOR: true,\n  KC_OUT: true,\n  KC_OPER: true,\n  KC_CLEAR_AGAIN: true,\n  KC_CRSEL: true,\n  KC_EXSEL: true,\n\n  /* Modifiers */\n  KC_LCTL: true,\n  KC_LSFT: true,\n  KC_LALT: true,\n  KC_LGUI: true,\n  KC_RCTL: true,\n  KC_RSFT: true,\n  KC_RALT: true,\n  KC_RGUI: true,\n\n  /* System Control */\n  KC_PWR: true,\n  KC_SLEP: true,\n  KC_WAKE: true,\n\n  /* Media Control */\n  KC_MUTE: true,\n  KC_VOLU: true,\n  KC_VOLD: true,\n  KC_MNXT: true,\n  KC_MPRV: true,\n  KC_MSTP: true,\n  KC_MPLY: true,\n  KC_MSEL: true,\n  KC_EJCT: true,\n  KC_MAIL: true,\n  KC_CALC: true,\n  KC_MYCM: true,\n  KC_WWW_SEARCH: true,\n  KC_WWW_HOME: true,\n  KC_WWW_BACK: true,\n  KC_WWW_FORWARD: true,\n  KC_WWW_STOP: true,\n  KC_WWW_REFRESH: true,\n  KC_WWW_FAVORITES: true,\n  KC_MFFD: true,\n  KC_MRWD: true\n};\n\nexport const getMacroKeycodes = () =>\n  keycodesList.filter(keycode => !!macroKeycodes[keycode.code]);\n","import {\n  createReducer,\n  createStandardAction,\n  ActionType\n} from 'typesafe-actions';\nimport {ThunkAction} from 'redux-thunk';\nimport {getMacroApi} from '../../utils/macro-api';\nimport {Device, KeyboardAPI} from '../../utils/keyboard-api';\nimport {RootState} from '..';\n\n// Actions\nconst actions = {\n  loadMacrosSuccess: createStandardAction('via/macros/LOAD')<string[]>(),\n  saveMacrosSuccess: createStandardAction('via/macros/SAVE')<string[]>(),\n  setMacrosNotSupported: createStandardAction('via/macros/NOT_SUPPORTED')()\n};\n\ntype Actions = ActionType<typeof actions>;\n\n// Thunks\ntype ThunkResult = ThunkAction<Promise<void>, RootState, undefined, Actions>;\n\n// TODO: don't need to pass device when we move that to redux\nexport const loadMacros = (device: Device): ThunkResult => {\n  return async dispatch => {\n    const protocol = await new KeyboardAPI(device).getProtocolVersion();\n    if (protocol < 8) {\n      dispatch(actions.setMacrosNotSupported());\n    } else {\n      const macroApi = getMacroApi(device);\n      const macros = await macroApi.readMacroExpressions();\n      dispatch(actions.loadMacrosSuccess(macros));\n    }\n  };\n};\n\nexport const saveMacros = (device: Device, macros: string[]): ThunkResult => {\n  return async dispatch => {\n    const macroApi = getMacroApi(device);\n    await macroApi.writeMacroExpressions(macros);\n    dispatch(actions.saveMacrosSuccess(macros));\n  };\n};\n\n// State\nexport type State = Readonly<{\n  expressions: string[];\n  isFeatureSupported: boolean;\n}>;\n\nconst initialState: State = {\n  expressions: [],\n  isFeatureSupported: true\n};\n\n// Reducer\nexport const macrosReducer = createReducer<State, Actions>(initialState)\n  .handleAction(\n    [actions.loadMacrosSuccess, actions.saveMacrosSuccess],\n    (state, action) => ({\n      ...state,\n      expressions: action.payload\n    })\n  )\n  .handleAction(actions.setMacrosNotSupported, state => {\n    return {\n      ...state,\n      isFeatureSupported: false\n    };\n  });\n","import {canConnect} from './keyboard-api';\nimport {Device, KeyboardDictionary} from '../types';\n\nconst HID = require('node-hid');\nconst IS_OSX = require('os').platform() === 'darwin';\n\nfunction scanDevices(): Device[] {\n  const devices = HID.devices();\n  return devices;\n}\n\nfunction isValidInterface(device: Device) {\n  return IS_OSX ? isValidUsage(device) : isValidInterfaceNonOSX(device);\n}\n\nfunction isValidInterfaceNonOSX(device: Device) {\n  const VALID_INTERFACE_IDS = [0x0001];\n  return VALID_INTERFACE_IDS.includes(device.interface);\n}\n\nfunction isValidUsage({usage, usagePage}: Device) {\n  const VALID_USAGE_IDS = [0x0061];\n  const VALID_USAGE_PAGE_IDS = [0xff60];\n  return (\n    VALID_USAGE_IDS.includes(usage) && VALID_USAGE_PAGE_IDS.includes(usagePage)\n  );\n}\n\nexport function getVendorProductId(vendorId: number, productId: number) {\n  // JS bitwise operations is only 32-bit so we lose numbers if we shift too high\n  return vendorId * 65536 + productId;\n}\n\nfunction definitionExists(\n  {productId, vendorId}: Device,\n  definitions: KeyboardDictionary\n) {\n  return definitions[getVendorProductId(vendorId, productId)] !== undefined;\n}\n\nexport function getDevicesUsingDefinitions(\n  definitions: KeyboardDictionary\n): Device[] {\n  const usbDevices = scanDevices();\n  return usbDevices.filter((device: Device) => {\n    const validVendorProduct = definitionExists(device, definitions);\n    const validInterface = isValidInterface(device);\n    // attempt connection\n    return validVendorProduct && validInterface && canConnect(device);\n  });\n}\n","// We get 32-bits to play with\ntype Choice = number;\ntype NumChoices = number;\ntype LayoutOption = [Choice, NumChoices];\nconst maxBitSize = 5;\n\nexport const sizeOfChoices = (numChoices: number[]) =>\n  numChoices.map(minBitSize).reduce((p, n) => n + p, 0);\n\nexport const packBits = (nums: LayoutOption[]) =>\n  nums.reduce(\n    (p, [choice, numChoices]) => (p << minBitSize(numChoices)) | choice,\n    0\n  ) >>> 0;\n\nexport const numIntoBytes = (num32: number) =>\n  [num32 >> 24, num32 >> 16, num32 >> 8, num32].map(num => num & 0xff);\n\nexport const bytesIntoNum = (bytesArr: number[]) =>\n  ((bytesArr[0] << 24) |\n    (bytesArr[1] << 16) |\n    (bytesArr[2] << 8) |\n    bytesArr[3]) >>>\n  0;\n\nexport const unpackBits = (choiceBits: number, nums: NumChoices[]) =>\n  nums.reverse().reduce(\n    ({res, bits}, numChoices) => ({\n      bits: bits >> minBitSize(numChoices),\n      res: [bits & ((1 << minBitSize(numChoices)) - 1), ...res]\n    }),\n    {bits: choiceBits, res: []}\n  ).res;\n\nexport const minBitSize = num =>\n  1 +\n  Array(maxBitSize)\n    .fill(0)\n    .findIndex((_, idx) => 2 << idx >= num);\n\nconsole.log(412350, bytesIntoNum(numIntoBytes(412350)));\n","import {\n  createReducer,\n  createStandardAction,\n  ActionType\n} from 'typesafe-actions';\nimport {ThunkAction} from 'redux-thunk';\nimport {createSelector} from 'reselect';\nimport {getDevicesFromStore, syncStore} from '../../utils/device-store';\nimport {\n  KeyboardAPI,\n  KeyboardValue,\n  VALID_PROTOCOL_VERSIONS\n} from '../../utils/keyboard-api';\nimport {loadMacros} from './macros';\nimport {RootState} from '..';\nimport {\n  getVendorProductId,\n  getDevicesUsingDefinitions\n} from '../../utils/hid-keyboards';\nimport {KeyboardDictionary, Device} from '../../types';\nimport {\n  LightingValue,\n  VIADefinitionV2,\n  getLightingDefinition\n} from 'via-reader';\nimport {\n  packBits,\n  unpackBits,\n  bytesIntoNum,\n  numIntoBytes\n} from '../../utils/bit-pack';\ntype Keymap = number[];\ntype Layer = {\n  keymap: Keymap;\n  isLoaded: boolean;\n};\ntype DeviceMap = {[devicePath: string]: Layer[]};\ntype ConnectedDevice = {\n  api: KeyboardAPI;\n  device: Device;\n  vendorProductId: number;\n  protocol: number;\n};\nexport type ConnectedDevices = {\n  [devicePath: string]: ConnectedDevice;\n};\ntype HIDColor = {\n  hue: number;\n  sat: number;\n};\ntype LightingData = {\n  customColors?: HIDColor[];\n};\ntype CustomMenuData = {\n  [commandName: string]: number[];\n};\n\ntype LayoutOption = number;\ntype LightingMap = {[devicePath: string]: LightingData};\ntype CustomMenuDataMap = {[devicePath: string]: CustomMenuData};\ntype LayoutOptionsMap = {[devicePath: string]: LayoutOption[]};\n\n// Actions\nexport const actions = {\n  toggleKeyRemappingViaKeyboard: createStandardAction(\n    'via/keymap/TOGGLE_KEY_REMAPPING_VIA_KB'\n  )(),\n  allowGlobalHotKeys: createStandardAction('via/keymap/ALLOW_GLOBAL_HOTKEYS')(),\n  disableGlobalHotKeys: createStandardAction(\n    'via/keymap/DISABLE_GLOBAL_HOTKEYS'\n  )(),\n  clearSelectedKey: createStandardAction('via/keymap/CLEAR_SELECTED_KEY')(),\n  updateSelectedKey: createStandardAction('via/keymap/UPDATE_SELECTED_KEY')<\n    number\n  >(),\n  updateDefinitions: createStandardAction('via/keymap/UPDATE_DEFINITIONS')<\n    KeyboardDictionary\n  >(),\n  loadDefinition: createStandardAction('via/keymap/LOAD_DEFINITION')<\n    VIADefinitionV2\n  >(),\n  setNumberOfLayers: createStandardAction('via/keymap/SET_NUMBER_OF_LAYERS')<\n    number\n  >(),\n  loadLayerSuccess: createStandardAction('via/keymap/LOAD')<{\n    layerIndex: number;\n    keymap: number[];\n    devicePath: string;\n  }>(),\n  offsetKeyboard: createStandardAction('via/keymap/OFFSET_KEYBOARD')<number>(),\n  saveKeymapSuccess: createStandardAction('via/keymap/SAVE')<Layer[]>(),\n  setLayer: createStandardAction('via/keymap/SET_LAYER')<number>(),\n  incrementLayer: createStandardAction('via/keymap/INCREMENT_LAYER')(),\n  decrementLayer: createStandardAction('via/keymap/DECREMENT_LAYER')(),\n  setKey: createStandardAction('via/keymap/SET_KEY')<{\n    keyIndex: number;\n    value: number;\n  }>(),\n  validateDevices: createStandardAction('via/keymap/VALIDATE')<Device[]>(),\n\n  // TODO: move this to a device-centric reducer later\n  selectDevice: createStandardAction(\n    'via/keymap/SELECT_DEVICE'\n  )<Device | null>(),\n  updateSelectedCustomMenuData: createStandardAction(\n    'via/lighting/UPDATE_SELECTED_CUSTOM_MENU_DATA'\n  )<CustomMenuData>(),\n  updateSelectedLightingData: createStandardAction(\n    'via/lighting/UPDATE_SELECTED_LIGHTING_DATA'\n  )<LightingData>(),\n  updateLayoutOptions: createStandardAction(\n    'via/lighting/UPDATE_LAYOUT_OPTIONS'\n  )<Partial<LayoutOptionsMap>>(),\n  updateLighting: createStandardAction('via/lighting/UPDATE_LIGHTING')<\n    LightingMap\n  >(),\n  updateCustomMenuData: createStandardAction(\n    'via/custom_menu/UPDATE_CUSTOM_MENU_DATA'\n  )<CustomMenuDataMap>(),\n  updateConnectedDevices: createStandardAction(\n    'via/device/UPDATE_CONNECTED_DEVICES'\n  )<ConnectedDevices>()\n};\n\ntype Actions = ActionType<typeof actions>;\n\n// Thunks\ntype ThunkResult = ThunkAction<Promise<void>, RootState, undefined, Actions>;\n\n// TODO: don't need to pass device when we move that to redux\nexport const loadKeymapFromDevice = (device: Device): ThunkResult => {\n  return async (dispatch, getState) => {\n    const api = new KeyboardAPI(device);\n    if (!api) {\n      return;\n    }\n\n    const state = getState().keymap;\n    if (getLoadProgress(state) === 1) {\n      return;\n    }\n\n    const numberOfLayers = await api.getLayerCount();\n    dispatch(actions.setNumberOfLayers(numberOfLayers));\n    for (var layer = 0; layer < numberOfLayers; layer++) {\n      dispatch(loadKeymapLayer(api, layer, device));\n    }\n  };\n};\n\nconst loadKeymapLayer = (\n  api: KeyboardAPI,\n  layerIndex: number,\n  device: Device\n): ThunkResult => {\n  return async (dispatch, getState) => {\n    const {path: devicePath, vendorId, productId} = device;\n    const matrix = getDefinitions(getState().keymap)[\n      getVendorProductId(vendorId, productId)\n    ].matrix;\n    const keymap = await api.readRawMatrix(matrix, layerIndex);\n    dispatch(actions.loadLayerSuccess({layerIndex, keymap, devicePath}));\n  };\n};\n\nexport const updateLayoutOption = (\n  path: string,\n  index: number,\n  val: number\n): ThunkResult => {\n  return async (dispatch, getState) => {\n    const state = getState().keymap;\n    const labels = getSelectedDefinition(state).layouts.labels;\n    const optionsNums = labels.map(layoutLabel =>\n      Array.isArray(layoutLabel) ? layoutLabel.slice(1).length : 2\n    );\n    const api = getSelectedAPI(state);\n    const options = [...getSelectedLayoutOptions(state)];\n    options[index] = val;\n\n    const bytes = numIntoBytes(\n      packBits(options.map((option, idx) => [option, optionsNums[idx]]))\n    );\n\n    try {\n      await api.setKeyboardValue(KeyboardValue.LAYOUT_OPTIONS, ...bytes);\n    } catch {\n      console.warn('Setting layout option command not working');\n    }\n\n    // Save Layout Options here\n    dispatch(\n      actions.updateLayoutOptions({\n        [path]: options\n      })\n    );\n  };\n};\n\n// This scans for potentially compatible devices, filter out the ones that have the correct protocol\n// and then optionally will select the first one if the current selection is non-existent\nexport const reloadConnectedDevices = (): ThunkResult => {\n  return async (dispatch, getState) => {\n    const state = getState().keymap;\n    const selectedPath = getSelectedDevicePath(state);\n    const devices = getDevicesUsingDefinitions(getDefinitions(state));\n    const protocolVersions = await Promise.all(\n      devices.map(device => new KeyboardAPI(device).getProtocolVersion())\n    );\n    const connectedDevices: ConnectedDevices = devices.reduce(\n      (p, n, idx) =>\n        VALID_PROTOCOL_VERSIONS.includes(protocolVersions[idx])\n          ? {\n              ...p,\n              [n.path]: {\n                api: new KeyboardAPI(n),\n                device: n,\n                protocol: protocolVersions[idx],\n                vendorProductId: getVendorProductId(n.vendorId, n.productId)\n              }\n            }\n          : p,\n      {}\n    );\n    Object.entries(connectedDevices).forEach(([path, d]) => {\n      console.info('Setting connected device:', d.protocol, path, d);\n    });\n    dispatch(actions.updateConnectedDevices(connectedDevices));\n    const validDevicesArr = Object.entries(connectedDevices);\n    if (!connectedDevices[selectedPath] && validDevicesArr.length > 0) {\n      const firstConnectedDevice = validDevicesArr[0][1];\n      dispatch(selectConnectedDevice(firstConnectedDevice.device));\n    } else if (validDevicesArr.length === 0) {\n      dispatch(actions.selectDevice(null));\n    }\n  };\n};\n\nexport const offsetKeyboard = (offset: number): ThunkResult => {\n  return async (dispatch, getState) => {\n    const state = getState().keymap;\n    const connectedDevices = Object.entries(getConnectedDevices(state));\n    const selectedDevicePath = getSelectedDevicePath(state);\n    const length = connectedDevices.length;\n    const currIdx = connectedDevices.findIndex(\n      device => device[0] === selectedDevicePath\n    );\n    const newDevice =\n      connectedDevices[(currIdx + offset + length) % length][1].device;\n    dispatch(selectConnectedDevice(newDevice));\n  };\n};\n\nexport const selectConnectedDevice = (device: Device): ThunkResult => {\n  return async (dispatch, getState) => {\n    dispatch(actions.selectDevice(device));\n    dispatch(loadMacros(device));\n    dispatch(loadLayoutOptions());\n\n    const protocol = getSelectedProtocol(getState().keymap);\n    if (protocol < 10) {\n      dispatch(updateLightingData(device));\n    }\n    if (protocol >= 10) {\n      dispatch(updateCustomMenuData(device));\n    }\n\n    dispatch(loadKeymapFromDevice(device));\n  };\n};\n\nexport const updateCustomMenuValue = (\n  command: string,\n  ...rest: number[]\n): ThunkResult => {\n  return async (dispatch, getState) => {\n    const state = getState().keymap;\n    const menuData = getSelectedCustomMenuData(state);\n    const commands = getCustomCommands(state);\n    const data = {\n      ...menuData,\n      [command]: [...rest.slice(commands[command].length)]\n    };\n    const api = getSelectedAPI(state);\n    dispatch(actions.updateSelectedCustomMenuData(data));\n    api.setCustomMenuValue(...rest.slice(0));\n\n    const channel = rest[0];\n    api.commitCustomMenu(channel);\n  };\n};\n\nexport const updateBacklightValue = (\n  command: LightingValue,\n  ...rest: number[]\n): ThunkResult => {\n  return async (dispatch, getState) => {\n    const state = getState().keymap;\n    const selectedLightingData = getSelectedLightingData(state);\n    const lightingData = {\n      ...selectedLightingData,\n      [command]: [...rest]\n    };\n    const api = getSelectedAPI(state);\n    dispatch(actions.updateSelectedLightingData(lightingData));\n    await api.setBacklightValue(command, ...rest);\n    await api.saveLighting();\n  };\n};\n\nexport const updateCustomColor = (\n  idx: number,\n  hue: number,\n  sat: number\n): ThunkResult => {\n  return async (dispatch, getState) => {\n    const state = getState().keymap;\n    const oldLightingData = getSelectedLightingData(state);\n    const customColors = [...oldLightingData.customColors];\n    customColors[idx] = {hue, sat};\n    const lightingData = {\n      ...oldLightingData,\n      customColors\n    };\n    const api = getSelectedAPI(state);\n    dispatch(actions.updateSelectedLightingData(lightingData));\n    api.setCustomColor(idx, hue, sat);\n    await api.saveLighting();\n  };\n};\n\nconst commandParamLengths = {\n  [LightingValue.BACKLIGHT_COLOR_1]: 2,\n  [LightingValue.BACKLIGHT_COLOR_2]: 2,\n  [LightingValue.QMK_RGBLIGHT_COLOR]: 2,\n  [LightingValue.BACKLIGHT_CUSTOM_COLOR]: 2,\n  [LightingValue.BACKLIGHT_CAPS_LOCK_INDICATOR_COLOR]: 2,\n  [LightingValue.BACKLIGHT_CAPS_LOCK_INDICATOR_ROW_COL]: 2,\n  [LightingValue.BACKLIGHT_LAYER_1_INDICATOR_COLOR]: 2,\n  [LightingValue.BACKLIGHT_LAYER_2_INDICATOR_COLOR]: 2,\n  [LightingValue.BACKLIGHT_LAYER_3_INDICATOR_COLOR]: 2,\n  [LightingValue.BACKLIGHT_LAYER_1_INDICATOR_ROW_COL]: 2,\n  [LightingValue.BACKLIGHT_LAYER_2_INDICATOR_ROW_COL]: 2,\n  [LightingValue.BACKLIGHT_LAYER_3_INDICATOR_ROW_COL]: 2,\n  [LightingValue.BACKLIGHT_EFFECT_SPEED]: 1,\n  [LightingValue.BACKLIGHT_USE_7U_SPACEBAR]: 1,\n  [LightingValue.BACKLIGHT_USE_ISO_ENTER]: 1,\n  [LightingValue.BACKLIGHT_USE_SPLIT_BACKSPACE]: 1,\n  [LightingValue.BACKLIGHT_USE_SPLIT_LEFT_SHIFT]: 1,\n  [LightingValue.BACKLIGHT_USE_SPLIT_RIGHT_SHIFT]: 1,\n  [LightingValue.BACKLIGHT_DISABLE_AFTER_TIMEOUT]: 1,\n  [LightingValue.BACKLIGHT_DISABLE_HHKB_BLOCKER_LEDS]: 1,\n  [LightingValue.BACKLIGHT_DISABLE_WHEN_USB_SUSPENDED]: 1\n};\n\nconst extractCommands = menuOrControls =>\n  'type' in menuOrControls\n    ? [menuOrControls.content]\n    : 'content' in menuOrControls\n    ? menuOrControls.content.flatMap(extractCommands)\n    : [];\n\nexport const updateCustomMenuData = (device: Device): ThunkResult => {\n  return async (dispatch, getState) => {\n    const state = getState().keymap;\n    const definitions = getDefinitions(state);\n    const {api, protocol, vendorProductId} = state.connectedDevices[\n      device.path\n    ];\n    const {customMenus = []} = definitions[vendorProductId];\n    const commands = customMenus.flatMap(extractCommands);\n    if (commands.length !== 0 && protocol >= 10) {\n      let props = {};\n      const commandPromises = commands.map(([name, channelId, ...command]) => ({\n        command: name,\n        promise: api.getCustomMenuValue([channelId].concat(command))\n      }));\n      const commandPromisesRes = await Promise.all(\n        commandPromises.map(c => c.promise)\n      );\n      props = commandPromises.reduce(\n        ({res, ref}, n, idx) => ({\n          ref,\n          res: {...res, [n.command]: ref[idx].slice(1)}\n        }),\n        {res: props, ref: commandPromisesRes}\n      ).res;\n\n      dispatch(\n        actions.updateCustomMenuData({\n          [device.path]: {\n            ...props\n          }\n        })\n      );\n    }\n  };\n};\n\nexport const updateLightingData = (device: Device): ThunkResult => {\n  return async (dispatch, getState) => {\n    const state = getState().keymap;\n    const definitions = getDefinitions(state);\n    const {api, vendorProductId} = state.connectedDevices[device.path];\n    const {lighting} = definitions[vendorProductId];\n    const {supportedLightingValues, effects} = getLightingDefinition(lighting);\n\n    if (supportedLightingValues.length !== 0) {\n      let props = {};\n\n      // Special case for m6_b\n      if (\n        supportedLightingValues.indexOf(\n          LightingValue.BACKLIGHT_CUSTOM_COLOR\n        ) !== -1\n      ) {\n        const res = await Array(Math.max(...effects.map(([_, num]) => num)))\n          .fill(0)\n          .map((_, idx) => api.getCustomColor(idx));\n        const customColors = await Promise.all(res);\n        props = {customColors};\n      }\n\n      const commandPromises = supportedLightingValues.map(command => ({\n        command,\n        promise: api.getBacklightValue(+command, commandParamLengths[command])\n      }));\n      const commandPromisesRes = await Promise.all(\n        commandPromises.map(c => c.promise)\n      );\n      props = commandPromises.reduce(\n        ({res, ref}, n, idx) => ({ref, res: {...res, [n.command]: ref[idx]}}),\n        {res: props, ref: commandPromisesRes}\n      ).res;\n\n      dispatch(\n        actions.updateLighting({\n          [device.path]: {\n            ...props\n          }\n        })\n      );\n    }\n  };\n};\n\nexport const updateKey = (keyIndex: number, value: number): ThunkResult => {\n  return async (dispatch, getState) => {\n    const state = getState().keymap;\n    const keys = getSelectedKeyDefinitions(state);\n    const api = getSelectedAPI(state);\n    if (api && keys) {\n      const {row, col} = keys[keyIndex];\n      await api.setKey(state.selectedLayerIndex, row, col, value);\n      dispatch(actions.setKey({keyIndex, value}));\n    }\n  };\n};\n\nexport const saveRawKeymapToDevice = (\n  keymap: number[][],\n  device: Device\n): ThunkResult => {\n  return async (dispatch, getState) => {\n    const api = new KeyboardAPI(device);\n    if (!api) {\n      return;\n    }\n\n    const matrix = getSelectedDefinition(getState().keymap).matrix;\n    await api.writeRawMatrix(matrix, keymap);\n    const layers = keymap.map(layer => ({\n      keymap: layer,\n      isLoaded: true\n    }));\n    dispatch(actions.saveKeymapSuccess(layers));\n  };\n};\n\nexport const loadDefinitions = (): ThunkResult => {\n  return async dispatch => {\n    dispatch(actions.updateDefinitions(getDevicesFromStore()));\n    await syncStore();\n    dispatch(actions.updateDefinitions(getDevicesFromStore()));\n    dispatch(reloadConnectedDevices());\n  };\n};\n\nexport const loadLayoutOptions = (): ThunkResult => {\n  return async (dispatch, getState) => {\n    const state = getState().keymap;\n    const {labels} = getSelectedDefinition(state).layouts;\n    if (labels) {\n      const api = getSelectedAPI(state);\n      const path = getSelectedDevicePath(state);\n      try {\n        const res = await api.getKeyboardValue(KeyboardValue.LAYOUT_OPTIONS, 4);\n        const options = unpackBits(\n          bytesIntoNum(res),\n          labels.map(layoutLabel =>\n            Array.isArray(layoutLabel) ? layoutLabel.slice(1).length : 2\n          )\n        );\n        dispatch(\n          actions.updateLayoutOptions({\n            [path]: options\n          })\n        );\n      } catch {\n        console.warn('Getting layout options command not working');\n      }\n    }\n  };\n};\n\n// State\nexport type State = {\n  rawDeviceMap: Readonly<DeviceMap>;\n  selectedDevicePath: string | null;\n  selectedVendorProductId: number;\n  selectedLayerIndex: number;\n  numberOfLayers: number;\n  connectedDevices: ConnectedDevices;\n  lightingMap: LightingMap;\n  customMenuDataMap: CustomMenuDataMap;\n  layoutOptionsMap: LayoutOptionsMap;\n  definitions: KeyboardDictionary;\n  customDefinitions: KeyboardDictionary;\n  selectedKey: null | number;\n  selectedDevice: null | Device;\n  allowKeyRemappingViaKeyboard: boolean;\n  allowGlobalHotKeys: boolean;\n};\n\nconst initialState: State = {\n  allowKeyRemappingViaKeyboard: false,\n  allowGlobalHotKeys: false,\n  rawDeviceMap: {},\n  definitions: {},\n  customDefinitions: {},\n  selectedDevice: null,\n  selectedDevicePath: null,\n  selectedKey: null,\n  selectedVendorProductId: null,\n  selectedLayerIndex: 0,\n  numberOfLayers: 4,\n  connectedDevices: {},\n  lightingMap: {},\n  layoutOptionsMap: {},\n  customMenuDataMap: {}\n};\n\nconst getSelectedPropsFromDevice = (device: Device) => ({\n  selectedDevice: device,\n  selectedDevicePath: device.path,\n  selectedVendorProductId: getVendorProductId(device.vendorId, device.productId)\n});\n\nconst getResetSelectedProps = () => ({\n  selectedDevice: null,\n  selectedDevicePath: null,\n  selectedVendorProductId: null,\n  selectedKey: null\n});\n\n// Reducer\nexport const keymapReducer = createReducer<State, Actions>(initialState)\n  .handleAction(actions.disableGlobalHotKeys, state => ({\n    ...state,\n    allowGlobalHotKeys: false\n  }))\n  .handleAction(actions.toggleKeyRemappingViaKeyboard, state => ({\n    ...state,\n    allowKeyRemappingViaKeyboard: !state.allowKeyRemappingViaKeyboard\n  }))\n  .handleAction(actions.allowGlobalHotKeys, state => ({\n    ...state,\n    allowGlobalHotKeys: true\n  }))\n  .handleAction(actions.selectDevice, (state, action) => ({\n    ...state,\n    ...(action.payload\n      ? getSelectedPropsFromDevice(action.payload)\n      : getResetSelectedProps())\n  }))\n  .handleAction(actions.offsetKeyboard, (state, action) => {\n    const connectedDevices = Object.entries(getConnectedDevices(state));\n    const selectedDevicePath = getSelectedDevicePath(state);\n    const offset = action.payload;\n    const length = connectedDevices.length;\n    const currIdx = connectedDevices.findIndex(\n      device => device[0] === selectedDevicePath\n    );\n    if (length > 1 && currIdx !== -1) {\n      return {\n        ...state,\n        ...getSelectedPropsFromDevice(\n          connectedDevices[(currIdx + offset + length) % length][1].device\n        )\n      };\n    } else {\n      return {\n        ...state,\n        ...getResetSelectedProps()\n      };\n    }\n  })\n  .handleAction(actions.updateLayoutOptions, (state, action) => ({\n    ...state,\n    layoutOptionsMap: {\n      ...state.layoutOptionsMap,\n      ...action.payload\n    }\n  }))\n  .handleAction(actions.updateLighting, (state, action) => ({\n    ...state,\n    lightingMap: {\n      ...state.lightingMap,\n      ...action.payload\n    }\n  }))\n  .handleAction(actions.updateCustomMenuData, (state, action) => ({\n    ...state,\n    customMenuDataMap: {\n      ...state.customMenuDataMap,\n      ...action.payload\n    }\n  }))\n  .handleAction(actions.clearSelectedKey, state => ({\n    ...state,\n    selectedKey: null\n  }))\n  .handleAction(actions.updateSelectedKey, (state, action) => ({\n    ...state,\n    selectedKey: action.payload\n  }))\n  .handleAction(actions.updateConnectedDevices, (state, action) => ({\n    ...state,\n    connectedDevices: action.payload\n  }))\n  .handleAction(actions.setNumberOfLayers, (state, action) => ({\n    ...state,\n    numberOfLayers: action.payload\n  }))\n  .handleAction(actions.loadDefinition, (state, action) => ({\n    ...state,\n    customDefinitions: {\n      ...state.customDefinitions,\n      [action.payload.vendorProductId]: action.payload\n    }\n  }))\n  .handleAction(actions.updateSelectedCustomMenuData, (state, action) => ({\n    ...state,\n    customMenuDataMap: {\n      ...state.customMenuDataMap,\n      [state.selectedDevicePath]: action.payload\n    }\n  }))\n  .handleAction(actions.updateSelectedLightingData, (state, action) => ({\n    ...state,\n    lightingMap: {\n      ...state.lightingMap,\n      [state.selectedDevicePath]: action.payload\n    }\n  }))\n  .handleAction(actions.setLayer, (state, action) => {\n    return {\n      ...state,\n      selectedLayerIndex: action.payload\n    };\n  })\n  .handleAction(actions.incrementLayer, state => {\n    const newLayerIndex = state.selectedLayerIndex + 1;\n    if (newLayerIndex >= state.numberOfLayers) {\n      return state;\n    }\n    return {\n      ...state,\n      selectedLayerIndex: newLayerIndex\n    };\n  })\n  .handleAction(actions.decrementLayer, state => {\n    const newLayerIndex = state.selectedLayerIndex - 1;\n    if (newLayerIndex < 0) {\n      return state;\n    }\n    return {\n      ...state,\n      selectedLayerIndex: newLayerIndex\n    };\n  })\n  .handleAction(actions.updateDefinitions, (state, action) => ({\n    ...state,\n    definitions: action.payload\n  }))\n  .handleAction(actions.setKey, (state, action) => {\n    const {keyIndex, value} = action.payload;\n    const selectedVendorProductId = state.selectedVendorProductId;\n    const keymap = [...getSelectedRawLayer(state).keymap];\n    const {selectedLayerIndex} = state;\n    const rawDeviceLayers = getSelectedRawLayers(state);\n    const definitions = getDefinitions(state);\n    const keys = getSelectedKeyDefinitions(state);\n    const definition = definitions[selectedVendorProductId];\n    const {\n      matrix: {cols}\n    } = definition;\n    const {row, col} = keys[keyIndex];\n    let newRawLayers = [...rawDeviceLayers];\n    keymap[row * cols + col] = value;\n    newRawLayers[selectedLayerIndex] = {\n      ...newRawLayers[selectedLayerIndex],\n      keymap\n    };\n\n    return {\n      ...state,\n      rawDeviceMap: {\n        ...state.rawDeviceMap,\n        [state.selectedDevicePath]: newRawLayers\n      }\n    };\n  })\n  .handleAction(actions.loadLayerSuccess, (state, action) => {\n    const {layerIndex, keymap, devicePath} = action.payload;\n    const deviceLayers =\n      state.rawDeviceMap[devicePath] || initDeviceLayers(state.numberOfLayers);\n    let newDeviceLayers = [...deviceLayers];\n    newDeviceLayers[layerIndex] = {\n      keymap,\n      isLoaded: true\n    };\n    return {\n      ...state,\n      rawDeviceMap: {\n        ...state.rawDeviceMap,\n        [devicePath]: newDeviceLayers\n      }\n    };\n  })\n  .handleAction(actions.saveKeymapSuccess, (state, action) => ({\n    ...state,\n    rawDeviceMap: {\n      ...state.rawDeviceMap,\n      [state.selectedDevicePath]: action.payload\n    }\n  }))\n  .handleAction(actions.validateDevices, (state, action) => {\n    // Filter current device data based on current connected devices\n    const validatedDevices = action.payload.reduce(\n      (acc, {path}) => {\n        acc.rawDeviceMap[path] = state.rawDeviceMap[path];\n        acc.lightingMap[path] = state.lightingMap[path];\n        return acc;\n      },\n      {lightingMap: {}, rawDeviceMap: {}}\n    );\n\n    return {\n      ...state,\n      ...validatedDevices\n    };\n  });\n\nconst initDeviceLayers = (numberOfLayers): Layer[] =>\n  Array(numberOfLayers).fill({\n    keymap: [],\n    isLoaded: false\n  });\n\n// Selectors\n\nexport const getConnectedDevices = (state: State) => state.connectedDevices;\nexport const getBaseDefinitions = (state: State) => state.definitions;\nexport const getCustomDefinitions = (state: State) => state.customDefinitions;\nexport const getSelectedKey = (state: State) => state.selectedKey;\nexport const getRawDeviceMap = (state: State) => state.rawDeviceMap;\nexport const getLayoutOptionsMap = (state: State) => state.layoutOptionsMap;\nexport const getCustomMenuDataMap = (state: State) => state.customMenuDataMap;\nexport const getLightingMap = (state: State) => state.lightingMap;\nexport const getNumberOfLayers = (state: State) => state.numberOfLayers;\nexport const getSelectedVendorProductId = (state: State) =>\n  state.selectedVendorProductId;\nexport const getSelectedDevicePath = (state: State) => state.selectedDevicePath;\nexport const getSelectedLayerIndex = (state: State) => state.selectedLayerIndex;\n\nexport const getDefinitions = createSelector(\n  getBaseDefinitions,\n  getCustomDefinitions,\n  (definitions, customDefinitions) => ({...definitions, ...customDefinitions})\n);\nexport const getSelectedConnectedDevice = createSelector(\n  getConnectedDevices,\n  getSelectedDevicePath,\n  (devices, path) => devices[path] && devices[path]\n);\nexport const getSelectedDevice = createSelector(\n  getConnectedDevices,\n  getSelectedDevicePath,\n  (devices, path) => devices[path] && devices[path].device\n);\nexport const getSelectedProtocol = createSelector(\n  getConnectedDevices,\n  getSelectedDevicePath,\n  (devices, path) => devices[path] && devices[path].protocol\n);\nexport const getSelectedAPI = createSelector(\n  getConnectedDevices,\n  getSelectedDevicePath,\n  (devices, path) => devices[path] && devices[path].api\n);\nexport const getSelectedDefinition = createSelector(\n  getDefinitions,\n  getSelectedVendorProductId,\n  (definitions, id) => definitions[id]\n);\nexport const getCustomCommands = createSelector(\n  getSelectedDefinition,\n  definition => {\n    if (definition === undefined || definition.customMenus === undefined) {\n      return [];\n    }\n    return definition.customMenus.flatMap(extractCommands).reduce((p, n) => {\n      return {\n        ...p,\n        [n[0]]: n.slice(1)\n      };\n    }, {});\n  }\n);\nexport const getCustomMenus = createSelector(\n  getSelectedDefinition,\n  definition => {\n    if (definition === undefined) {\n      return [];\n    }\n\n    const compileMenu = (partial, depth = 0, val, idx) =>\n      depth === 0\n        ? val\n        : {\n            ...val,\n            _id: `${partial}_${idx}`,\n            content:\n              val.label !== undefined\n                ? val.content.map((val, idx) =>\n                    compileMenu(`${partial}_${idx}`, depth - 1, val, idx)\n                  )\n                : val.content.map((val, idx) =>\n                    compileMenu(`${partial}_${idx}`, depth, val, idx)\n                  )\n          };\n    return (definition.customMenus || []).map((val, idx) =>\n      compileMenu('custom_menu', 3, val, idx)\n    );\n  }\n);\n\nexport const getSelectedLayoutOptions = createSelector(\n  getSelectedDefinition,\n  getLayoutOptionsMap,\n  getSelectedDevicePath,\n  (definition, map, path) =>\n    map[path] ||\n    (definition &&\n      definition.layouts.labels &&\n      definition.layouts.labels.map(_ => 0)) ||\n    []\n);\nexport const getSelectedCustomMenuData = createSelector(\n  getCustomMenuDataMap,\n  getSelectedDevicePath,\n  (map, path) => map[path]\n);\nexport const getSelectedLightingData = createSelector(\n  getLightingMap,\n  getSelectedDevicePath,\n  (map, path) => map[path]\n);\nexport const getSelectedRawLayers = createSelector(\n  getRawDeviceMap,\n  getSelectedDevicePath,\n  (rawDeviceMap, devicePath) => devicePath && rawDeviceMap[devicePath]\n);\nexport const getSelectedOptionKeys = createSelector(\n  getSelectedLayoutOptions,\n  getSelectedDefinition,\n  (layoutOptions, definition) =>\n    layoutOptions.flatMap(\n      (option, idx) => definition.layouts.optionKeys[idx][option]\n    )\n);\nexport const getSelectedKeyDefinitions = createSelector(\n  getSelectedDefinition,\n  getSelectedOptionKeys,\n  (definition, optionKeys) => {\n    if (definition && optionKeys) {\n      return definition.layouts.keys.concat(optionKeys);\n    }\n    return [];\n  }\n);\nexport const getSelectedKeymaps = createSelector(\n  getSelectedKeyDefinitions,\n  getSelectedDefinition,\n  getSelectedRawLayers,\n  (keys, definition, layers) => {\n    if (definition && layers) {\n      const rawKeymaps = layers.map(layer => layer.keymap);\n      const {\n        matrix: {cols}\n      } = definition;\n      return rawKeymaps.map(keymap =>\n        keys.map(({row, col}) => keymap[row * cols + col])\n      );\n    }\n    return undefined;\n  }\n);\nexport const getLoadProgress = createSelector(\n  getSelectedRawLayers,\n  getNumberOfLayers,\n  (layers, layerCount) =>\n    layers && layers.filter(layer => layer.isLoaded).length / layerCount\n);\nexport const getSelectedRawLayer = createSelector(\n  getSelectedRawLayers,\n  getSelectedLayerIndex,\n  (deviceLayers, layerIndex) => deviceLayers && deviceLayers[layerIndex]\n);\nexport const getSelectedRawMatrix = createSelector(\n  getSelectedRawLayer,\n  selectedLayer => selectedLayer && selectedLayer.keymap\n);\nexport const getSelectedKeymap = createSelector(\n  getSelectedKeymaps,\n  getSelectedLayerIndex,\n  (deviceLayers, layerIndex) => deviceLayers && deviceLayers[layerIndex]\n);\n","import {RootState} from '../redux';\nimport {KeyColor} from '../utils/themes';\nimport {connect} from 'react-redux';\nimport styled from 'styled-components';\nimport * as React from 'react';\nimport * as partition from 'lodash.partition';\nimport {\n  getSelectedKeyDefinitions,\n  getSelectedDefinition,\n  getSelectedKeymap,\n  getSelectedKey,\n  actions\n} from '../redux/modules/keymap';\nimport {\n  getLabelForByte,\n  isUserKeycodeByte,\n  getUserKeycodeIndex,\n  isAlpha,\n  isNumericSymbol,\n  isNumericOrShiftedSymbol,\n  isMacro,\n  getShortNameForKeycode\n} from '../utils/key';\nimport {VIADefinitionV2, VIAKey, KeyColorType} from 'via-reader';\nimport {getThemeFromStore} from '../utils/device-store';\n\nexport const CSSVarObject = {\n  keyWidth: 52,\n  keyXSpacing: 2,\n  keyHeight: 54,\n  keyYSpacing: 2,\n  keyXPos: 52 + 2,\n  keyYPos: 54 + 2\n};\n\nconst KeyboardFrame = styled.div`\n  pointer-events: ${props => (props.selectable ? 'all' : 'none')};\n  width: ${props =>\n    CSSVarObject.keyXPos * props.width - CSSVarObject.keyXSpacing}px;\n  height: ${props =>\n    CSSVarObject.keyYPos * props.height - CSSVarObject.keyYSpacing}px;\n  background: var(--color_medium-grey);\n  padding: 2px;\n  border-radius: 3px;\n  box-shadow: var(--color_dark-grey) 0 1px 0px 3px;\n  padding: 5px;\n  background: var(--color_light-jet);\n  position: relative;\n  transform: ${props => {\n    if (props.containerDimensions) {\n      const ratio = Math.min(\n        1,\n        props.containerDimensions.width /\n          ((CSSVarObject.keyWidth + CSSVarObject.keyXSpacing) * props.width -\n            CSSVarObject.keyXSpacing +\n            30)\n      );\n      return `scale(${ratio}, ${ratio})`;\n    }\n    return 'initial';\n  }};\n`;\n\nexport const BlankKeyboardFrame = styled(KeyboardFrame)`\n  padding: 5px;\n  background: var(--color_light-jet);\n  position: relative;\n  transform: ${props => {\n    if (props.containerDimensions) {\n      const ratio = Math.min(\n        1,\n        props.containerDimensions.width /\n          ((CSSVarObject.keyWidth + CSSVarObject.keyXSpacing) * props.width -\n            CSSVarObject.keyXSpacing +\n            20)\n      );\n      return `scale(${ratio}, ${ratio})`;\n    }\n    return 'initial';\n  }};\n`;\n\nexport const KeyContainer = styled.div`\n  position: absolute;\n  box-sizing: border-box;\n  transition: transform 0.2s ease-out;\n  user-select: none;\n  transform: ${props =>\n    props.selected\n      ? 'translate3d(0, -1px, 0) scale(0.99)'\n      : 'translate3d(0,0,0)'};\n  :hover {\n    transform: ${props =>\n      props.selected\n        ? 'translate3d(0, -1px, 0) scale(0.99)'\n        : 'translate3d(0,-1px,0)'};\n  }\n  animation-name: select-glow;\n  animation-duration: ${props => (props.selected ? 1.5 : 0)}s;\n  animation-iteration-count: infinite;\n  animation-direction: alternate;\n  animation-timing-function: ease-in-out;\n`;\n\nexport const RotationContainer = styled.div`\n  position: absolute;\n  ${props => (props.selected ? 'z-index:2;' : '')}\n  transform: ${props => `rotate(${props.r}deg)`};\n  transform-origin: ${props =>\n    `${CSSVarObject.keyXPos * props.rx}px ${CSSVarObject.keyYPos *\n      props.ry}px`};\n`;\n\nexport const BGKeyContainer = styled(KeyContainer)`\n  transform: translate3d(0, -1px, 0) scale(0.99);\n  :hover {\n    transform: ${props =>\n      props.selected\n        ? 'translate3d(0,-1px,0) scale(0.99)'\n        : 'translate3d(0,-1px,0)'};\n  }\n`;\n\nconst SmallInnerKey = styled.div`\n  height: 100%;\n  position: relative;\n  margin: auto;\n  background-color: ${props => props.backgroundColor};\n  line-height: 20px;\n  box-sizing: border-box;\n  border-radius: 3px;\n  font-size: 12px;\n  padding-top: 0;\n`;\n\nconst InnerKey = styled.div`\n  height: 100%;\n  margin: auto;\n  background-color: ${props => props.backgroundColor};\n  line-height: 20px;\n  box-sizing: border-box;\n  border-radius: 3px;\n  padding-top: 2px;\n`;\n\n// Remove after refactoring with flexbox\nconst SmallInnerCenterKeyContainer = styled.div`\n  position: absolute;\n  padding-left: 2px;\n  top: 10px;\n  width: 100%;\n`;\n\n// Remove after refactoring with flexbox\nconst InnerKeyContainer = styled.div`\n  position: absolute;\n  padding-left: 5px;\n  width: 100%;\n`;\n\nexport const OuterSecondaryKey = styled.div`\n  background-color: ${props => props.backgroundColor};\n  animation-duration: ${props => (props.selected ? 2 : 0)}s;\n  animation-iteration-count: infinite;\n  animation-direction: alternate;\n  animation-timing-function: ease-in-out;\n  padding-top: 2px;\n  padding-bottom: 9px;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 100%;\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: block;\n  margin-right: 2px;\n  width: 100%;\n  cursor: pointer;\n  position: absolute;\n`;\n\nexport const OuterKey = styled.div`\n  background-color: ${props => props.backgroundColor};\n  animation-duration: ${props => (props.selected ? 2 : 0)}s;\n  animation-iteration-count: infinite;\n  animation-direction: alternate;\n  animation-timing-function: ease-in-out;\n  padding-top: 2px;\n  padding-bottom: 9px;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 100%;\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: block;\n  margin-right: 2px;\n  width: 100%;\n  cursor: pointer;\n`;\n\nconst Legend = styled.div`\n  font-family: Arial, Helvetica, sans-serif;\n  color: ${props => props.color};\n  font-weight: bold;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nexport const getDarkenedColor = (color: string) => {\n  const cleanedColor = color.replace('#', '');\n  const r = parseInt(cleanedColor[0], 16) * 16 + parseInt(cleanedColor[1], 16);\n  const g = parseInt(cleanedColor[2], 16) * 16 + parseInt(cleanedColor[3], 16);\n  const b = parseInt(cleanedColor[4], 16) * 16 + parseInt(cleanedColor[5], 16);\n  const hr = Math.round(r * 0.8).toString(16);\n  const hg = Math.round(g * 0.8).toString(16);\n  const hb = Math.round(b * 0.8).toString(16);\n  const res = `#${hr.padStart(2, '0')}${hg.padStart(2, '0')}${hb.padStart(\n    2,\n    '0'\n  )}`;\n  return res;\n};\n\nexport const getLegends = (\n  labels: (string | void)[],\n  t: string\n): JSX.Element[] => {\n  return labels.map(label => (\n    <Legend key={label || ''} color={t}>\n      {(label || '').length > 15 ? 'ADV' : label || ''}\n    </Legend>\n  ));\n};\n\nexport const chooseInnerKey = props => {\n  const {topLabel, centerLabel} = props;\n  const isSmall = topLabel !== undefined || centerLabel !== undefined;\n  return isSmall ? SmallInnerKey : InnerKey;\n};\n\nexport const chooseInnerKeyContainer = props => {\n  const {topLabel, centerLabel} = props;\n  const isSmall = topLabel !== undefined || centerLabel !== undefined;\n  return isSmall && centerLabel\n    ? SmallInnerCenterKeyContainer\n    : InnerKeyContainer;\n};\nconst noop = (...args: any[]) => {};\nexport const KeyBG = React.memo(\n  ({x, x2, y, y2, w, w2, h, h2, r = 0, rx = 0, ry = 0}: any) => {\n    const hasSecondKey = [h2, w2].every(i => i !== undefined);\n    const backColor = 'var(--color_accent)';\n    return (\n      <RotationContainer r={r} rx={rx} ry={ry}>\n        <BGKeyContainer\n          selected={true}\n          w={w + 2}\n          h={h + 2}\n          x={x - 1}\n          y={y - 1}\n          style={{\n            ...getBGKeyContainerPosition({w, h, x, y})\n          }}\n        >\n          {hasSecondKey ? (\n            <>\n              <OuterSecondaryKey\n                backgroundColor={backColor}\n                style={getBGKeyContainerPosition({\n                  w: w2,\n                  x: x2 || 0,\n                  y: y2 || 0,\n                  h: h2\n                })}\n              ></OuterSecondaryKey>\n            </>\n          ) : null}\n          <OuterKey backgroundColor={backColor}></OuterKey>\n        </BGKeyContainer>\n      </RotationContainer>\n    );\n  }\n);\nconst Key = React.memo(\n  ({\n    x,\n    x2,\n    y,\n    y2,\n    w,\n    w2,\n    h,\n    h2,\n    c,\n    t,\n    r = 0,\n    rx = 0,\n    ry = 0,\n    selected,\n    macroExpression,\n    centerLabel = undefined,\n    topLabel = undefined,\n    bottomLabel = undefined,\n    label = undefined,\n    id,\n    onClick = noop\n  }: any) => {\n    const isSmall = topLabel !== undefined || centerLabel !== undefined;\n    const ChosenInnerKeyContainer = chooseInnerKeyContainer({\n      topLabel,\n      centerLabel\n    });\n    const ChosenInnerKey = chooseInnerKey({topLabel, centerLabel});\n    const legends = isSmall && !centerLabel ? [topLabel, bottomLabel] : [label];\n    const tooltipData = getTooltipData({macroExpression, label});\n    const containerOnClick = evt => {\n      evt.stopPropagation();\n      onClick(id);\n    };\n    const hasSecondKey = [h2, w2].every(i => i !== undefined);\n    return (\n      <RotationContainer selected={selected} r={r} rx={rx} ry={ry}>\n        <KeyContainer\n          id={id}\n          {...tooltipData}\n          w={w}\n          h={h}\n          x={x}\n          y={y}\n          selected={selected}\n          style={getKeyContainerPosition({w, h, x, y})}\n          onClick={containerOnClick}\n        >\n          {hasSecondKey ? (\n            <>\n              <OuterSecondaryKey\n                backgroundColor={getDarkenedColor(c)}\n                style={getKeyContainerPosition({\n                  w: w2,\n                  x: x2 || 0,\n                  y: y2 || 0,\n                  h: h2\n                })}\n              >\n                <ChosenInnerKey\n                  style={hasSecondKey ? {transform: 'rotateZ(0)'} : {}}\n                  backgroundColor={c}\n                >\n                  <ChosenInnerKeyContainer></ChosenInnerKeyContainer>\n                </ChosenInnerKey>\n              </OuterSecondaryKey>\n            </>\n          ) : null}\n          <OuterKey selected={selected} backgroundColor={getDarkenedColor(c)}>\n            <ChosenInnerKey\n              style={hasSecondKey ? {transform: 'rotateZ(0)'} : {}}\n              backgroundColor={c}\n            >\n              <ChosenInnerKeyContainer>\n                {getLegends(legends, t)}\n              </ChosenInnerKeyContainer>\n            </ChosenInnerKey>\n          </OuterKey>\n        </KeyContainer>\n      </RotationContainer>\n    );\n  }\n);\n\nexport const getBGKeyContainerPosition = ({x, y, w, h}) => ({\n  left: CSSVarObject.keyXPos * x - 1,\n  top: CSSVarObject.keyYPos * y - 1,\n  width: CSSVarObject.keyXPos * w - CSSVarObject.keyXSpacing + 2,\n  height: CSSVarObject.keyYPos * h - CSSVarObject.keyYSpacing + 2\n});\n\nexport const getKeyContainerPosition = ({x, y, w, h}) => ({\n  left: CSSVarObject.keyXPos * x,\n  top: CSSVarObject.keyYPos * y,\n  width: CSSVarObject.keyXPos * w - CSSVarObject.keyXSpacing,\n  height: CSSVarObject.keyYPos * h - CSSVarObject.keyYSpacing\n});\n\ntype ReduxProps = {\n  selectedDefinition: VIADefinitionV2 | null;\n  macros: RootState['macros'];\n  matrixKeycodes?: number[];\n  keys?: VIAKey[];\n  selectedKey: number | null;\n};\n\ntype OwnProps = {\n  updateSelectedKey: (index: number) => void;\n  selectable: boolean;\n  containerDimensions?: any;\n  showMatrix?: boolean;\n  selectedOptionKeys?: number[]\n};\n\ntype PositionedKeyboardProps = OwnProps & ReduxProps;\n\nconst getTooltipData = ({\n  macroExpression,\n  label\n}: {\n  macroExpression?: string;\n  label: string;\n}) =>\n  label && label.length > 15\n    ? {'data-tip': label}\n    : macroExpression && macroExpression.length\n    ? {'data-tip': macroExpression}\n    : {};\n\nexport const getLabel = (\n  keycodeByte: number,\n  width: number,\n  macros: RootState['macros'],\n  selectedDefinition: VIADefinitionV2 | null\n) => {\n  let label = null;\n  if (isUserKeycodeByte(keycodeByte) && selectedDefinition.customKeycodes) {\n    const userKeycodeIdx = getUserKeycodeIndex(keycodeByte);\n    label = getShortNameForKeycode(\n      selectedDefinition.customKeycodes[userKeycodeIdx]\n    );\n  } else if (keycodeByte) {\n    label = getLabelForByte(keycodeByte, width * 100);\n  } else {\n    label = '';\n  }\n\n  let macroExpression: string;\n  if (isMacro(label)) {\n    macroExpression = macros.expressions[label.substring(1)];\n  }\n\n  if (isAlpha(label) || isNumericOrShiftedSymbol(label)) {\n    return (\n      label && {\n        label: label.toUpperCase(),\n        macroExpression\n      }\n    );\n  } else if (isNumericSymbol(label)) {\n    const topLabel = label[0];\n    const bottomLabel = label[label.length - 1];\n    return (\n      bottomLabel && {\n        topLabel,\n        bottomLabel,\n        macroExpression\n      }\n    );\n  } else {\n    return (\n      label && {\n        label,\n        centerLabel: label,\n        macroExpression\n      }\n    );\n  }\n};\n\nexport const getColors = (color: KeyColorType): KeyColor =>\n  getThemeFromStore()[color];\n\nconst AnchorContainer = styled.div`\n  position: relative;\n  height: 100%;\n  width: 100%;\n`;\n\nconst PositionedKeyboard = (props: PositionedKeyboardProps) => {\n  const {\n    selectedDefinition,\n    selectedKey,\n    matrixKeycodes = [],\n    macros,\n    selectable,\n    updateSelectedKey,\n    keys,\n    containerDimensions\n  } = props;\n  if (!selectedDefinition) {\n    return null;\n  }\n  const {width, height} = selectedDefinition.layouts;\n  return (\n    <div>\n      <KeyboardFrame\n        key={selectedDefinition.vendorProductId}\n        width={width}\n        height={height}\n        selectable={selectable}\n        containerDimensions={containerDimensions}\n      >\n        <AnchorContainer>\n          {selectedKey !== null ? <KeyBG {...keys[selectedKey]} /> : null}\n          {keys.map((k, index) => {\n            return (\n              <Key\n                {...{\n                  ...k,\n                  ...getLabel(\n                    matrixKeycodes[index],\n                    k.w,\n                    macros,\n                    selectedDefinition\n                  ),\n                  ...getColors(k.color),\n                  selected: selectedKey === index,\n                  onClick: selectable ? updateSelectedKey : noop\n                }}\n                key={index}\n                id={index}\n              />\n            );\n          })}\n        </AnchorContainer>\n      </KeyboardFrame>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  selectedDefinition: getSelectedDefinition(state.keymap),\n  keys: getSelectedKeyDefinitions(state.keymap),\n  macros: state.macros,\n  matrixKeycodes: getSelectedKeymap(state.keymap),\n  selectedKey: getSelectedKey(state.keymap)\n});\n\nexport const BlankPositionedKeyboard = (\n  props: {\n    selectedKey?: number;\n    selectedOptionKeys?: number[];\n    containerDimensions: any;\n    showMatrix?: boolean;\n  } & Pick<ReduxProps, 'selectedDefinition'>\n) => (\n  <BlankPositionedKeyboardComponent\n    {...props}\n    selectable={false}\n    selectedKey={props.selectedKey === undefined ? null : props.selectedKey}\n    macros={{expressions: [], isFeatureSupported: false}}\n    updateSelectedKey={() => {}}\n  />\n);\n\nexport function calculatePointPosition({\n  x = 0,\n  y = 0,\n  r = 0,\n  rx = 0,\n  ry = 0,\n  w = 0,\n  h = 0\n}: VIAKey) {\n  // We express the radians in counter-clockwise form, translate the point by the origin, rotate it, then reverse the translation\n  const rRadian = (r * (2 * Math.PI)) / 360;\n  const cosR = Math.cos(rRadian);\n  const sinR = Math.sin(rRadian);\n  const originX = CSSVarObject.keyXPos * rx;\n  const originY = CSSVarObject.keyYPos * ry;\n  const xPos = CSSVarObject.keyXPos * x + (w * CSSVarObject.keyWidth) / 2;\n  const yPos = CSSVarObject.keyYPos * y + (h * CSSVarObject.keyHeight) / 2;\n  const transformedXPos =\n    xPos * cosR - yPos * sinR - originX * cosR + originY * sinR + originX;\n  const transformedYPos =\n    xPos * sinR + yPos * cosR - originX * sinR - originY * cosR + originY;\n\n  return [transformedXPos, transformedYPos];\n}\n\nconst generateRowColArray = (keys: VIAKey[], rows: number, cols: number) => {\n  const rowKeys = keys\n    .reduce(\n      (sumKeys, key) => {\n        sumKeys[key.row][key.col] = calculatePointPosition(key);\n        return sumKeys;\n      },\n      Array(rows)\n        .fill(0)\n        .map(row => Array(cols).fill(0))\n    )\n    .map(arr => arr.sort((a, b) => a[0] - b[0]));\n  const colKeys = keys\n    .reduce(\n      (sumKeys, key) => {\n        sumKeys[key.col][key.row] = calculatePointPosition(key);\n        return sumKeys;\n      },\n      Array(cols)\n        .fill(0)\n        .map(col => Array(rows).fill(0))\n    )\n    .map(arr => arr.sort((a, b) => a[1] - b[1]));\n  return {rowKeys, colKeys};\n};\n\n/*\n * This algorithm is meant to sort the keys in a visual left to right, top to down,\n * taking into consideration keys that could be above or below the key within a range of less than a key >.>\n * It's tricky though, one possible visual order is:\n *           _______\n *          |       |\n *  _______ |   2   | _______\n * |       ||_______||       |\n * |   1   | _______ |   4   | _______\n * |_______||       ||_______||       |\n *          |   3   | _______ |   6   |\n *          |_______||       ||_______|\n *                   |   5   |\n *                   |_______|\n * Another is:\n *           _______\n *          |       |\n *  _______ |   2   | _______\n * |       ||_______||       |\n * |   1   | _______ |   3   | _______\n * |_______||       ||_______||       |\n *          |   5   | _______ |   4   |\n *          |_______||       ||_______|\n *                   |   6   |\n *                   |_______|\n * and yet another:\n *           _______\n *          |       |\n *  _______ |   1   | _______\n * |       ||_______||       |\n * |   4   | _______ |   2   | _______\n * |_______||       ||_______||       |\n *          |   5   | _______ |   3   |\n *          |_______||       ||_______|\n *                   |   6   |\n *                   |_______|\n */\nconst sortByX = (a: VIAKey, b: VIAKey) => {\n  const aPoint = calculatePointPosition(a);\n  const bPoint = calculatePointPosition(b);\n  return aPoint[0] - bPoint[0];\n};\n\nconst sortByYX = (a: VIAKey, b: VIAKey) => {\n  const aPoint = calculatePointPosition(a);\n  const bPoint = calculatePointPosition(b);\n  return aPoint[1] - bPoint[1] === 0\n    ? aPoint[0] - bPoint[0]\n    : aPoint[1] - bPoint[1];\n};\n\nconst withinChain = (a: VIAKey, b: VIAKey) => {\n  const aPoint = calculatePointPosition(a);\n  const bPoint = calculatePointPosition(b);\n\n  const yDiff = Math.abs(aPoint[1] - bPoint[1]);\n  // Fudging factor\n  return yDiff < CSSVarObject.keyYPos * 0.9;\n};\n\nconst getTraversalOrder = (arr: VIAKey[]) => {\n  const [car, ...cdr] = [...arr].sort(sortByYX);\n  if (car === undefined) {\n    return cdr;\n  } else {\n    const [chain, rest] = partition([...arr], a => withinChain(car, a));\n    return [...chain.sort(sortByX), ...getTraversalOrder(rest)];\n  }\n};\n\nexport const getNextKey = (currIndex: number, keys: VIAKey[]) => {\n  const currKey = keys[currIndex];\n  const sortedKeys = getTraversalOrder([...keys]);\n  const sortedIndex = sortedKeys.indexOf(currKey);\n  return sortedIndex === sortedKeys.length - 1\n    ? null\n    : keys.indexOf(sortedKeys[(sortedIndex + 1) % sortedKeys.length]);\n};\n\nconst BlankPositionedKeyboardComponent = (props: PositionedKeyboardProps) => {\n  const {\n    containerDimensions,\n    matrixKeycodes = [],\n    selectedDefinition,\n    macros,\n    selectable,\n    selectedKey,\n    selectedOptionKeys = [],\n    showMatrix = false\n  } = props;\n  const pressedKeys = {};\n\n  if (!selectedDefinition) {\n    return null;\n  }\n\n  const {width, height, keys, optionKeys} = selectedDefinition.layouts;\n\n  const displayedOptionKeys = React.useMemo(() => {\n    if (optionKeys) {\n      return Object.entries(optionKeys).flatMap(([key, options]) => {\n        const optionKey = parseInt(key);\n\n        // If a selection option has been set for this optionKey, use that\n        return selectedOptionKeys[optionKey] ? options[selectedOptionKeys[optionKey]] : options[0];\n      });\n    } else {\n      return [];\n    }\n  }, [optionKeys, selectedDefinition, selectedOptionKeys]);\n\n  const displayedKeys = [...keys, ...displayedOptionKeys];\n  const {rows, cols} = selectedDefinition.matrix;\n  return (\n    <div>\n      <BlankKeyboardFrame\n        key={selectedDefinition.vendorProductId}\n        containerDimensions={containerDimensions}\n        width={width}\n        height={height}\n        selectable={selectable}\n      >\n        <AnchorContainer>\n          {selectedKey !== null ? (\n            <KeyBG {...displayedKeys[selectedKey]} />\n          ) : null}\n          {displayedKeys.map((k, index) => {\n            return (\n              <Key\n                {...{\n                  ...k,\n                  ...getLabel(\n                    matrixKeycodes[index],\n                    k.w,\n                    macros,\n                    selectedDefinition\n                  ),\n                  ...getColors(k.color),\n                  selected: pressedKeys[index]\n                }}\n                key={index}\n                id={index}\n              />\n            );\n          })}\n          {showMatrix && (\n            <Matrix {...generateRowColArray(displayedKeys, rows, cols)} />\n          )}\n        </AnchorContainer>\n      </BlankKeyboardFrame>\n    </div>\n  );\n};\n\nconst Matrix = ({rowKeys, colKeys}) => (\n  <SVG>\n    {rowKeys.map(arr => (\n      <RowLine points={arr.map(point => (point || []).join(',')).join(' ')} />\n    ))}\n    {colKeys.map(arr => (\n      <ColLine points={arr.map(point => (point || []).join(',')).join(' ')} />\n    ))}\n  </SVG>\n);\n\nconst SVG = styled.svg`\n  transform: rotateZ(0);\n  width: 100%;\n  height: 100%;\n`;\nconst RowLine = styled.polyline`\n  stroke: var(--color_accent);\n  stroke-width: 3;\n  fill-opacity: 0;\n  stroke-opacity: 0.4;\n  stroke-linecap: round;\n`;\nconst ColLine = styled.polyline`\n  stroke: var(--color_light-grey);\n  stroke-width: 3;\n  fill-opacity: 0;\n  stroke-opacity: 0.4;\n  stroke-linecap: round;\n`;\n\nexport const ConnectedPositionedKeyboard = connect(mapStateToProps, {\n  updateSelectedKey: actions.updateSelectedKey\n})(PositionedKeyboard);\n","export default function getIconColor(isSelected: boolean) {\n  return {\n    style: {\n      color: isSelected ? 'var(--color_light-grey)' : 'var(--color_medium-grey)'\n    }\n  };\n}\n","import getIconColor from '../icons/get-icon-color';\nimport styled from 'styled-components';\nexport const Grid1Col = styled.div`\n  height: 100%;\n  width: 100%;\n  display: grid;\n  grid-template-rows: minmax(350px, min-content) minmax(0, 1fr);\n  grid-template-columns: 100vw;\n`;\nexport const Grid = styled.div`\n  height: 100%;\n  width: 100%;\n  display: grid;\n  grid-template-rows: minmax(350px, min-content) minmax(0, 1fr);\n  grid-template-columns: min-content minmax(0, 1fr);\n`;\n\nexport const Cell = styled.div`\n  background: var(--color_light-jet);\n  border-right: 1px solid var(--color_dark-grey);\n`;\n\nexport const MenuCell = styled(Cell)`\n  grid-area: 1 / 1 / 3 / 2;\n`;\n\nexport const OverflowCell = styled(Cell)`\n  border-top: 1px solid var(--color_dark-grey);\n  overflow: auto;\n  background: var(--color_light-jet);\n`;\n\nexport const SubmenuCell = styled(Cell)`\n  border-top: 1px solid var(--color_dark-grey);\n  grid-area: 2 / 1 / 3 / 2;\n`;\n\nexport const SubmenuOverflowCell = styled(SubmenuCell)`\n  overflow: auto;\n`;\n\nexport const FlexCell = styled(Cell)`\n  display: flex;\n  overflow: hidden;\n  justify-content: center;\n  align-items: center;\n  padding: 50px 10px;\n  position: relative;\n  background: var(--gradient);\n`;\n\nexport const IconContainer = styled.span`\n  display: inline-block;\n  text-align: center;\n  width: 35px;\n`;\n\nexport const ControlRow = styled.div`\n  position: relative;\n  width: 100%;\n  max-width: 960px;\n  border-bottom: 1px solid var(--color_light-jet);\n  font-size: 20px;\n  justify-content: space-between;\n  display: flex;\n  line-height: 50px;\n  min-height: 50px;\n  box-sizing: border-box;\n`;\n\nexport const SubControlRow = styled(ControlRow)``;\n\nexport const IndentedControlRow = styled(ControlRow)`\n  padding-left: 12px;\n`;\n\nexport const Label = styled.label`\n  color: var(--color_medium-grey);\n`;\n\nexport const SubLabel = styled(Label)`\n  font-size: 18px;\n  font-style: italic;\n`;\n\nexport const Detail = styled.span`\n  color: var(--color_accent);\n  display: flex;\n  align-items: center;\n`;\n\nexport const Row = styled.div`\n  cursor: pointer;\n  white-space: nowrap;\n  margin-bottom: 15px;\n  font-size: 20px;\n  height: 20px;\n  line-height: 20px;\n  text-transform: uppercase;\n  color: ${props => getIconColor(props.selected).style.color};\n  border-left: 2px solid\n    ${props => (props.selected ? 'var(--color_light-grey)' : 'transparent')};\n\n  svg {\n    height: 20px;\n    vertical-align: middle;\n  }\n\n  &:hover {\n    color: ${props =>\n      props.selected\n        ? getIconColor(props.selected).style.color\n        : 'var(--color_dark-grey)'};\n  }\n`;\n\nexport const SubmenuRow = styled(Row)`\n  padding-left: 8px;\n`;\n","import styled from 'styled-components';\n\nexport const Button = styled.div`\n  display: flex;\n  transition: transform 0.2s ease-out;\n  user-select: none;\n  color: #717070;\n  border: 1px #717070 solid;\n  width: 45px;\n  height: 45px;\n  padding: 2px;\n  margin: 2px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  cursor: pointer;\n  font-size: 12px;\n  text-align: center;\n  border-radius: 4px;\n  justify-content: center;\n  align-items: center;\n  white-space: pre-wrap;\n  box-shadow: #8c8c8c 0 1px 0 0;\n  &:hover {\n    transform: translate3d(0, -2px, 0);\n  }\n`;\n\nexport default Button;\n","import * as React from 'react';\nimport styled from 'styled-components';\n\nconst AccentButtonElem = styled.div`\n  height: 40px;\n  padding: 0 15px;\n  line-height: 40px;\n  min-width: 100px;\n  text-align: center;\n  outline: none;\n  background: none;\n  font-size: 20px;\n  border-radius: 5px;\n  color: var(--color_accent);\n  border: 1px solid var(--color_accent);\n  display: inline-block;\n  box-sizing: border-box;\n  cursor: ${props => (props.disabled ? 'initial' : 'pointer')};\n  color: ${props =>\n    props.disabled ? 'var(--color_dark-grey)' : 'var(--color_accent)'};\n  border-color: ${props =>\n    props.disabled ? 'var(--color_dark-grey)' : 'var(--color_accent)'};\n\n  &:hover {\n    border: 1px solid var(--color_accent);\n    color: ${props =>\n      props.disabled ? 'var(--color_dark-grey)' : 'var(--color_light-grey)'};\n    border-color: ${props =>\n      props.disabled ? 'var(--color_dark-grey)' : 'var(--color_accent)'};\n    background-color: ${props =>\n      props.disabled ? 'transparent' : 'var(--color_accent)'};\n  }\n`;\nconst noop = () => {};\n\nexport const AccentButton = props => (\n  <AccentButtonElem\n    {...props}\n    onClick={props.disabled ? noop : props.onClick}\n  />\n);\n","import styled from 'styled-components';\n\nconst TextInput = styled.input`\n  background: var(--color_light-jet);\n  border: none;\n  border-bottom: 1px solid var(--color_light-jet);\n  color: var(--color_accent);\n  font-size: 1rem;\n  margin-bottom: 1.5rem;\n  padding: 0.5rem;\n  transition: all 0.4s ease-out;\n\n  &:focus {\n    border-color: var(--color_accent);\n    color: var(--color_accent);\n    outline: none;\n  }\n\n  &::placeholder {\n    color: var(--color_dark-grey);\n  }\n`;\n\nexport default TextInput;\n\nexport const ErrorInput = styled(TextInput)`\n  // FIXME: Use standard colors\n  border-color: #d15e5e;\n  color: #d15e5e;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {AccentButton} from './accent-button';\n\nimport {basicKeyToByte} from '../../utils/key';\nimport {anyKeycodeToString, advancedStringToKeycode} from '../../utils/advanced-keys';\n\nimport TextInput from './text-input';\n\nconst ModalBackground = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.75);\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ModalContainer = styled.div`\n  width: 480px;\n  height: 200px;\n  background-color: var(--color_jet);\n  border-radius: 2px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nconst PromptText = styled.h4`\n  font-weight: 500;\n  color: var(--color_medium-grey);\n  font-size: 20px;\n  margin: 0 0 20px 0;\n`;\n\nconst RowDiv = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 220px;\n`;\n\ntype KeycodeModalProps = {\n  defaultValue?: number;\n  onChange: (number) => void;\n  onExit: () => void;\n  onConfirm: (keycode: number) => void;\n};\n\nfunction isHex(input: string): boolean {\n  const lowercased = input.toLowerCase();\n  const parsed = parseInt(lowercased, 16);\n  return `0x${parsed.toString(16).toLowerCase()}` === lowercased;\n}\n\n// This is hella basic 💁‍♀️💁‍♂️\nfunction inputIsBasicByte(input: string): boolean {\n  const keyCode = input.trim().toUpperCase();\n  return keyCode in basicKeyToByte;\n}\n\nfunction basicByteFromInput(input: string): number {\n  const keyCode = input.trim().toUpperCase();\n  return basicKeyToByte[keyCode];\n}\n\nfunction inputIsAdvancedKeyCode(input: string): boolean {\n  const keyCode = input.trim().toUpperCase();\n  return advancedStringToKeycode(keyCode) !== 0;\n}\n\nfunction advancedKeyCodeFromInput(input: string): number {\n  const keyCode = input.trim().toUpperCase();\n  return advancedStringToKeycode(keyCode);\n}\n\nfunction inputIsHex(input: string): boolean {\n  return isHex(input.trim());\n}\n\nfunction hexFromInput(input: string): number {\n  const lowercased = input.toLowerCase();\n  return parseInt(lowercased, 16);\n}\n\nfunction inputIsValid(input: string): boolean {\n  return (\n    inputIsBasicByte(input) ||\n    inputIsAdvancedKeyCode(input) ||\n    inputIsHex(input)\n  );\n}\n\nfunction keycodeFromInput(input: string): number {\n  if (inputIsBasicByte(input)) {\n    return basicByteFromInput(input);\n  }\n\n  if (inputIsAdvancedKeyCode(input)) {\n    return advancedKeyCodeFromInput(input);\n  }\n\n  if (inputIsHex(input)) {\n    return hexFromInput(input);\n  }\n\n  return null;\n}\n\nexport const KeycodeModal: React.FC<KeycodeModalProps> = props => {\n  const inputRef = React.useRef<HTMLInputElement>();\n  const [isValid, setIsValid] = React.useState(false);\n  const defaultInput = anyKeycodeToString(props.defaultValue);\n\n  return (\n    <ModalBackground>\n      <ModalContainer>\n        <PromptText>\n          Please enter your desired QMK keycode or hex code:\n        </PromptText>\n        <TextInput\n          defaultValue={defaultInput}\n          ref={inputRef}\n          type=\"text\"\n          placeholder={defaultInput || 'KC_NO, 0xFF, etc.'}\n          onChange={() => {\n            if (inputRef.current) {\n              const isValid = inputIsValid(inputRef.current.value);\n              setIsValid(isValid);\n            }\n          }}\n        />\n        <RowDiv>\n          <AccentButton\n            disabled={!isValid}\n            onClick={() => {\n              const input = inputRef.current.value;\n              props.onConfirm(keycodeFromInput(input));\n            }}\n          >\n            Confirm\n          </AccentButton>\n          <AccentButton onClick={props.onExit}>Cancel</AccentButton>\n        </RowDiv>\n      </ModalContainer>\n    </ModalBackground>\n  );\n};\n\nexport default KeycodeModal;\n","import * as React from 'react';\n\nconst SvgIcKeyboard24Px = props => (\n  <svg width={23.672} height={16.571} {...props}>\n    <path\n      d=\"M21.305 0H2.367A2.364 2.364 0 00.012 2.367L0 14.2a2.374 2.374 0 002.367 2.367h18.938a2.374 2.374 0 002.367-2.367V2.367A2.374 2.374 0 0021.305 0zM10.653 3.551h2.367v2.367h-2.367zm0 3.551h2.367v2.367h-2.367zM7.1 3.551h2.367v2.367H7.1zm0 3.551h2.367v2.367H7.1zM5.918 9.469H3.551V7.1h2.367zm0-3.551H3.551V3.551h2.367zM16.571 14.2H7.1v-2.364h9.469zm0-4.734H14.2V7.1h2.367zm0-3.551H14.2V3.551h2.367zm3.551 3.551h-2.368V7.1h2.367zm0-3.551h-2.368V3.551h2.367z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const title = 'Keymap';\nexport const component = SvgIcKeyboard24Px;\n","import styled from 'styled-components';\n\nexport const Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-flow: wrap;\n  width: 100%;\n  margin: 0 auto;\n  max-width: 1000px;\n`;\n\nexport const Message = styled.span`\n  font-size: 18px;\n  margin: 8px;\n  text-align: center;\n`;\n\nexport const ErrorMessage = styled(Message)`\n  color: #d15e5e;\n`;\n\nexport const SuccessMessage = styled(Message)`\n  color: #9ab46a;\n`;\n","import * as React from 'react';\nimport {Component} from 'react';\nimport styled from 'styled-components';\nconst styles = require('../../menus/keycode-menu.css');\nimport {Button} from '../../inputs/button';\nimport KeycodeModal from '../../inputs/custom-keycode-modal';\nimport {title, component} from '../../icons/keyboard';\nimport {\n  keycodeInMaster,\n  getByteForCode,\n  getKeycodes,\n  getOtherMenu,\n  IKeycode,\n  IKeycodeMenu\n} from '../../../utils/key';\nimport {ErrorMessage} from '../../styled';\nimport {RootState} from '../../../redux';\nimport {connect} from 'react-redux';\nimport {saveMacros} from '../../../redux/modules/macros';\nimport {\n  getSelectedKeymap,\n  getSelectedDevice,\n  getSelectedKey,\n  getSelectedDefinition,\n  getSelectedKeyDefinitions,\n  updateKey,\n  actions\n} from '../../../redux/modules/keymap';\nimport {bindActionCreators} from 'redux';\nimport {KeycodeType, getLightingDefinition} from 'via-reader';\nimport {OverflowCell, SubmenuOverflowCell, Row} from '../grid';\nimport {getNextKey} from '../../positioned-keyboard';\nconst KeycodeList = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 54px);\n  grid-auto-rows: 54px;\n  justify-content: center;\n  grid-gap: 10px;\n`;\n\nconst MenuContainer = styled.div`\n  padding: 15px 20px 20px 10px;\n`;\n\nconst SubmenuRow = styled(Row)`\n  padding-left: 8px;\n`;\n\nconst Keycode = styled(Button)`\n  border-radius: 2px;\n  width: 50px;\n  height: 50px;\n  line-height: 18px;\n  font-size: 14px;\n  box-shadow: none;\n  background: var(--color_dark-grey);\n  color: var(--color_light_grey);\n  margin: 0;\n`;\n\nconst CustomKeycode = styled(Button)`\n  border-radius: 2px;\n  width: 50px;\n  height: 50px;\n  line-height: 18px;\n  font-size: 14px;\n  box-shadow: none;\n  background: var(--color_accent);\n  border-color: var(--color_light-grey);\n  color: var(--color_light_grey);\n  margin: 0;\n`;\n\nconst KeycodeContainer = styled.div`\n  padding: 12px;\n  padding-bottom: 30px;\n`;\n\nconst KeycodeDesc = styled.div`\n  position: fixed;\n  bottom: 0;\n  background: #d9d9d97a;\n  box-sizing: border-box;\n  transition: opacity 0.4s ease-out;\n  height: 25px;\n  width: 100%;\n  line-height: 14px;\n  padding: 5px;\n  font-size: 14px;\n  opacity: 1;\n  &:empty {\n    opacity: 0;\n  }\n`;\n\nconst Link = styled.a`\n  font-size: 16x !important;\n  color: var(--color_accent);\n  text-decoration: underline;\n`;\n\nconst KeycodeCategories = getKeycodes()\n  .concat(getOtherMenu())\n  .filter(menu => !['Other', 'Mod+_'].includes(menu.label));\n\nconst maybeFilter = (maybe, filter) => (maybe ? () => true : filter);\n\ntype OwnProps = {};\n\nconst mapStateToProps = ({keymap, macros, settings}: RootState) => ({\n  selectedDefinition: getSelectedDefinition(keymap),\n  displayedKeys: getSelectedKeyDefinitions(keymap),\n  disableFastRemap: settings.disableFastRemap,\n  selectedKeyboard: getSelectedDevice(keymap),\n  selectedKey: getSelectedKey(keymap),\n  matrixKeycodes: getSelectedKeymap(keymap),\n  macros\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      updateKey,\n      updateSelectedKey: actions.updateSelectedKey,\n      saveMacros: saveMacros,\n      allowGlobalHotKeys: actions.allowGlobalHotKeys,\n      disableGlobalHotKeys: actions.disableGlobalHotKeys\n    },\n    dispatch\n  );\n\ntype Props = OwnProps &\n  ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\ntype ComponentState = {\n  selectedCategory: string;\n  mouseOverDesc: string;\n  barrelRoll: boolean;\n  showKeyTextInputModal: boolean;\n  textKeyValue: number;\n};\n\nclass KeycodeMenuComponent extends Component<Props, ComponentState> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedCategory: KeycodeCategories[0].label,\n      mouseOverDesc: null,\n      barrelRoll: false,\n      showKeyTextInputModal: false,\n      textKeyValue: 0\n    };\n  }\n\n  doABarrelRoll = () => {\n    this.setState(prevState => ({\n      ...prevState,\n      barrelRoll: true\n    }));\n  };\n\n  get enabledMenus(): IKeycodeMenu[] {\n    const {selectedDefinition} = this.props;\n    const {lighting, customKeycodes} = selectedDefinition;\n    const {keycodes} = getLightingDefinition(lighting);\n    return KeycodeCategories.filter(\n      maybeFilter(\n        keycodes === KeycodeType.QMK,\n        ({label}) => label !== 'QMK Lighting'\n      )\n    )\n      .filter(\n        maybeFilter(\n          keycodes === KeycodeType.WT,\n          ({label}) => label !== 'Lighting'\n        )\n      )\n      .filter(\n        maybeFilter(\n          typeof customKeycodes !== 'undefined',\n          ({label}) => label !== 'Custom'\n        )\n      );\n  }\n\n  saveMacro = (id: number, macro: string) => {\n    const {selectedKeyboard, macros, saveMacros} = this.props;\n    const newMacros = macros.expressions.map((oldMacro, i) =>\n      i === id ? macro : oldMacro\n    );\n\n    saveMacros(selectedKeyboard, newMacros);\n  };\n\n  renderMacroError() {\n    return (\n      <ErrorMessage>\n        It looks like your current firmware doesn't support macros.{' '}\n        <Link href=\"https://beta.docs.qmk.fm/newbs\" target=\"_blank\">\n          How do I update my firmware?\n        </Link>\n      </ErrorMessage>\n    );\n  }\n\n  componentWillUnmount() {\n    this.props.updateSelectedKey(null);\n  }\n\n  renderCategories() {\n    const {selectedCategory} = this.state;\n    return (\n      <MenuContainer>\n        {this.enabledMenus.map(({label}) => (\n          <SubmenuRow\n            selected={label === selectedCategory}\n            onClick={_ => this.setState({selectedCategory: label})}\n            key={label}\n          >\n            {label}\n          </SubmenuRow>\n        ))}\n      </MenuContainer>\n    );\n  }\n\n  renderKeyInputModal = () => {\n    this.props.disableGlobalHotKeys();\n\n    return (\n      <KeycodeModal\n        defaultValue={this.props.matrixKeycodes[this.props.selectedKey]}\n        onChange={value => this.setState({textKeyValue: value})}\n        onExit={() => {\n          this.props.allowGlobalHotKeys();\n          this.setState({showKeyTextInputModal: false});\n        }}\n        onConfirm={(keycode) => {\n          this.props.allowGlobalHotKeys();\n          this.updateKey(keycode);\n          this.setState({showKeyTextInputModal: false});\n        }}\n      />\n    );\n  };\n\n  updateKey = (value: number) => {\n    const {\n      disableFastRemap,\n      displayedKeys,\n      selectedKey,\n      updateSelectedKey,\n      updateKey\n    } = this.props;\n    if (selectedKey !== null) {\n      updateKey(selectedKey, value);\n      updateSelectedKey(\n        disableFastRemap ? null : getNextKey(selectedKey, displayedKeys)\n      );\n    }\n  };\n\n  handleClick(code: string, i: number) {\n    if (code == 'text') {\n      this.setState({showKeyTextInputModal: true});\n    } else {\n      return keycodeInMaster(code) && this.updateKey(getByteForCode(code));\n    }\n  }\n\n  renderKeycode(keycode: IKeycode, index: number) {\n    const {code, title, name} = keycode;\n    return (\n      <Keycode\n        className={[\n          !keycodeInMaster(code) && code != 'text' && styles.disabled,\n          styles.keycode\n        ].join(' ')}\n        key={code}\n        onClick={() => this.handleClick(code, index)}\n        onMouseOver={_ => {\n          this.setState({\n            mouseOverDesc: title ? `${code}: ${title}` : code\n          });\n        }}\n        onMouseOut={_ => this.setState({mouseOverDesc: null})}\n      >\n        <div className={styles.innerKeycode}>\n          {this.state.barrelRoll && index < 11 ? (\n            <img\n              src={require(`../../../images/_${index}.gif`)}\n              style={{width: '100%'}}\n            />\n          ) : (\n            name\n          )}\n        </div>\n      </Keycode>\n    );\n  }\n\n  renderCustomKeycode() {\n    return (\n      <CustomKeycode\n        onClick={() =>\n          this.props.selectedKey !== null && this.handleClick('text', 0)\n        }\n        onMouseOver={_ => {\n          this.setState({\n            mouseOverDesc: `Enter any QMK Keycode`\n          });\n        }}\n        onMouseOut={_ => this.setState({mouseOverDesc: null})}\n      >\n        Any\n      </CustomKeycode>\n    );\n  }\n\n  renderSelectedCategory(keycodes: IKeycode[], selectedCategory: string) {\n    const keycodeListItems = keycodes.map((keycode, i) =>\n      this.renderKeycode(keycode, i)\n    );\n    switch (selectedCategory) {\n      case 'Macro': {\n        return !this.props.macros.isFeatureSupported ? (\n          this.renderMacroError()\n        ) : (\n          <KeycodeList>{keycodeListItems}</KeycodeList>\n        );\n      }\n      case 'Special': {\n        return (\n          <KeycodeList>\n            {keycodeListItems.concat(this.renderCustomKeycode())}\n          </KeycodeList>\n        );\n      }\n      case 'Custom': {\n        const {customKeycodes} = this.props.selectedDefinition;\n        return (\n          <KeycodeList>\n            {customKeycodes.map((keycode, idx) => {\n              return this.renderKeycode(\n                {\n                  ...keycode,\n                  code: `USER${idx.toLocaleString('en-US', {\n                    minimumIntegerDigits: 2,\n                    useGrouping: false\n                  })}`\n                },\n                idx\n              );\n            })}\n          </KeycodeList>\n        );\n      }\n      default: {\n        return <KeycodeList>{keycodeListItems}</KeycodeList>;\n      }\n    }\n  }\n\n  render() {\n    const {mouseOverDesc, showKeyTextInputModal} = this.state;\n    const selectedCategoryKeycodes: IKeycode[] = KeycodeCategories.find(\n      ({label}) => label === this.state.selectedCategory\n    ).keycodes;\n\n    return (\n      <>\n        <SubmenuOverflowCell>{this.renderCategories()}</SubmenuOverflowCell>\n        <OverflowCell>\n          <KeycodeContainer>\n            {this.renderSelectedCategory(\n              selectedCategoryKeycodes,\n              this.state.selectedCategory\n            )}\n          </KeycodeContainer>\n          <KeycodeDesc>{mouseOverDesc}</KeycodeDesc>\n          {showKeyTextInputModal && this.renderKeyInputModal()}\n        </OverflowCell>\n      </>\n    );\n  }\n}\n\nexport const Icon = component;\nexport const Title = title;\nexport const Pane = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(KeycodeMenuComponent);\n","import * as React from 'react';\n\nconst SvgIcLightbulbOutline24Px = props => (\n  <svg width={11.9} height={17} {...props}>\n    <path\n      d=\"M3.4 16.15a.853.853 0 00.85.85h3.4a.852.852 0 00.85-.85v-.85H3.4zM5.95 0a5.947 5.947 0 00-3.4 10.829v1.921a.852.852 0 00.85.85h5.1a.852.852 0 00.85-.85v-1.921A5.947 5.947 0 005.95 0zm2.422 9.435l-.722.51V11.9h-3.4V9.945l-.722-.51a4.25 4.25 0 114.845 0z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const title = 'Lighting';\nexport const component = SvgIcLightbulbOutline24Px;\n","export function getRGBPrime(hue, c, x) {\n  if (hue >= 0 && hue < 60) {\n    return [c, x, 0];\n  } else if (hue >= 60 && hue < 120) {\n    return [x, c, 0];\n  } else if (hue >= 120 && hue < 180) {\n    return [0, c, x];\n  } else if (hue >= 180 && hue < 240) {\n    return [0, x, c];\n  } else if (hue >= 240 && hue < 300) {\n    return [x, 0, c];\n  } else if (hue >= 300 && hue < 360) {\n    return [c, 0, x];\n  } else if (hue === 360) {\n    return [c, x, 0];\n  }\n}\n\nexport function getRGB({hue, sat}) {\n  sat = sat / 255;\n  hue = Math.round(360 * hue) / 255;\n  const c = sat;\n  const x = c * (1 - Math.abs(((hue / 60) % 2) - 1));\n  const m = 1 - c;\n  const [r, g, b] = getRGBPrime(hue, c, x).map(n => Math.round(255 * (m + n)));\n  return `rgba(${r},${g},${b},1)`;\n}\n\nexport function toDegrees(rad) {\n  return rad * (180 / Math.PI);\n}\n\nexport function calcRadialHue(x, y) {\n  if (x < 200 && y < 200) {\n    const nX = 200 - x;\n    const nY = 200 - y;\n    return 2 * Math.PI - Math.atan(nX / nY);\n  } else if (x > 200 && y < 200) {\n    const nX = x - 200;\n    const nY = 200 - y;\n    return Math.atan(nX / nY);\n  } else if (x < 200 && y > 200) {\n    const nX = 200 - x;\n    const nY = y - 200;\n    return Math.PI + Math.atan(nX / nY);\n  } else if (x > 200 && y > 200) {\n    const nX = x - 200;\n    const nY = y - 200;\n    return 0.5 * Math.PI + Math.atan(nY / nX);\n  } else if (x === 200) {\n    return y > 200 ? Math.PI : 0;\n  } else if (y === 200) {\n    return x >= 200 ? 0.5 * Math.PI : 1.5 * Math.PI;\n  }\n}\n\nexport function calcRadialMagnitude(x, y) {\n  if (x < 200 && y < 200) {\n    const nX = 200 - x;\n    const nY = 200 - y;\n    return Math.sqrt(nX * nX + nY * nY) / 200;\n  } else if (x > 200 && y < 200) {\n    const nX = x - 200;\n    const nY = 200 - y;\n    return Math.sqrt(nX * nX + nY * nY) / 200;\n  } else if (x < 200 && y > 200) {\n    const nX = 200 - x;\n    const nY = y - 200;\n    return Math.sqrt(nX * nX + nY * nY) / 200;\n  } else if (x > 200 && y > 200) {\n    const nX = x - 200;\n    const nY = y - 200;\n    return Math.sqrt(nX * nX + nY * nY) / 200;\n  } else if (x === 200) {\n    return y > 200 ? (y - 200) / 200 : (200 - y) / 200;\n  } else if (y === 200) {\n    return x > 200 ? (x - 200) / 200 : (200 - x) / 200;\n  }\n}\n","import * as React from 'react';\nimport {Component} from 'react';\nimport styled from 'styled-components';\nconst styles = require('./color.css');\n\nimport {\n  getRGBPrime,\n  toDegrees,\n  calcRadialHue,\n  calcRadialMagnitude\n} from '../../utils/color-math';\n\ntype Color = {\n  hue: number;\n  sat: number;\n};\n\ntype Props = {\n  color: Color;\n  setColor: (hue: number, sat: number) => void;\n};\n\ntype State = {\n  lensTransform: string;\n  showPicker: boolean;\n};\n\nexport const ColorThumbnail = styled.div`\n  display: inline-block;\n  height: 20px;\n  width: 30px;\n  border-radius: 2px;\n  background: ${props => props.color};\n  border: 2px solid var(--color_dark-grey);\n  cursor: pointer;\n  &:hover {\n    opacity: 0.8;\n  }\n`;\n\nconst Container = styled.div`\n  border: 4px solid var(--color_dark-grey);\n  width: 180px;\n  height: 180px;\n  position: relative;\n`;\n\nconst PickerContainer = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  z-index: 1;\n  box-shadow: rgba(0, 0, 0, 0.11) 0 1px 1px 1px;\n  position: absolute;\n  transform: translate3d(-205px, 47px, 0);\n\n  &::after {\n    content: '';\n    position: absolute;\n    width: 0px;\n    height: 0px;\n    border: 11px solid var(--color_dark-grey);\n    border-top-color: transparent;\n    border-bottom-color: transparent;\n    border-right-color: transparent;\n    right: -22px;\n    top: 50px;\n  }\n`;\n\nconst ColorPreview = styled.div`\n  background: ${props => props.color};\n  width: 180px;\n  height: 24px;\n  border: 4px solid var(--color_dark-grey);\n  border-bottom: none;\n`;\n\nexport class ColorPicker extends Component<Props, State> {\n  ref: HTMLDivElement | null;\n  refWidth: number;\n  refHeight: number;\n  mouseDown: boolean;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      lensTransform: '',\n      showPicker: false\n    };\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocumentClick);\n  }\n\n  componentDidUpdate({color}, state: State) {\n    if (\n      this.state.showPicker &&\n      (!state.showPicker || color !== this.props.color)\n    ) {\n      const {width, height} = this.ref.getBoundingClientRect();\n      this.refWidth = width;\n      this.refHeight = height;\n      const {hue, sat} = this.props.color;\n      const offsetX = (width * hue) / 255;\n      const offsetY = height * (1 - sat / 255);\n      const lensTransform = `translate3d(${offsetX - 5}px, ${offsetY -\n        5}px, 0)`;\n      this.setState({lensTransform});\n    }\n  }\n  componentDidMount() {\n    document.addEventListener('click', this.onDocumentClick);\n  }\n\n  // For the color picker uses a conical gradient\n  getRadialHueSat(evt) {\n    const {offsetX, offsetY} = evt.nativeEvent;\n    const hue = toDegrees(calcRadialHue(offsetX, offsetY));\n    const sat = Math.min(1, calcRadialMagnitude(offsetX, offsetY));\n    return {hue, sat};\n  }\n\n  // For standard color picker uses a conical gradient\n  getLinearHueSat(evt) {\n    // calculate later\n    const width = this.refWidth;\n    const height = this.refHeight;\n    const {offsetX, offsetY} = evt.nativeEvent;\n    const [x, y] = [Math.max(0, offsetX), Math.max(0, offsetY)];\n    const hue = 360 * Math.min(1, x / width);\n    const sat = 1 - Math.min(1, y / height);\n    return {hue, sat};\n  }\n\n  onMouseMove = evt => {\n    if (this.mouseDown) {\n      const {offsetX, offsetY} = evt.nativeEvent;\n      const lensTransform = `translate3d(${offsetX - 5}px, ${offsetY -\n        5}px, 0)`;\n\n      const {hue, sat} = this.getLinearHueSat(evt);\n      this.props.setColor(Math.round(255 * (hue / 360)), Math.round(255 * sat));\n      this.setState({\n        lensTransform\n      });\n    }\n  };\n\n  onMouseDown = evt => {\n    this.mouseDown = true;\n    this.onMouseMove(evt);\n    this.ref.classList.add(styles.mouseDown);\n  };\n\n  onMouseUp = evt => {\n    this.mouseDown = false;\n    this.ref.classList.remove(styles.mouseDown);\n  };\n\n  getRGB({hue, sat}) {\n    sat = sat / 255;\n    hue = Math.round(360 * hue) / 255;\n    const c = sat;\n    const x = c * (1 - Math.abs(((hue / 60) % 2) - 1));\n    const m = 1 - c;\n    const [r, g, b] = getRGBPrime(hue, c, x).map(n =>\n      Math.round(255 * (m + n))\n    );\n    return `rgba(${r},${g},${b},1)`;\n  }\n\n  onThumbnailClick = () => {\n    this.setState({showPicker: true});\n  };\n\n  pickerContainer = React.createRef<HTMLDivElement>();\n  colorThumbnail = React.createRef<HTMLDivElement>();\n\n  onDocumentClick = (evt: MouseEvent) => {\n    if (\n      this.state.showPicker &&\n      this.pickerContainer.current &&\n      !this.pickerContainer.current.contains(evt.target as HTMLDivElement) &&\n      this.colorThumbnail.current &&\n      !this.colorThumbnail.current.contains(evt.target as HTMLDivElement)\n    ) {\n      this.setState({showPicker: false});\n    }\n  };\n\n  render() {\n    const color = this.getRGB(this.props.color);\n    return (\n      <>\n        <ColorThumbnail\n          ref={this.colorThumbnail}\n          onClick={this.onThumbnailClick}\n          color={color}\n        />\n        {this.state.showPicker && (\n          <PickerContainer\n            ref={this.pickerContainer}\n            onMouseUp={this.onMouseUp}\n          >\n            <ColorPreview color={this.getRGB(this.props.color)} />\n            <Container>\n              <div\n                onMouseDown={this.onMouseDown}\n                onMouseMove={this.onMouseMove}\n                ref={ref => (this.ref = ref)}\n                className={styles.outer}\n              >\n                <div className={styles.inner}>\n                  <div\n                    className={styles.lens}\n                    style={{transform: this.state.lensTransform}}\n                  />\n                </div>\n              </div>\n            </Container>\n          </PickerContainer>\n        )}\n      </>\n    );\n  }\n}\n\nexport const ArrayColorPicker = props => {\n  const {color, setColor} = props;\n  return (\n    <ColorPicker color={{hue: color[0], sat: color[1]}} setColor={setColor} />\n  );\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\n\nexport const HiddenInput = styled.input`\n  opacity: 0;\n  width: 0;\n  height: 0;\n`;\n\nconst Switch = styled.label`\n  position: relative;\n  display: inline-block;\n  width: 60px;\n  height: 34px;\n`;\nconst Slider = styled.span`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: ${props =>\n    props.isChecked ? 'var(--color_accent)' : 'var(--color_dark-grey)'};\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n  border-radius: 4px;\n  &:before {\n    position: absolute;\n    content: '';\n    height: 26px;\n    width: 26px;\n    left: 4px;\n    bottom: 4px;\n    border-radius: 4px;\n    background-color: ${props =>\n      !props.isChecked\n        ? 'var(--color_medium-grey)'\n        : 'var(--color_light-grey)'};\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n    ${props => (props.isChecked ? 'transform: translateX(26px)' : '')};\n  }\n`;\n\ntype Props = {\n  isChecked: boolean;\n  onChange: (val: boolean) => void;\n};\n\nexport function AccentSlider(props: Props) {\n  const { isChecked, onChange } = props;\n\n  const [isHiddenChecked, setIsHiddenChecked] = React.useState(isChecked);\n\n  // If the parent isChecked changes, update our local checked state\n  React.useEffect(() => {\n    setIsHiddenChecked(isChecked);\n  }, [isChecked]);\n\n  const hiddenOnChange = () => {\n    setIsHiddenChecked(!isChecked);\n    onChange(!isChecked);\n  };\n\n  return (\n    <Switch>\n      <HiddenInput type=\"checkbox\" checked={isHiddenChecked} onChange={hiddenOnChange} />\n      <Slider isChecked={isHiddenChecked} />\n    </Switch>\n  );\n}\n","import * as React from 'react';\nimport Select from 'react-select';\nconst customStyles = {\n  option: (provided, state) => {\n    return {\n      ...provided,\n      '&:hover': {\n        backgroundColor: state.isSelected\n          ? 'var(--color_accent)'\n          : 'var(--color_dark-grey)'\n      },\n      ':active': {\n        backgroundColor: 'var(--color_dark-grey)'\n      },\n      background: state.isSelected\n        ? 'var(--color_accent)'\n        : state.isFocused\n        ? 'var(--color_dark-grey)'\n        : 'var(--color_light-jet)',\n      color: state.isSelected\n        ? 'var(--color_light-jet)'\n        : state.isFocused\n        ? 'var(--color_accent)'\n        : 'var(--color_accent)'\n    };\n  },\n  container: provided => ({\n    ...provided,\n    lineHeight: 'initial',\n    flex: 1\n  }),\n  input: provided => ({\n    ...provided,\n    color: 'var(--color_accent)',\n    opacity: 0.5\n  }),\n  singleValue: provided => ({\n    ...provided,\n    color: 'var(--color_accent)'\n  }),\n  dropdownIndicator: provided => ({\n    ...provided,\n    color: 'var(--color_accent)'\n  }),\n  indicatorSeparator: provided => ({\n    ...provided,\n    backgroundColor: 'var(--color_accent)'\n  }),\n  menuList: provided => ({\n    ...provided,\n    borderColor: 'var(--color_accent)',\n    backgroundColor: 'var(--color_light-jet)'\n  }),\n  placeholder: provided => ({\n    ...provided,\n    color: 'var(--color_accent)'\n  }),\n  valueContainer: provided => ({\n    ...provided,\n    ':active': {\n      backgroundColor: 'var(--color_dark-grey)',\n      borderColor: 'var(--color_accent)'\n    },\n    '&:hover': {\n      borderColor: 'var(--color_accent)'\n    },\n    color: 'var(--color_accent)',\n    background: 'var(--color_light-jet)'\n  }),\n  control: (provided, state) => {\n    const res = {\n      ...provided,\n      boxShadow: 'none',\n      ':active': {\n        backgroundColor: 'transparent',\n        borderColor: 'var(--color_accent)'\n      },\n      '&:hover': {\n        borderColor: 'var(--color_accent)'\n      },\n      color: 'var(--color_accent)',\n      borderColor: '1px solid var(--color_accent)',\n      background: 'var(--color_light-jet)',\n      overflow: 'hidden',\n      width: state.selectProps.width || 250\n    };\n    return res;\n  }\n};\n\nexport const AccentSelect = props => (\n  <Select {...props} styles={customStyles} />\n);\n","import * as React from 'react';\nimport Slider from 'rc-slider';\nimport styled from 'styled-components';\n\nconst Container = styled.span`\n  display: inline-block;\n  line-height: initial;\n  width: 200px;\n`;\n\nexport const AccentRange = props => (\n  <Container>\n    <Slider\n      {...props}\n      railStyle={{backgroundColor: 'var(--color_dark-grey)'}}\n      trackStyle={{backgroundColor: 'var(--color_accent)'}}\n      handleStyle={{\n        borderColor: 'var(--color_accent)',\n        backgroundColor: 'var(--color_accent)'\n      }}\n    />\n  </Container>\n);\n","import * as React from 'react';\nimport {AccentSlider} from '../../../../inputs/accent-slider';\nimport {AccentSelect} from '../../../../inputs/accent-select';\nimport {AccentRange} from '../../../../inputs/accent-range';\nimport {ControlRow, Label, Detail} from '../../../grid';\nimport {VIADefinitionV2, LightingValue} from 'via-reader';\nimport {LightingData} from '../../../../../types';\nimport {ArrayColorPicker} from '../../../../inputs/color-picker';\ntype Props = {\n  lightingData: LightingData;\n  definition: VIADefinitionV2;\n  updateBacklightValue: (command: LightingValue, ...args: number[]) => void;\n};\n\nexport type ControlMeta = [\n  LightingValue,\n  string | React.FC<AdvancedControlProps>,\n  {type: string} & Partial<{\n    min: number;\n    max: number;\n    getOptions: (d: VIADefinitionV2) => string[];\n  }>\n];\ntype AdvancedControlProps = Props & {meta: ControlMeta};\nexport const LightingControl = (props: AdvancedControlProps) => {\n  const [command, label, meta] = props.meta;\n  const labelContent = typeof label === 'string' ? label : label(props);\n  switch (meta.type) {\n    case 'slider':\n      return (\n        <ControlRow>\n          <Label>{labelContent}</Label>\n          <Detail>\n            <AccentSlider\n              isChecked={!!props.lightingData[command][0]}\n              onChange={val => props.updateBacklightValue(command, +val)}\n            />\n          </Detail>\n        </ControlRow>\n      );\n\n    case 'range':\n      return (\n        <ControlRow>\n          <Label>{labelContent}</Label>\n          <Detail>\n            <AccentRange\n              max={meta.max}\n              min={meta.min}\n              defaultValue={props.lightingData[command][0]}\n              onChange={val => props.updateBacklightValue(command, val)}\n            />\n          </Detail>\n        </ControlRow>\n      );\n    case 'color':\n      return (\n        <ControlRow>\n          <Label>{labelContent}</Label>\n          <Detail>\n            <ArrayColorPicker\n              color={props.lightingData[command]}\n              setColor={(hue, sat) =>\n                props.updateBacklightValue(command, hue, sat)\n              }\n            />\n          </Detail>\n        </ControlRow>\n      );\n    case 'select': {\n      const options = meta.getOptions(props.definition).map((label, value) => ({\n        value,\n        label\n      }));\n      return (\n        <ControlRow>\n          <Label>{labelContent}</Label>\n          <Detail>\n            <AccentSelect\n              width={250}\n              onChange={option =>\n                props.updateBacklightValue(command, option.value)\n              }\n              options={options}\n              defaultValue={options.find(\n                p => props.lightingData[command][0] === p.value\n              )}\n            />\n          </Detail>\n        </ControlRow>\n      );\n    }\n    case 'row_col':\n      return (\n        <ControlRow>\n          <Label>{labelContent}</Label>\n          <Detail>\n            <AccentSlider\n              isChecked={props.lightingData[command][0] !== 255}\n              onChange={val => {\n                const args = val ? [254, 254] : [255, 255];\n                props.updateBacklightValue(command, ...args);\n              }}\n            />\n          </Detail>\n        </ControlRow>\n      );\n  }\n  return null;\n};\n","import * as React from 'react';\nimport {ColorPicker} from '../../../../inputs/color-picker';\nimport {ControlRow, Label, Detail} from '../../../grid';\nimport {\n  getLightingDefinition,\n  LightingValue,\n  VIADefinitionV2\n} from 'via-reader';\nimport {LightingControl} from './lighting-control';\n\nconst BacklightControls: [\n  LightingValue,\n  string,\n  {type: string} & Record<string, any>\n][] = [\n  [\n    LightingValue.BACKLIGHT_BRIGHTNESS,\n    'Brightness',\n    {type: 'range', min: 0, max: 255}\n  ],\n  [\n    LightingValue.BACKLIGHT_EFFECT,\n    'Effect',\n    {\n      type: 'select',\n      getOptions: (definition: VIADefinitionV2) =>\n        getLightingDefinition(definition.lighting).effects.map(\n          ([label]) => label\n        )\n    }\n  ],\n  [\n    LightingValue.BACKLIGHT_EFFECT_SPEED,\n    'Effect Speed',\n    {type: 'range', min: 0, max: 3}\n  ]\n];\n\nconst UnderglowControls: [\n  LightingValue,\n  string,\n  {type: string} & Record<string, any>\n][] = [\n  [\n    LightingValue.QMK_RGBLIGHT_BRIGHTNESS,\n    'Underglow Brightness',\n    {type: 'range', min: 0, max: 255}\n  ],\n  [\n    LightingValue.QMK_RGBLIGHT_EFFECT,\n    'Underglow Effect',\n    {\n      type: 'select',\n      getOptions: (definition: VIADefinitionV2) =>\n        getLightingDefinition(definition.lighting).underglowEffects.map(\n          ([label]) => label\n        )\n    }\n  ],\n  [\n    LightingValue.QMK_RGBLIGHT_EFFECT_SPEED,\n    'Underglow Effect Speed',\n    {type: 'range', min: 0, max: 3}\n  ]\n];\n\nexport const GeneralPane = props => {\n  const {\n    lightingData,\n    updateCustomColor,\n    updateBacklightValue,\n    selectedDefinition\n  } = props;\n\n  const lightingDefinition = getLightingDefinition(selectedDefinition.lighting);\n  const {supportedLightingValues} = lightingDefinition;\n  if (lightingDefinition.supportedLightingValues.length !== 0) {\n    const colorsNeededArr = lightingDefinition.effects.map(([_, num]) => num);\n    const underglowColorsNeededArr = lightingDefinition.underglowEffects.map(\n      ([_, num]) => num\n    );\n    const currentEffect = lightingData[LightingValue.BACKLIGHT_EFFECT];\n    const currentUnderglowEffect =\n      lightingData[LightingValue.QMK_RGBLIGHT_EFFECT];\n    const colorsNeeded =\n      colorsNeededArr[currentEffect && currentEffect[0]] || 0;\n    const underglowColorNeeded =\n      underglowColorsNeededArr[\n        currentUnderglowEffect && currentUnderglowEffect[0]\n      ] === 1;\n    const useCustomColors = !!lightingData.customColors;\n    const showCustomColors = useCustomColors && colorsNeeded > 2;\n    return (\n      <>\n        {BacklightControls.filter(\n          control => supportedLightingValues.indexOf(control[0]) !== -1\n        ).map((meta: any) => (\n          <LightingControl\n            definition={props.selectedDefinition}\n            lightingData={lightingData}\n            updateBacklightValue={updateBacklightValue}\n            meta={meta}\n          />\n        ))}\n        {UnderglowControls.filter(\n          control => supportedLightingValues.indexOf(control[0]) !== -1\n        ).map((meta: any) => (\n          <LightingControl\n            definition={props.selectedDefinition}\n            lightingData={lightingData}\n            updateBacklightValue={updateBacklightValue}\n            meta={meta}\n          />\n        ))}\n        {new Array(colorsNeeded)\n          .fill(1)\n          .map((val, idx) => val + idx)\n          .map(val => {\n            let color, setColor;\n            if (showCustomColors) {\n              [color, setColor] = [\n                lightingData.customColors[val - 1],\n                (hue, sat) => updateCustomColor(val - 1, hue, sat)\n              ];\n            } else {\n              const command =\n                val === 1\n                  ? LightingValue.BACKLIGHT_COLOR_1\n                  : LightingValue.BACKLIGHT_COLOR_2;\n              [color, setColor] = [\n                {hue: lightingData[command][0], sat: lightingData[command][1]},\n                (hue, sat) => updateBacklightValue(command, hue, sat)\n              ];\n            }\n            return (\n              <ControlRow key={val}>\n                <Label>Color {val}</Label>\n                <Detail>\n                  <ColorPicker color={color} setColor={setColor} />\n                </Detail>\n              </ControlRow>\n            );\n          })}\n        {underglowColorNeeded && (\n          <LightingControl\n            definition={props.selectedDefinition}\n            lightingData={lightingData}\n            updateBacklightValue={updateBacklightValue}\n            meta={[\n              LightingValue.QMK_RGBLIGHT_COLOR,\n              'Underglow Color',\n              {type: 'color'}\n            ]}\n          />\n        )}\n      </>\n    );\n  }\n  return null;\n};\n","import * as React from 'react';\nimport {ControlRow, Label, Detail} from '../../../grid';\nimport {AccentSlider} from '../../../../inputs/accent-slider';\nimport {getLightingDefinition, LightingValue} from 'via-reader';\n\nexport const LayoutConfigValues = [\n  LightingValue.BACKLIGHT_USE_7U_SPACEBAR,\n  LightingValue.BACKLIGHT_USE_ISO_ENTER,\n  LightingValue.BACKLIGHT_USE_SPLIT_BACKSPACE,\n  LightingValue.BACKLIGHT_USE_SPLIT_LEFT_SHIFT,\n  LightingValue.BACKLIGHT_USE_SPLIT_RIGHT_SHIFT,\n  LightingValue.BACKLIGHT_DISABLE_HHKB_BLOCKER_LEDS\n];\n\nconst BooleanControls: [LightingValue, string][] = [\n  [LightingValue.BACKLIGHT_USE_7U_SPACEBAR, 'Use 7U Spacebar LEDs'],\n  [LightingValue.BACKLIGHT_USE_ISO_ENTER, 'Use ISO Enter LEDs'],\n  [LightingValue.BACKLIGHT_USE_SPLIT_BACKSPACE, 'Use Split Backspace LEDs'],\n  [LightingValue.BACKLIGHT_USE_SPLIT_LEFT_SHIFT, 'Use Split Left Shift LEDs'],\n  [LightingValue.BACKLIGHT_USE_SPLIT_RIGHT_SHIFT, 'Use Split Right Shift LEDs'],\n  [\n    LightingValue.BACKLIGHT_DISABLE_HHKB_BLOCKER_LEDS,\n    'Disable HHKB Blocker LEDs'\n  ]\n];\n\nexport const LayoutPane = props => {\n  const {selectedDefinition, updateBacklightValue, lightingData} = props;\n  const lightingDefinition = getLightingDefinition(selectedDefinition.lighting);\n  if (lightingDefinition.supportedLightingValues.length !== 0) {\n    const controls = BooleanControls.filter(\n      control =>\n        lightingDefinition.supportedLightingValues.indexOf(control[0]) !== -1\n    );\n\n    return (\n      <>\n        {controls.map(([command, label]) => (\n          <ControlRow key={command}>\n            <Label>{label}</Label>\n            <Detail>\n              <AccentSlider\n                isChecked={!!lightingData[command][0]}\n                onChange={val => updateBacklightValue(command, +val)}\n              />\n            </Detail>\n          </ControlRow>\n        ))}\n      </>\n    );\n  }\n  return null;\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {getLightingDefinition, LightingValue} from 'via-reader';\nimport {LightingControl, ControlMeta} from './lighting-control';\n\nexport const AdvancedLightingValues = [\n  LightingValue.BACKLIGHT_DISABLE_WHEN_USB_SUSPENDED,\n  LightingValue.BACKLIGHT_DISABLE_AFTER_TIMEOUT,\n  LightingValue.BACKLIGHT_CAPS_LOCK_INDICATOR_COLOR,\n  LightingValue.BACKLIGHT_CAPS_LOCK_INDICATOR_ROW_COL,\n  LightingValue.BACKLIGHT_LAYER_1_INDICATOR_COLOR,\n  LightingValue.BACKLIGHT_LAYER_1_INDICATOR_ROW_COL,\n  LightingValue.BACKLIGHT_LAYER_2_INDICATOR_COLOR,\n  LightingValue.BACKLIGHT_LAYER_2_INDICATOR_ROW_COL,\n  LightingValue.BACKLIGHT_LAYER_3_INDICATOR_COLOR,\n  LightingValue.BACKLIGHT_LAYER_3_INDICATOR_ROW_COL\n];\n\nconst AccentText = styled.span`\n  color: var(--color_accent);\n`;\n\ntype AdvancedControlMeta = [\n  LightingValue,\n  string,\n  {type: string} & Partial<{min?: number; max?: number}>\n];\n\nconst RGBControls: ControlMeta[] = [\n  [\n    LightingValue.BACKLIGHT_DISABLE_WHEN_USB_SUSPENDED,\n    'Disable LEDs when USB is suspended',\n    {type: 'slider'}\n  ],\n  [\n    LightingValue.BACKLIGHT_DISABLE_AFTER_TIMEOUT,\n    ({lightingData}) =>\n      (val => (\n        <span>\n          LED Sleep Timeout:{' '}\n          <AccentText>{!val ? 'Never' : `After ${val} mins`}</AccentText>\n        </span>\n      ))(lightingData[LightingValue.BACKLIGHT_DISABLE_AFTER_TIMEOUT][0]),\n    {type: 'range', min: 0, max: 255}\n  ],\n  [\n    LightingValue.BACKLIGHT_CAPS_LOCK_INDICATOR_COLOR,\n    'Caps Lock indicator color',\n    {type: 'color'}\n  ],\n  [\n    LightingValue.BACKLIGHT_CAPS_LOCK_INDICATOR_ROW_COL,\n    'Caps Lock indicator',\n    {type: 'row_col'}\n  ],\n  [\n    LightingValue.BACKLIGHT_LAYER_1_INDICATOR_COLOR,\n    'Layer 1 indicator color',\n    {type: 'color'}\n  ],\n  [\n    LightingValue.BACKLIGHT_LAYER_1_INDICATOR_ROW_COL,\n    'Layer 1 indicator',\n    {type: 'row_col'}\n  ],\n  [\n    LightingValue.BACKLIGHT_LAYER_2_INDICATOR_COLOR,\n    'Layer 2 indicator color',\n    {type: 'color'}\n  ],\n  [\n    LightingValue.BACKLIGHT_LAYER_2_INDICATOR_ROW_COL,\n    'Layer 2 indicator',\n    {type: 'row_col'}\n  ],\n  [\n    LightingValue.BACKLIGHT_LAYER_3_INDICATOR_COLOR,\n    'Layer 3 indicator color',\n    {type: 'color'}\n  ],\n  [\n    LightingValue.BACKLIGHT_LAYER_3_INDICATOR_ROW_COL,\n    'Layer 3 indicator',\n    {type: 'row_col'}\n  ]\n];\nexport const AdvancedPane = props => {\n  const {selectedDefinition, lightingData, updateBacklightValue} = props;\n  const {supportedLightingValues} = getLightingDefinition(\n    selectedDefinition.lighting\n  );\n  if (lightingData) {\n    return (\n      <>\n        {RGBControls.filter(\n          control => supportedLightingValues.indexOf(control[0]) !== -1\n        ).map((meta: AdvancedControlMeta) => (\n          <LightingControl\n            definition={props.selectedDefinition}\n            lightingData={lightingData}\n            updateBacklightValue={updateBacklightValue}\n            meta={meta}\n          />\n        ))}\n      </>\n    );\n  }\n  return null;\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {OverflowCell, SubmenuCell, SubmenuRow} from '../grid';\nimport {CenterPane} from '../pane';\nimport {Component} from 'react';\nimport {\n  updateCustomColor,\n  getSelectedLightingData,\n  updateBacklightValue,\n  getSelectedDefinition\n} from '../../../redux/modules/keymap';\nimport {connect} from 'react-redux';\nimport {RootState} from 'app/redux';\nimport {bindActionCreators} from 'redux';\nimport {title, component} from '../../icons/lightbulb';\nimport {GeneralPane} from './submenus/lighting/general';\nimport {LayoutConfigValues, LayoutPane} from './submenus/lighting/layout';\nimport {\n  AdvancedLightingValues,\n  AdvancedPane\n} from './submenus/lighting/advanced';\nimport {\n  LightingValue,\n  VIADefinitionV2,\n  getLightingDefinition\n} from 'via-reader';\n\nexport const Category = {\n  General: {label: 'General', Menu: GeneralPane},\n  Layout: {label: 'Layout', Menu: LayoutPane},\n  Advanced: {label: 'Advanced', Menu: AdvancedPane}\n};\n\ntype HIDColor = {\n  hue: number;\n  sat: number;\n};\n\nexport type LightingData = {\n  customColors?: HIDColor[];\n};\nconst LightingPane = styled(CenterPane)`\n  height: 100%;\n  background: var(--color_dark_grey);\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 12px;\n`;\n\ntype OwnProps = {};\n\ntype ReduxProps = {\n  lightingData: LightingData;\n  selectedDefinition: VIADefinitionV2;\n  updateBacklightValue: (command: LightingValue, ...args: number[]) => void;\n  updateCustomColor: (num: number, hue: number, sat: number) => void;\n};\ntype Props = ReduxProps & OwnProps;\n\ntype State = {\n  selectedCategory: {label: string; Menu: (props: Props) => JSX.Element};\n};\n\nconst MenuContainer = styled.div`\n  padding: 15px 20px 20px 10px;\n`;\n\nexport class LightingMenu extends Component<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedCategory: Category.General\n    };\n  }\n\n  renderSelectedCategory(category) {\n    const {lightingData} = this.props;\n\n    if (lightingData) {\n      switch (category) {\n        case Category.General:\n          return <GeneralPane {...this.props} />;\n      }\n    }\n    return null;\n  }\n\n  get menus() {\n    const {selectedDefinition} = this.props;\n\n    const hasLayouts = LayoutConfigValues.some(\n      value =>\n        getLightingDefinition(\n          selectedDefinition.lighting\n        ).supportedLightingValues.indexOf(value) !== -1\n    );\n    const hasAdvanced = AdvancedLightingValues.some(\n      value =>\n        getLightingDefinition(\n          selectedDefinition.lighting\n        ).supportedLightingValues.indexOf(value) !== -1\n    );\n\n    return [\n      Category.General,\n      ...(hasLayouts ? [Category.Layout] : []),\n      ...(hasAdvanced ? [Category.Advanced] : [])\n    ];\n  }\n\n  render() {\n    const SelectedMenu = this.state.selectedCategory.Menu;\n    return (\n      <>\n        <SubmenuCell>\n          <MenuContainer>\n            {this.menus.map(menu => (\n              <SubmenuRow\n                selected={this.state.selectedCategory === menu}\n                onClick={_ => this.setState({selectedCategory: menu})}\n                key={menu.label}\n              >\n                {menu.label}\n              </SubmenuRow>\n            ))}\n          </MenuContainer>\n        </SubmenuCell>\n        <OverflowCell>\n          <LightingPane>\n            <Container>\n              <SelectedMenu {...this.props} />\n            </Container>\n          </LightingPane>\n        </OverflowCell>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  selectedDefinition: getSelectedDefinition(state.keymap),\n  lightingData: getSelectedLightingData(state.keymap)\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      updateCustomColor,\n      updateBacklightValue\n    },\n    dispatch\n  );\n\nexport const Icon = component;\nexport const Title = title;\nexport const Pane = connect(mapStateToProps, mapDispatchToProps)(LightingMenu);\n","import * as React from 'react';\n\nconst SvgIcAdjust24Px = props => (\n  <svg width={16.571} height={16.571} {...props}>\n    <path\n      d=\"M8.285 0a8.285 8.285 0 108.285 8.285A8.3 8.3 0 008.285 0zm0 14.914a6.628 6.628 0 116.628-6.628 6.637 6.637 0 01-6.628 6.628zm2.486-6.628A2.486 2.486 0 118.285 5.8a2.482 2.482 0 012.486 2.485z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const title = 'Macros';\nexport const component = SvgIcAdjust24Px;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {ControlRow, Label, Detail} from '../../../grid';\nimport {AccentSlider} from '../../../../inputs/accent-slider';\nimport {ErrorMessage} from '../../../../styled';\nimport {\n  getMacroKeycodes,\n  validateExpression\n} from '../../../../../utils/macro-api';\nimport ReactTextareaAutocomplete from '@webscopeio/react-textarea-autocomplete';\nimport {AccentButton} from '../../../../inputs/accent-button';\n\nconst ToastErrorMessage = styled(ErrorMessage)`\n  margin: 0;\n  width: 100%;\n  font-size: 14px;\n  display: block;\n  &:empty {\n    display: none;\n  }\n`;\nconst Message = styled.div``;\nconst Link = styled.a`\n  font-size: 18x !important;\n  color: var(--color_accent);\n  text-decoration: underline;\n`;\nconst KeycodeLabel = styled.span`\n  color: var(--color_medium-grey);\n  display: flex;\n`;\n\nconst Keycode = styled.span`\n  color: var(--color_accent);\n  display: flex;\n  padding-left: 10px;\n`;\n\nconst DescriptionLabel = styled(Label)`\n  font-size: 14px;\n  line-height: 18px;\n  font-style: oblique;\n  color: var(--color_dark-grey);\n  padding-left: 5px;\n`;\n\nconst Item = styled.div`\n  box-sizing: border-box;\n  min-width: 200px;\n  padding: 5px 10px;\n  display: flex;\n  justify-content: space-between;\n  background-color: ${props =>\n    !props.selected ? 'var(--color_light-jet)' : 'var(--color_dark-grey)'};\n\n  &:hover {\n    background-color: var(--color_dark-grey);\n  }\n`;\n\nconst AutocompleteItem = ({selected, entity: {label, code}}) => (\n  <Item selected={selected}>\n    <KeycodeLabel>{label}</KeycodeLabel> <Keycode>{code}</Keycode>\n  </Item>\n);\nconst AutocompleteLoading = () => <div>Loading</div>;\nconst findKeycodes = (token: string) => {\n  const uToken = token.toUpperCase();\n  return getMacroKeycodes()\n    .filter(({name, title, code}) =>\n      title\n        ? title.toUpperCase().indexOf(uToken) > -1\n        : name.toUpperCase().indexOf(uToken) > -1 ||\n          code.toUpperCase().indexOf(uToken) > -1\n    )\n    .slice(0, 10)\n    .map(({name, code, title}) => {\n      const label = title ? title : name;\n      return {label, code};\n    });\n};\nconst AutoHeightRow = styled(ControlRow)`\n  height: auto;\n`;\n\nconst TextArea = styled.textarea`\n  box-sizing: border-box;\n  background: var(--color_jet);\n  padding: 5px 10px;\n  border-color: var(--color_medium-grey);\n  color: var(--color_medium-grey);\n  width: 100%;\n  height: 200px;\n  font-size: 16px;\n  line-height: 18px;\n  resize: none;\n  font-family: 'Source Code Pro';\n  font-weight: 500;\n  &::placeholder {\n    color: var(--color_dark-grey);\n  }\n  &:focus {\n    color: var(--color_accent);\n    outline-color: var(--color_accent);\n  }\n`;\n\nexport const MacroDetailPane = props => {\n  const enterToken = '{KC_ENT}';\n  const currentMacro = props.macros.expressions[props.selectedMacro] || '';\n  const textareaInitialValue = currentMacro\n    .trimRight()\n    .replace(new RegExp(`${enterToken}$`), '');\n  const [currentValue, setCurrentValue] = React.useState(textareaInitialValue);\n  const [appendEnter, setAppendEnter] = React.useState(\n    currentMacro.trimRight().endsWith(enterToken)\n  );\n  const [errorMessage, setErrorMessage] = React.useState(undefined);\n  const saveMacro = () => {\n    const value = appendEnter ? currentValue + enterToken : currentValue;\n    const validationResult = validateExpression(value);\n    if (validationResult.isValid) {\n      props.saveMacros(value);\n      setErrorMessage(undefined);\n    } else {\n      setErrorMessage(validationResult.errorMessage);\n    }\n  };\n  const hasError = errorMessage !== undefined;\n  return (\n    <>\n      <AutoHeightRow>\n        <ReactTextareaAutocomplete\n          value={currentValue}\n          onChange={e => setCurrentValue(e.target.value)}\n          loadingComponent={AutocompleteLoading}\n          style={{\n            fontSize: '16px',\n            lineHeight: '18px',\n            width: '100%',\n            height: '140px',\n            resize: 'none',\n            borderColor: hasError ? '#d15e5e' : 'var(--color_medium-grey)'\n          }}\n          containerStyle={{\n            border: 'none',\n            lineHeight: '20px'\n          }}\n          itemStyle={{\n            borderColor: 'var(--color_dark-grey)',\n            backgroundColor: 'var(-color_light-jet)'\n          }}\n          dropdownStyle={{\n            zIndex: 999,\n            backgroundColor: 'var(--color_light-jet)'\n          }}\n          listStyle={{\n            position: 'fixed',\n            backgroundColor: 'var(--color_light-jet)',\n            maxHeight: '210px',\n            overflow: 'auto',\n            border: '1px solid var(--color_dark-grey)'\n          }}\n          minChar={0}\n          textAreaComponent={TextArea}\n          movePopupAsYouType={true}\n          placeholder={`Enter the macro you want M${props.selectedMacro} to execute...`}\n          trigger={{\n            '?': {\n              dataProvider: findKeycodes,\n              component: AutocompleteItem,\n              output: (item, trigger) => ({\n                text: item.code,\n                caretPosition: 'end'\n              })\n            },\n            '{': {\n              dataProvider: findKeycodes,\n              component: AutocompleteItem,\n              output: (item, trigger) => ({\n                text: `{${item.code},`,\n                caretPosition: 'end'\n              })\n            },\n            ',': {\n              dataProvider: findKeycodes,\n              component: AutocompleteItem,\n              output: (item, trigger) => {\n                console.log(trigger);\n                return {\n                  text: `,${item.code},`,\n                  caretPosition: 'end'\n                };\n              }\n            }\n          }}\n        />\n      </AutoHeightRow>\n      <AutoHeightRow>\n        <DescriptionLabel>\n          <ToastErrorMessage>{errorMessage}</ToastErrorMessage>\n          <Message>\n            Enter text directly, or wrap{' '}\n            <Link\n              href=\"https://beta.docs.qmk.fm/features/keycodes_basic\"\n              target=\"_blank\"\n            >\n              Basic Keycodes\n            </Link>{' '}\n            in {'{}'}.\n          </Message>\n          <Message>\n            Single tap: {'{KC_XXX}'}. Chord: {'{KC_XXX, KC_YYY, KC_ZZZ}'}.\n          </Message>\n          <Message>Type ? to search for keycodes.</Message>\n        </DescriptionLabel>\n        <Detail>\n          <AccentButton\n            disabled={\n              currentMacro ===\n              (appendEnter ? currentValue + enterToken : currentValue)\n            }\n            onClick={saveMacro}\n          >\n            Save\n          </AccentButton>\n        </Detail>\n      </AutoHeightRow>\n      <ControlRow>\n        <Label>Tap 'Enter' at end of macro</Label>\n        <Detail>\n          <AccentSlider isChecked={appendEnter} onChange={setAppendEnter} />\n        </Detail>\n      </ControlRow>\n    </>\n  );\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {OverflowCell, SubmenuOverflowCell, SubmenuRow} from '../grid';\nimport {CenterPane} from '../pane';\nimport {Component} from 'react';\nimport {getSelectedDevice} from '../../../redux/modules/keymap';\nimport {saveMacros} from '../../../redux/modules/macros';\nimport {connect} from 'react-redux';\nimport {RootState} from 'app/redux';\nimport {bindActionCreators} from 'redux';\nimport {title, component} from '../../icons/adjust';\nimport {MacroDetailPane} from './submenus/macros/macro-detail';\n\nconst MacroPane = styled(CenterPane)`\n  height: 100%;\n  background: var(--color_dark_grey);\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 12px;\n`;\n\ntype OwnProps = {};\n\ntype ReduxProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\ntype Props = ReduxProps & OwnProps;\n\ntype State = {\n  selectedMacro: number;\n};\n\nconst MenuContainer = styled.div`\n  padding: 15px 20px 20px 10px;\n`;\n\nexport class MacroMenu extends Component<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedMacro: 0\n    };\n  }\n\n  saveMacro = (macro: string) => {\n    const {selectedKeyboard, macros, saveMacros} = this.props;\n    const newMacros = macros.expressions.map((oldMacro, i) =>\n      i === this.state.selectedMacro ? macro : oldMacro\n    );\n\n    saveMacros(selectedKeyboard, newMacros);\n  };\n\n  render() {\n    return (\n      <>\n        <SubmenuOverflowCell>\n          <MenuContainer>\n            {Array(16)\n              .fill(0)\n              .map((_, idx) => idx)\n              .map(idx => (\n                <SubmenuRow\n                  selected={this.state.selectedMacro === idx}\n                  onClick={_ => this.setState({selectedMacro: idx})}\n                  key={idx}\n                >\n                  {`Macro ${idx}`}\n                </SubmenuRow>\n              ))}\n          </MenuContainer>\n        </SubmenuOverflowCell>\n        <OverflowCell>\n          <MacroPane>\n            <Container>\n              <MacroDetailPane\n                {...this.props}\n                selectedMacro={this.state.selectedMacro}\n                saveMacros={this.saveMacro}\n                key={this.state.selectedMacro}\n              />\n            </Container>\n          </MacroPane>\n        </OverflowCell>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = ({keymap, macros}: RootState) => ({\n  selectedKeyboard: getSelectedDevice(keymap),\n  macros\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      saveMacros: saveMacros\n    },\n    dispatch\n  );\n\nexport const Icon = component;\nexport const Title = title;\nexport const Pane = connect(mapStateToProps, mapDispatchToProps)(MacroMenu);\n","import * as React from 'react';\nimport {AccentButton} from './accent-button';\ntype Props = {onLoad: (file: File) => void; children: string};\n\nexport function AccentUploadButton(props: Props) {\n  const input: React.MutableRefObject<HTMLInputElement> = React.useRef();\n  function onChange(e: any) {\n    props.onLoad(e.target.files[0] as File);\n    input.current.value = null;\n  }\n  return (\n    <AccentButton onClick={() => input.current && input.current.click()}>\n      {props.children}\n      <input\n        ref={input}\n        type=\"file\"\n        accept=\"application/json\"\n        style={{display: 'none'}}\n        onChange={onChange}\n      />\n    </AccentButton>\n  );\n}\n","import * as React from 'react';\n\nconst SvgIcSave24Px = props => (\n  <svg width={16.702} height={16.702} {...props}>\n    <path\n      d=\"M12.991 0H1.856A1.855 1.855 0 000 1.856v12.99A1.855 1.855 0 001.856 16.7h12.99a1.861 1.861 0 001.854-1.854V3.712zm-4.64 14.846a2.784 2.784 0 112.784-2.784 2.78 2.78 0 01-2.784 2.784zm2.784-9.279H1.856V1.856h9.279z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const title = 'Save + Load';\nexport const component = SvgIcSave24Px;\n","import * as React from 'react';\nimport {Component} from 'react';\nimport styled from 'styled-components';\nimport {writeFileSync} from 'fs';\nimport {remote} from 'electron';\nimport stringify from 'json-stringify-pretty-compact';\nimport {RootState} from '../../../redux';\nimport {saveMacros} from '../../../redux/modules/macros';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {ErrorMessage, SuccessMessage} from '../../styled';\nimport {AccentUploadButton} from '../../inputs/accent-upload-button';\nimport {AccentButton} from '../../inputs/accent-button';\nimport {\n  saveRawKeymapToDevice,\n  actions,\n  selectConnectedDevice,\n  getSelectedDevice,\n  getSelectedDefinition,\n  reloadConnectedDevices,\n  getSelectedRawLayers\n} from '../../../redux/modules/keymap';\nimport {getByteForCode, getCodeForByte} from '../../../utils/key';\nimport {title, component} from '../../icons/save';\nimport {CenterPane} from '../pane';\nimport {Detail, Label, OverflowCell, ControlRow} from '../grid';\n\ntype ViaSaveFile = {\n  name: string;\n  vendorProductId: number;\n  layers: number[][];\n  macros?: string[];\n};\n\nconst isViaSaveFile = (obj: any): obj is ViaSaveFile =>\n  obj && obj.name && obj.layers && obj.vendorProductId;\n\ntype OwnProps = {};\n\ntype State = {\n  errorMessage: string;\n  successMessage: string;\n};\n\nconst SaveLoadPane = styled(CenterPane)`\n  height: 100%;\n  background: var(--color_dark_grey);\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 12px;\n`;\n\nconst mapStateToProps = (state: RootState) => ({\n  macros: state.macros,\n  rawLayers: getSelectedRawLayers(state.keymap),\n  selectedDefinition: getSelectedDefinition(state.keymap),\n  selectedDevice: getSelectedDevice(state.keymap)\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      saveMacros,\n      saveRawKeymapToDevice,\n      selectConnectedDevice,\n      loadDefinition: actions.loadDefinition,\n      reloadConnectedDevices\n    },\n    dispatch\n  );\n\ntype Props = OwnProps &\n  ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nclass SaveMenuComponent extends Component<Props, State> {\n  input = React.createRef<HTMLInputElement>();\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      errorMessage: undefined,\n      successMessage: undefined\n    };\n  }\n\n  saveLayout = () => {\n    const {selectedDefinition, rawLayers, macros} = this.props;\n    const {name, vendorProductId} = selectedDefinition;\n    const saveFile: ViaSaveFile = {\n      name,\n      vendorProductId,\n      macros: [...macros.expressions],\n      layers: rawLayers.map(layer =>\n        layer.keymap.map(keyByte => getCodeForByte(keyByte))\n      )\n    };\n    const content = stringify(saveFile);\n    const defaultFilename = name.replace(/[^a-zA-Z0-9]/g, '_').toLowerCase();\n\n    remote.dialog\n      .showSaveDialog({\n        defaultPath: `*/${defaultFilename}`,\n        filters: [{name: 'json', extensions: ['json']}]\n      })\n      .then(result => {\n        const fileName = result.filePath;\n        fileName && writeFileSync(fileName, content);\n      });\n  };\n\n  loadLayout = file => {\n    const {\n      selectedDevice,\n      macros,\n      selectedDefinition,\n      saveRawKeymapToDevice\n    } = this.props;\n    this.setState({errorMessage: undefined, successMessage: undefined});\n    const reader = new FileReader();\n\n    reader.onabort = () =>\n      this.setState({\n        errorMessage: 'File reading was cancelled.'\n      });\n    reader.onerror = () =>\n      this.setState({\n        errorMessage: 'Failed to read file.'\n      });\n\n    reader.onload = async () => {\n      const saveFile = JSON.parse(reader.result.toString());\n      if (!isViaSaveFile(saveFile)) {\n        this.setState({\n          errorMessage: 'Could not load file: invalid data.'\n        });\n        return;\n      }\n\n      if (saveFile.vendorProductId !== selectedDefinition.vendorProductId) {\n        this.setState({\n          errorMessage: `Could not import layout. This file was created for a different keyboard: ${saveFile.name}`\n        });\n        return;\n      }\n\n      if (\n        saveFile.layers.findIndex(\n          (layer, idx) =>\n            layer.length !== this.props.rawLayers[idx].keymap.length\n        ) > -1\n      ) {\n        this.setState({\n          errorMessage:\n            'Could not import layout: incorrect number of keys in one or more layers.'\n        });\n        return;\n      }\n\n      if (macros.isFeatureSupported && saveFile.macros) {\n        if (saveFile.macros.length !== macros.expressions.length) {\n          this.setState({\n            errorMessage: 'Could not import layout: incorrect number of macros.'\n          });\n          return;\n        }\n\n        this.props.saveMacros(selectedDevice, saveFile.macros);\n      }\n\n      const keymap: number[][] = saveFile.layers.map(layer =>\n        layer.map(key => getByteForCode(key))\n      );\n\n      await saveRawKeymapToDevice(keymap, selectedDevice);\n\n      this.setState({\n        successMessage: 'Successfully updated layout!'\n      });\n    };\n\n    reader.readAsBinaryString(file);\n  };\n\n  render() {\n    const {errorMessage, successMessage} = this.state;\n    return (\n      <OverflowCell>\n        <SaveLoadPane>\n          <Container>\n            <ControlRow>\n              <Label>Save Current Layout</Label>\n              <Detail>\n                <AccentButton onClick={this.saveLayout.bind(this)}>\n                  Save\n                </AccentButton>\n              </Detail>\n            </ControlRow>\n            <ControlRow>\n              <Label>Load Saved Layout</Label>\n              <Detail>\n                <AccentUploadButton onLoad={this.loadLayout}>\n                  Load\n                </AccentUploadButton>\n              </Detail>\n            </ControlRow>\n            {errorMessage ? <ErrorMessage>{errorMessage}</ErrorMessage> : null}\n            {successMessage ? (\n              <SuccessMessage>{successMessage}</SuccessMessage>\n            ) : null}\n          </Container>\n        </SaveLoadPane>\n      </OverflowCell>\n    );\n  }\n}\n\nexport const Icon = component;\nexport const Title = title;\nexport const Pane = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SaveMenuComponent);\n","import * as React from 'react';\n\nconst SvgIcKeyboard24Px = _ => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n  >\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <path\n      d=\"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const title = 'Layouts';\nexport const component = SvgIcKeyboard24Px;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {title, component} from '../../icons/layouts';\nimport {ControlRow, OverflowCell, Label, Detail} from '../grid';\nimport {AccentSlider} from '../../inputs/accent-slider';\nimport {AccentSelect} from '../../inputs/accent-select';\nimport {CenterPane} from '../pane';\nimport {connect} from 'react-redux';\nimport {RootState} from 'app/redux';\nimport {bindActionCreators} from 'redux';\nimport {\n  getSelectedDefinition,\n  getSelectedDevicePath,\n  getSelectedLayoutOptions,\n  updateLayoutOption\n} from '../../../redux/modules/keymap';\n\nconst LayoutControl = props => {\n  const {onChange, meta} = props;\n  const {labels, selectedOption} = meta;\n  if (Array.isArray(labels)) {\n    const [label, ...optionLabels] = labels;\n    const options = optionLabels.map((label, idx) => ({label, value: idx}));\n    return (\n      <ControlRow>\n        <Label>{label}</Label>\n        <Detail>\n          <AccentSelect\n            width={150}\n            defaultValue={options[selectedOption]}\n            options={options}\n            onChange={option => onChange(option.value)}\n          />\n        </Detail>\n      </ControlRow>\n    );\n  } else if (typeof labels === 'string') {\n    return (\n      <ControlRow>\n        <Label>{labels}</Label>\n        <Detail>\n          <AccentSlider\n            isChecked={!!selectedOption}\n            onChange={val => onChange(+val)}\n          />\n        </Detail>\n      </ControlRow>\n    );\n  }\n\n  return null;\n};\n\nconst ContainerPane = styled(CenterPane)`\n  height: 100%;\n  background: var(--color_dark_grey);\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 12px;\n`;\n\nconst mapStateToProps = (state: RootState) => ({\n  selectedDefinition: getSelectedDefinition(state.keymap),\n  selectedDevicePath: getSelectedDevicePath(state.keymap),\n  selectedLayoutOptions: getSelectedLayoutOptions(state.keymap)\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators({updateLayoutOption}, dispatch);\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst LayoutPane = (props: Props) => {\n  const layouts = props.selectedDefinition.layouts;\n  const options = props.selectedLayoutOptions;\n  const labels = layouts.labels || [];\n  return (\n    <OverflowCell>\n      <ContainerPane>\n        <Container>\n          {labels.map((label, idx) => (\n            <LayoutControl\n              {...props}\n              key={label}\n              onChange={val =>\n                props.updateLayoutOption(props.selectedDevicePath, idx, val)\n              }\n              meta={{labels: label, selectedOption: options[idx]}}\n            />\n          ))}\n        </Container>\n      </ContainerPane>\n    </OverflowCell>\n  );\n};\nexport const Title = title;\nexport const Icon = component;\nexport const Pane = connect(mapStateToProps, mapDispatchToProps)(LayoutPane);\n","import {KeyboardAPI} from '../../../../../utils/keyboard-api';\n\nconst GET_KEYBOARD_VALUE = 0x02;\nconst SET_KEYBOARD_VALUE = 0x03;\n\nconst KB_VALUES = {\n  ENABLED_ENCODER_MODES: 0x80,\n  OLED_DEFAULT_MODE: 0x81,\n  ENCODER_CUSTOM: 0x82,\n  OLED_MODE: 0x83\n};\n\nexport const getEncoderModes = async (api: KeyboardAPI) => {\n  const bytes = [KB_VALUES.ENABLED_ENCODER_MODES];\n  const [, , enabledModes] = await api.hidCommand(GET_KEYBOARD_VALUE, bytes);\n  return enabledModes;\n};\n\nexport const setEncoderModes = async (\n  api: KeyboardAPI,\n  newEncoderModes: number\n) => {\n  const bytes = [KB_VALUES.ENABLED_ENCODER_MODES, newEncoderModes];\n  await api.hidCommand(SET_KEYBOARD_VALUE, bytes);\n};\n\nexport const getDefaultOLED = async (api: KeyboardAPI) => {\n  const bytes = [KB_VALUES.OLED_DEFAULT_MODE];\n  const [, , defaultMode] = await api.hidCommand(GET_KEYBOARD_VALUE, bytes);\n  return defaultMode;\n};\n\nexport const setDefaultOLED = async (\n  api: KeyboardAPI,\n  newDefaultMode: number\n) => {\n  const bytes = [KB_VALUES.OLED_DEFAULT_MODE, newDefaultMode];\n  await api.hidCommand(SET_KEYBOARD_VALUE, bytes);\n};\n\nexport const getOLEDMode = async (api: KeyboardAPI) => {\n  const bytes = [KB_VALUES.OLED_MODE];\n  const [, , defaultMode] = await api.hidCommand(GET_KEYBOARD_VALUE, bytes);\n  return defaultMode;\n};\n\nexport const setOLEDMode = async (api: KeyboardAPI, newDefaultMode: number) => {\n  const bytes = [KB_VALUES.OLED_MODE, newDefaultMode];\n  await api.hidCommand(SET_KEYBOARD_VALUE, bytes);\n};\n\nexport const getCustomEncoderConfig = async (\n  api: KeyboardAPI,\n  encoderIdx: number\n) => {\n  const bytes = [KB_VALUES.ENCODER_CUSTOM, encoderIdx];\n  const raw = await api.hidCommand(GET_KEYBOARD_VALUE, bytes);\n  const [, , , cw1, cw2, ccw1, ccw2, press1, press2] = raw;\n  return [(cw1 << 8) | cw2, (ccw1 << 8) | ccw2, (press1 << 8) | press2];\n};\n\nexport const setCustomEncoderConfig = async (\n  api: KeyboardAPI,\n  encoderIdx: number,\n  behavior: number,\n  keycode: number\n) => {\n  const hi = (keycode & 0xff00) >> 8;\n  const lo = keycode & 0xff;\n  const bytes = [KB_VALUES.ENCODER_CUSTOM, encoderIdx, behavior, hi, lo];\n  await api.hidCommand(SET_KEYBOARD_VALUE, bytes);\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\n\nconst MODES = {\n  ENC_MODE_VOLUME: 0,\n  ENC_MODE_MEDIA: 1,\n  ENC_MODE_SCROLL: 2,\n  ENC_MODE_BRIGHTNESS: 3,\n  ENC_MODE_BACKLIGHT: 4,\n  ENC_MODE_CUSTOM0: 5,\n  ENC_MODE_CUSTOM1: 6,\n  ENC_MODE_CUSTOM2: 7\n};\n\nconst MODE_LABELS = {\n  ENC_MODE_VOLUME: 'Volume',\n  ENC_MODE_MEDIA: 'Media',\n  ENC_MODE_SCROLL: 'Scroll',\n  ENC_MODE_BRIGHTNESS: 'Brightness',\n  ENC_MODE_BACKLIGHT: 'Backlight',\n  ENC_MODE_CUSTOM0: 'Custom 0',\n  ENC_MODE_CUSTOM1: 'Custom 1',\n  ENC_MODE_CUSTOM2: 'Custom 2'\n};\n\nconst CenteredColumnDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst ColumnDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\ntype Props = {\n  enabledModes: number;\n  onChange: (value: number) => void;\n};\n\nexport class EncoderModeToggle extends React.Component<Props> {\n  handleInputChange = event => {\n    const {enabledModes, onChange} = this.props;\n    const {\n      target: {checked: value, name}\n    } = event;\n    /* eslint-disable no-bitwise */\n    const flagBit = 1 << MODES[name];\n    const newEnabledModes = value\n      ? enabledModes | flagBit\n      : enabledModes & ~flagBit;\n    /* eslint-enable no-bitwise */\n    onChange(newEnabledModes);\n  };\n\n  isChecked = (modeIdx: number): boolean =>\n    ((1 << modeIdx) & this.props.enabledModes) > 0; // eslint-disable-line no-bitwise\n\n  render() {\n    return (\n      <CenteredColumnDiv>\n        <h3>Enabled Encoder Modes:</h3>\n        <p>Only the selected encoder modes will be available on the keyboard</p>\n        <ColumnDiv>\n          {Object.entries(MODES).map(([key, value]) => (\n            <label key={value} htmlFor={MODE_LABELS[key]}>\n              <input\n                name={key}\n                id={MODE_LABELS[key]}\n                type=\"checkbox\"\n                checked={this.isChecked(value)}\n                onChange={this.handleInputChange}\n                key={value}\n              />\n              {MODE_LABELS[key]}\n            </label>\n          ))}\n        </ColumnDiv>\n      </CenteredColumnDiv>\n    );\n  }\n}\n\nexport default EncoderModeToggle;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport KeycodeTextInput from '../../../../inputs/keycode-text-input';\n\nconst RowDiv = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-top: 4px;\n`;\n\nconst LabelText = styled.span`\n  font-weight: 650;\n  margin-right: 8px;\n  width: 80px;\n`;\n\nconst KeyInput = styled(KeycodeTextInput)`\n  width: 64px;\n  margin-right: 8px;\n`;\n\ntype Props = {\n  title: string;\n  encoderIdx: number;\n  behaviors: number[];\n  onChange: (encoderIdx: number, behavior: number, newValue: number) => void;\n};\n\nexport class EncoderCustomConfig extends React.Component<Props> {\n  handleInputChange = (newValue: number, behaviorIdx: number) => {\n    const {encoderIdx, onChange} = this.props;\n    onChange(encoderIdx, behaviorIdx, newValue);\n  };\n\n  render() {\n    const {\n      title,\n      behaviors: [cw, ccw, press]\n    } = this.props;\n    return (\n      <RowDiv>\n        <LabelText>{title}</LabelText>\n        <KeyInput\n          defaultValue={cw}\n          onBlur={newValue => this.handleInputChange(newValue, 0)}\n        />\n        <KeyInput\n          defaultValue={ccw}\n          onBlur={newValue => this.handleInputChange(newValue, 1)}\n        />\n        <KeyInput\n          defaultValue={press}\n          onBlur={newValue => this.handleInputChange(newValue, 2)}\n        />\n      </RowDiv>\n    );\n  }\n}\n\nexport default EncoderCustomConfig;\n","import * as React from 'react';\nimport {Component} from 'react';\nimport styled from 'styled-components';\nimport Select from 'react-select';\nimport {connect} from 'react-redux';\nimport {RootState} from '../../../../../redux';\nimport {getSelectedAPI} from '../../../../../redux/modules/keymap';\nimport {\n  getEncoderModes,\n  setEncoderModes,\n  getDefaultOLED,\n  setDefaultOLED,\n  getOLEDMode,\n  setOLEDMode,\n  getCustomEncoderConfig,\n  setCustomEncoderConfig\n} from './api';\nimport {EncoderModeToggle} from './encoder-mode-toggle';\nimport {EncoderCustomConfig} from './encoder-custom-config';\nimport {KeyboardAPI} from '../../../../../utils/keyboard-api';\n\nconst mapStateToProps = ({keymap, macros}: RootState) => ({\n  api: getSelectedAPI(keymap)\n});\n\ntype EnabledEncoderModes = number;\ntype OLEDMode = number;\ntype EncoderBehavior = [number, number, number];\n\nconst MenuContainer = styled.div`\n  display: flex;\n  color: #717070;\n  padding: 24px;\n  font-family: GothamRounded;\n  h3 {\n    margin: 4px 0;\n  }\n  p {\n    margin: 4px 0 8px 0;\n    width: 288px;\n    font-size: 13px;\n    text-align: center;\n  }\n`;\n\nconst SectionContainer = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst OLEDSelectContainer = styled.div`\n  width: 156px;\n  margin-bottom: 12px;\n`;\n\nconst CustomEncoderContainer = styled.div`\n  padding-left: 112px;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst LabelText = styled.span`\n  font-weight: 650;\n  margin-right: 8px;\n  width: 64px;\n`;\n\nconst OLED_OPTIONS = [\n  {value: 0, label: 'Default'},\n  {value: 1, label: 'Time'},\n  {value: 2, label: 'Off'}\n];\n\ntype State = {\n  enabledModes: number;\n  defaultOLEDMode: number;\n  currOLEDMode: number;\n  encoderBehaviors: EncoderBehavior[];\n};\n\nexport class SatisfactionMenu extends Component<{api: KeyboardAPI}, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      enabledModes: 0x1f,\n      defaultOLEDMode: 0,\n      currOLEDMode: 0,\n      encoderBehaviors: [[0, 0, 0], [0, 0, 0], [0, 0, 0]]\n    };\n  }\n\n  componentDidMount() {\n    this.fetchDataAndSet();\n  }\n\n  fetchDataAndSet = async () => {\n    const {api} = this.props;\n    const promises = [\n      getEncoderModes(api),\n      getDefaultOLED(api),\n      getOLEDMode(api),\n      getCustomEncoderConfig(api, 0),\n      getCustomEncoderConfig(api, 1),\n      getCustomEncoderConfig(api, 2)\n    ];\n    const [\n      enabledModes,\n      defaultOLEDMode,\n      currOLEDMode,\n      encoder0,\n      encoder1,\n      encoder2\n    ] = await Promise.all(promises);\n    this.setState({\n      enabledModes,\n      defaultOLEDMode,\n      currOLEDMode,\n      encoderBehaviors: [encoder0, encoder1, encoder2]\n    });\n  };\n\n  onEncoderModeChange = (newEncoderModes: EnabledEncoderModes) => {\n    const {api} = this.props;\n    const {enabledModes: currentModes} = this.state;\n    if (currentModes !== newEncoderModes) {\n      this.setState({enabledModes: newEncoderModes});\n      setEncoderModes(api, newEncoderModes);\n    }\n  };\n\n  onEncoderCustomConfigChange = (encoderIdx, behavior, newValue) => {\n    const {api} = this.props;\n    const newBehaviors = [...this.state.encoderBehaviors];\n    newBehaviors[encoderIdx][behavior] = newValue;\n    this.setState({encoderBehaviors: newBehaviors});\n    setCustomEncoderConfig(api, encoderIdx, behavior, newValue);\n  };\n\n  onOLEDDefaultChange = (input: {value: OLEDMode}) => {\n    const {value: newDefaultOLEDMode} = input;\n    const {api} = this.props;\n    const {defaultOLEDMode: currentMode} = this.state;\n    if (currentMode !== newDefaultOLEDMode) {\n      this.setState({defaultOLEDMode: newDefaultOLEDMode});\n      setDefaultOLED(api, newDefaultOLEDMode);\n    }\n  };\n\n  onOLEDChange = (input: {value: OLEDMode}) => {\n    const {value: newOLEDMode} = input;\n    const {api} = this.props;\n    const {currOLEDMode} = this.state;\n    if (currOLEDMode !== newOLEDMode) {\n      this.setState({currOLEDMode: newOLEDMode});\n      setOLEDMode(api, newOLEDMode);\n    }\n  };\n\n  render() {\n    const {api} = this.props;\n    const {\n      enabledModes,\n      defaultOLEDMode,\n      currOLEDMode,\n      encoderBehaviors\n    } = this.state;\n    if (api) {\n      return (\n        <MenuContainer>\n          <SectionContainer>\n            <EncoderModeToggle\n              onChange={this.onEncoderModeChange}\n              enabledModes={enabledModes}\n            />\n          </SectionContainer>\n          <SectionContainer>\n            <h3>Default OLED Mode:</h3>\n            <p>\n              This is the OLED mode that will be selected by default when you\n              plug in your keyboard.\n            </p>\n            <OLEDSelectContainer>\n              <Select\n                value={OLED_OPTIONS.find(e => e.value === defaultOLEDMode)}\n                onChange={this.onOLEDDefaultChange}\n                options={OLED_OPTIONS}\n              />\n            </OLEDSelectContainer>\n            <h3>Current OLED Mode:</h3>\n            <p>Change your {\"keyboard's\"} current OLED mode</p>\n            <OLEDSelectContainer>\n              <Select\n                value={OLED_OPTIONS.find(e => e.value === currOLEDMode)}\n                onChange={this.onOLEDChange}\n                options={OLED_OPTIONS}\n                menuPlacement=\"top\"\n              />\n            </OLEDSelectContainer>\n          </SectionContainer>\n          <SectionContainer>\n            <h3>Custom Encoder Configuration:</h3>\n            <p>Configure the behavior of encoder custom modes</p>\n            <CustomEncoderContainer>\n              <LabelText>CW</LabelText>\n              <LabelText>CCW</LabelText>\n              <LabelText>Press</LabelText>\n            </CustomEncoderContainer>\n            <EncoderCustomConfig\n              title=\"Custom 0\"\n              encoderIdx={0}\n              behaviors={encoderBehaviors[0]}\n              onChange={this.onEncoderCustomConfigChange}\n            />\n            <EncoderCustomConfig\n              title=\"Custom 1\"\n              encoderIdx={1}\n              behaviors={encoderBehaviors[1]}\n              onChange={this.onEncoderCustomConfigChange}\n            />\n            <EncoderCustomConfig\n              title=\"Custom 2\"\n              encoderIdx={2}\n              behaviors={encoderBehaviors[2]}\n              onChange={this.onEncoderCustomConfigChange}\n            />\n          </SectionContainer>\n        </MenuContainer>\n      );\n    }\n    return null;\n  }\n}\n\nconst ConnectedMenu = connect(mapStateToProps)(SatisfactionMenu);\nexport default ConnectedMenu;\n","import * as React from 'react';\n\nconst size = 16.187;\nconst SvgIcMemory24Px = props => (\n  <svg width={size} height={size} {...props}>\n    <path\n      d=\"M10.791 5.4H5.4v5.4h5.4zM8.991 9h-1.8V7.2h1.8zm7.194-1.8V5.4h-1.8V3.6a1.8 1.8 0 00-1.8-1.8h-1.8V0h-1.8v1.8h-1.8V0H5.4v1.8H3.6a1.8 1.8 0 00-1.8 1.8v1.8H0v1.8h1.8V9H0v1.8h1.8v1.8a1.8 1.8 0 001.8 1.8h1.8v1.8h1.8v-1.8H9v1.8h1.8v-1.8h1.8a1.8 1.8 0 001.8-1.8v-1.8h1.8V9h-1.8V7.2zm-3.6 5.4H3.6v-9h8.99z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport default SvgIcMemory24Px;\n","import Menu from './menu';\nimport CustomIcon from '../icon';\nexport const Pane = Menu;\nexport const Title = 'Custom Features';\nexport const Icon = CustomIcon;\n","import * as React from 'react';\nimport {AccentSlider} from '../../../inputs/accent-slider';\nimport {AccentSelect} from '../../../inputs/accent-select';\nimport {AccentRange} from '../../../inputs/accent-range';\nimport {ControlRow, Label, Detail} from '../../grid';\nimport {VIADefinitionV2, VIAItem, VIAControlItem} from 'via-reader';\nimport {LightingData} from '../../../../types';\nimport {ColorPicker} from '../../../inputs/color-picker';\n\ntype Props = {\n  lightingData: LightingData;\n  definition: VIADefinitionV2;\n};\n\nexport type ControlMeta = [\n  string | React.FC<AdvancedControlProps>,\n  {type: string} & Partial<{\n    min: number;\n    max: number;\n    getOptions: (d: VIADefinitionV2) => string[];\n  }>\n];\n\ntype AdvancedControlProps = Props & {meta: ControlMeta};\nconst AdvancedColorPicker = props => {\n  const {color, setColor} = props;\n  return (\n    <ColorPicker color={{hue: color[0], sat: color[1]}} setColor={setColor} />\n  );\n};\n\nexport const VIACustomItem = React.memo(\n  (props: VIAItem & {updateValue; value: number[]; _id: string}) => (\n    <ControlRow id={props._id}>\n      <Label>{props.label}</Label>\n      <Detail>\n        {'type' in props ? (\n          <VIACustomControl {...props} value={Array.from(props.value)} />\n        ) : (\n          props.content\n        )}\n      </Detail>\n    </ControlRow>\n  )\n);\n\ntype ControlGetSet = {\n  value: number[];\n  updateValue: (name: string, ...command: number[]) => void;\n};\n\ntype VIACustomControlProps = VIAControlItem & ControlGetSet;\n\nconst boxOrArr = elem => (Array.isArray(elem) ? elem : [elem]);\n\n// we can compare value against option[1], that way corrupted values are false\nconst valueIsChecked = (option: number | number[], value: number[]) =>\n  boxOrArr(option).every((o, i) => o == value[i]);\n\nexport const VIACustomControl = (props: VIACustomControlProps) => {\n  const {content, type, options, value} = props as any;\n  const [name, ...command] = content;\n  switch (type) {\n    case 'range': {\n      return (\n        <AccentRange\n          min={options[0]}\n          max={options[1]}\n          defaultValue={props.value[0]}\n          onChange={(val: number) => props.updateValue(name, ...command, val)}\n        />\n      );\n    }\n\n    case 'toggle': {\n      const toggleOptions: any[] = options || [0, 1];\n      return (\n        <AccentSlider\n          isChecked={valueIsChecked(toggleOptions[1], props.value)}\n          onChange={val =>\n            props.updateValue(\n              name,\n              ...command,\n              ...boxOrArr(toggleOptions[+val])\n            )\n          }\n        />\n      );\n    }\n    case 'dropdown': {\n      const selectOptions = options.map(([label, value], idx) => ({\n        value: value || idx,\n        label\n      }));\n      return (\n        <AccentSelect\n          width={250}\n          onChange={option => props.updateValue(name, ...command, option.value)}\n          options={selectOptions}\n          defaultValue={selectOptions.find(p => value[0] === p.value)}\n        />\n      );\n    }\n    case 'color': {\n      return (\n        <AdvancedColorPicker\n          color={props.value}\n          setColor={(hue, sat) => props.updateValue(name, ...command, hue, sat)}\n        />\n      );\n    }\n  }\n  return null;\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {OverflowCell, SubmenuCell, SubmenuRow} from '../../grid';\nimport {CenterPane} from '../../pane';\nimport {Component} from 'react';\nimport {\n  getSelectedDefinition,\n  getSelectedCustomMenuData,\n  updateCustomMenuValue\n} from '../../../../redux/modules/keymap';\nimport {connect} from 'react-redux';\nimport {RootState} from 'app/redux';\nimport {bindActionCreators} from 'redux';\nimport {title, component} from '../../../icons/lightbulb';\nimport {VIACustomItem} from './custom-control';\nimport CustomIcon from './icon';\nimport {evalExpr} from 'pelpi';\nimport {\n  VIADefinitionV2,\n  VIAMenu,\n  VIASubmenu,\n  VIASubmenuSlice,\n  VIAItem,\n  VIAItemSlice\n} from 'via-reader';\n\ntype Category = {\n  label: string;\n  Menu: React.FC;\n};\n\nconst CustomPane = styled(CenterPane)`\n  height: 100%;\n  background: var(--color_dark_grey);\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 12px;\n`;\n\ntype OwnProps = {\n  viaMenu: VIAMenu;\n};\n\ntype ReduxProps = {\n  selectedDefinition: VIADefinitionV2;\n};\ntype Props = ReduxProps & OwnProps;\n\ntype State = {\n  selectedCategory: Category | null;\n};\n\nfunction isItem(\n  elem: VIAMenu | VIAItem | VIAItemSlice | VIASubmenu | VIASubmenuSlice\n): boolean {\n  return 'type' in elem;\n}\n\nfunction isSlice(\n  elem: VIAMenu | VIAItem | VIAItemSlice | VIASubmenu | VIASubmenuSlice\n): boolean {\n  return !('label' in elem);\n}\n\nexport function categoryGenerator(props): Category[] {\n  return props.viaMenu.content.flatMap(menu => submenuGenerator(menu, props));\n}\n\nfunction itemGenerator(elem: TagWithId<VIAItem, VIAItemSlice>, props: any) {\n  if (\n    'showIf' in elem &&\n    !evalExpr(elem.showIf, props.selectedCustomMenuData)\n  ) {\n    return [];\n  }\n  if ('label' in elem) {\n    return {...elem, key: elem._id};\n  } else {\n    return elem.content.flatMap(e =>\n      itemGenerator(e as TagWithId<VIAItem, VIAItemSlice>, props)\n    );\n  }\n}\n\nconst MenuComponent = React.memo((props: any) => (\n  <>\n    {props.elem.content\n      .flatMap(elem => itemGenerator(elem, props))\n      .map(itemProps => (\n        <VIACustomItem\n          {...itemProps}\n          updateValue={props.updateCustomMenuValue}\n          value={props.selectedCustomMenuData[itemProps.content[0]]}\n        />\n      ))}\n  </>\n));\n\nconst MenuBuilder = elem => props => (\n  <MenuComponent {...props} key={elem._id} elem={elem} />\n);\n\nfunction submenuGenerator(\n  elem: TagWithId<VIASubmenu, VIASubmenuSlice>,\n  props: any\n) {\n  if (\n    'showIf' in elem &&\n    !evalExpr(elem.showIf, props.selectedCustomMenuData)\n  ) {\n    return [];\n  }\n  if ('label' in elem) {\n    return {\n      label: elem.label,\n      Menu: MenuBuilder(elem)\n    };\n  } else {\n    return elem.content.flatMap(e =>\n      submenuGenerator(e as TagWithId<VIASubmenu, VIASubmenuSlice>, props)\n    );\n  }\n}\n\nexport class CustomMenu extends Component<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedCategory: null\n    };\n  }\n\n  get menus() {\n    return categoryGenerator(this.props);\n  }\n\n  render() {\n    const selectedCategory = this.state.selectedCategory ||\n      this.menus[0] || {label: '', Menu: () => <div />};\n    const SelectedMenu = selectedCategory.Menu;\n    return (\n      <>\n        <SubmenuCell>\n          <MenuContainer>\n            {this.menus.map(menu => (\n              <SubmenuRow\n                selected={selectedCategory.label === menu.label}\n                onClick={_ => this.setState({selectedCategory: menu})}\n                key={menu.label}\n              >\n                {menu.label}\n              </SubmenuRow>\n            ))}\n          </MenuContainer>\n        </SubmenuCell>\n        <OverflowCell>\n          <CustomPane>\n            <Container>{SelectedMenu(this.props)}</Container>\n          </CustomPane>\n        </OverflowCell>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  selectedDefinition: getSelectedDefinition(state.keymap),\n  selectedCustomMenuData: getSelectedCustomMenuData(state.keymap)\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      updateCustomMenuValue\n    },\n    dispatch\n  );\n\nexport const Icon = component;\nexport const Title = title;\nexport const Pane = connect(mapStateToProps, mapDispatchToProps)(CustomMenu);\n\nexport type IdTag = {_id: string};\nexport type MapIntoArr<A, C> = A extends (infer B)[] ? (C & B)[] : any;\nexport type IntersectKey<A, B extends keyof A, C> = A &\n  {[K in B]: MapIntoArr<A[B], C>};\nexport type TagWithId<A, B extends {content: any}> =\n  | (IdTag & A)\n  | IntersectKey<B, 'content', IdTag>;\n\nexport const MenuContainer = styled.div`\n  padding: 15px 20px 20px 10px;\n`;\n\nexport type LabelProps = {\n  _type?: 'slice' | 'submenu' | 'menu';\n  _id?: string;\n  _renderIf?: (props: any) => boolean;\n  content: any;\n};\n\nexport function sliceLabeler(elem: any) {\n  //TODO\n  return elem;\n}\n\nexport function elemLabeler(elem: any, prefix: string = ''): any {\n  if (isItem(elem)) {\n    return {\n      ...elem,\n      ...(elem.showIf\n        ? {_renderIf: props => evalExpr(elem.showIf, props)}\n        : {}),\n      _id: prefix,\n      _type: 'item'\n    };\n  } else if (isSlice(elem)) {\n    return {\n      ...elem,\n      ...(elem.showIf\n        ? {_renderIf: props => evalExpr(elem.showIf, props)}\n        : {}),\n      _id: prefix,\n      _type: 'slice',\n      content: menuLabeler(elem.content, prefix)\n    };\n  } else {\n    return {\n      ...elem,\n      ...(elem.showIf\n        ? {_renderIf: props => evalExpr(elem.showIf, props)}\n        : {}),\n      _id: prefix,\n      _type: 'menu',\n      content: menuLabeler(elem.content, prefix)\n    };\n  }\n}\n\nexport function menuLabeler(menus: any, prefix: string = ''): any {\n  return menus.map((menu, idx) => elemLabeler(menu, `${prefix}-${idx}`));\n}\n\nexport function menuComponentGenerator(menus: any) {\n  const labeledMenus = menuLabeler(menus, 'cmenu');\n  return labeledMenus.map(menu => ({\n    Icon: component,\n    Title: title,\n    Pane: props => <Pane {...props} key={menu._id} viaMenu={menu} />\n  }));\n}\n\nexport const makeCustomMenus = (menus: VIAMenu[]) =>\n  menus.map((menu, idx) => ({\n    Title: menu.label,\n    // Allow icon to be configurable\n    Icon: CustomIcon,\n    Pane: props => (\n      <Pane {...props} key={`${menu.label}-${idx}`} viaMenu={menu} />\n    )\n  }));\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {\n  getSelectedLayerIndex,\n  getNumberOfLayers\n} from '../../../redux/modules/keymap';\nimport {actions} from '../../../redux/modules/keymap';\nimport {RootState} from '../../../redux';\nimport {connect} from 'react-redux';\n\ntype OwnProps = {};\n\nconst mapStateToProps = (state: RootState) => ({\n  numberOfLayers: getNumberOfLayers(state.keymap),\n  selectedLayerIndex: getSelectedLayerIndex(state.keymap)\n});\n\nconst mapDispatchToProps = {setLayer: actions.setLayer};\n\nconst Container = styled.div`\n  position: absolute;\n  left: 15px;\n  top: 10px;\n`;\nconst Label = styled.label`\n  font-size: 20px;\n  text-transform: uppercase;\n  color: var(--color_light-grey);\n  margin-right: 8px;\n`;\nconst LayerButton = styled.button`\n  outline: none;\n  font-variant-numeric: tabular-nums;\n  border: none;\n  background: ${props =>\n    props.selected ? 'var(--color_light-grey)' : 'transparent'};\n  color: ${props =>\n    props.selected ? 'var(--color_jet)' : 'var(--color_light-grey)'};\n  cursor: pointer;\n  font-size: 20px;\n  &:hover {\n    border: none;\n    background: ${props =>\n      props.selected ? 'var(--color_light-grey)' : 'var(--color_dark-grey)'};\n    color: ${props =>\n      props.selected ? 'var(--color_jet)' : 'var(--color_light-grey)'};\n  }\n`;\n\ntype Props = OwnProps &\n  ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps;\n\nexport class LayerControlComponent extends React.Component<Props> {\n  get minLayer() {\n    return 0;\n  }\n\n  get maxLayer() {\n    return this.props.numberOfLayers - 1;\n  }\n\n  render() {\n    const {selectedLayerIndex, setLayer, numberOfLayers} = this.props;\n\n    const Layers = new Array(numberOfLayers)\n      .fill(0)\n      .map((val, idx) => idx)\n      .map(layerLabel => (\n        <LayerButton\n          key={layerLabel}\n          selected={layerLabel === selectedLayerIndex}\n          onClick={() => setLayer(layerLabel)}\n        >\n          {layerLabel}\n        </LayerButton>\n      ));\n    return (\n      <Container>\n        <Label>Layer</Label>\n        {Layers}\n      </Container>\n    );\n  }\n}\n\nexport const LayerControl = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LayerControlComponent);\n","import * as React from 'react';\n\nconst SvgIcKeyboardArrowLeft24Px = props => (\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 6.175 10\" {...props}>\n    <path\n      d=\"M6.175 8.825L2.358 5l3.817-3.825L5 0 0 5l5 5z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport default SvgIcKeyboardArrowLeft24Px;\n","import * as React from 'react';\n\nconst SvgIcKeyboardArrowRight24Px = props => (\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 6.175 10\" {...props}>\n    <path d=\"M0 8.825L3.817 5 0 1.175 1.175 0l5 5-5 5z\" fill=\"currentColor\" />\n  </svg>\n);\n\nexport default SvgIcKeyboardArrowRight24Px;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {\n  getConnectedDevices,\n  getSelectedDefinition,\n  offsetKeyboard\n} from '../../../redux/modules/keymap';\nimport {actions} from '../../../redux/modules/keymap';\nimport {RootState} from '../../../redux';\nimport {connect} from 'react-redux';\nimport LeftArrow from '../../icons/left-arrow';\nimport RightArrow from '../../icons/right-arrow';\nimport {bindActionCreators} from 'redux';\n\ntype OwnProps = {};\n\nconst mapStateToProps = (state: RootState) => ({\n  selectedDefinition: getSelectedDefinition(state.keymap),\n  connectedDevices: getConnectedDevices(state.keymap)\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      offsetKeyboard,\n      setLayer: actions.setLayer\n    },\n    dispatch\n  );\n\nconst Container = styled.div`\n  position: absolute;\n  right: 15px;\n  top: 0px;\n  font-size: 18px;\n  overflow: hidden;\n`;\n\nconst SlideContainer = styled.div`\n  transition: 0.4s ease-out;\n  transform: translate3d(${props => (props.showButtons ? 0 : 66)}px, 0, 0);\n`;\n\nconst KeyboardTitle = styled.label`\n  display: inline-block;\n  background: var(--color_accent);\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px;\n  font-size: 18px;\n  text-transform: uppercase;\n  color: var(--color_light-grey);\n  padding: 0 10px;\n  margin-right: 10px;\n`;\n\nconst IconButton = styled.button`\n  border: 1px solid var(--color_dark-grey);\n  outline: none;\n  background: none;\n  padding: 0 8px;\n  vertical-align: top;\n  border-top: none;\n  cursor: pointer;\n  height: 26px;\n  color: var(--color-dark-grey);\n  &:active {\n    outline: none;\n  }\n\n  &:hover {\n    background: var(--color_medium-grey);\n  }\n`;\n\nconst LeftIconButton = styled(IconButton)`\n  border-bottom-left-radius: 6px;\n`;\n\nconst RightIconButton = styled(IconButton)`\n  margin-left: -1px;\n  border-bottom-right-radius: 6px;\n`;\n\ntype Props = OwnProps &\n  ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nexport class BadgeComponent extends React.Component<Props> {\n  render() {\n    const {connectedDevices, offsetKeyboard, selectedDefinition} = this.props;\n    const showPrevNext = Object.values(connectedDevices).length > 1;\n\n    return (\n      <Container>\n        <SlideContainer showButtons={showPrevNext}>\n          <KeyboardTitle>{selectedDefinition.name}</KeyboardTitle>\n          <LeftIconButton onClick={() => offsetKeyboard(-1)}>\n            <LeftArrow />\n          </LeftIconButton>\n          <RightIconButton onClick={() => offsetKeyboard(1)}>\n            <RightArrow />\n          </RightIconButton>\n        </SlideContainer>\n      </Container>\n    );\n  }\n}\n\nexport const Badge = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BadgeComponent);\n","import * as React from 'react';\nimport useResize from 'react-resize-observer-hook';\nimport styled from 'styled-components';\nimport ChippyLoader from '../chippy-loader';\nimport LoadingText from '../loading-text';\nimport {Pane as DefaultPane} from './pane';\nimport {connect} from 'react-redux';\nimport {RootState} from '../../redux';\nimport {\n  actions,\n  getLoadProgress,\n  getSelectedDefinition,\n  getSelectedProtocol,\n  getCustomMenus\n} from '../../redux/modules/keymap';\nimport * as ReactTooltip from 'react-tooltip';\nimport {CustomFeatures, getLightingDefinition} from 'via-reader';\nimport {ConnectedPositionedKeyboard} from '../positioned-keyboard';\nimport {Grid, Row, FlexCell, IconContainer, MenuCell} from './grid';\nimport * as Keycode from './configure-panes/keycode';\nimport * as Lighting from './configure-panes/lighting';\nimport * as Macros from './configure-panes/macros';\nimport * as SaveLoad from './configure-panes/save-load';\nimport * as Layouts from './configure-panes/layouts';\nimport * as RotaryEncoder from './configure-panes/custom/satisfaction75';\nimport {makeCustomMenus} from './configure-panes/custom/menu-generator';\nimport {LayerControl} from './configure-panes/layer-control';\nimport {Badge} from './configure-panes/badge';\ntype ReduxState = ReturnType<typeof mapStateToProps>;\n\ntype ReduxDispatch = typeof mapDispatchToProps;\n\ntype Props = ReduxState & ReduxDispatch;\n\nconst mapDispatchToProps = {clearSelectedKey: actions.clearSelectedKey};\nconst mapStateToProps = ({keymap, macros}: RootState) => ({\n  showMacros: macros.isFeatureSupported,\n  progress: getLoadProgress(keymap),\n  selectedDefinition: getSelectedDefinition(keymap),\n  selectedProtocol: getSelectedProtocol(keymap),\n  customMenus: getCustomMenus(keymap)\n});\n\nconst Pane = styled(DefaultPane)`\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n`;\n\nconst MenuContainer = styled.div`\n  padding: 15px 30px 20px 10px;\n`;\n\nconst Rows = [\n  Keycode,\n  Macros,\n  Layouts,\n  Lighting,\n  SaveLoad,\n  RotaryEncoder,\n  ...makeCustomMenus([])\n];\nfunction getCustomPanes(customFeatures: CustomFeatures[]) {\n  if (\n    customFeatures.find(feature => feature === CustomFeatures.RotaryEncoder)\n  ) {\n    return [RotaryEncoder];\n  }\n  return [];\n}\n\nfunction getRowsForKeyboard({\n  customMenus,\n  selectedDefinition,\n  showMacros,\n  selectedProtocol\n}): typeof Rows {\n  const {lighting, customFeatures, layouts} = selectedDefinition;\n  const {supportedLightingValues} = getLightingDefinition(lighting);\n  let titles: typeof Rows = [Keycode];\n  if (layouts.optionKeys && Object.entries(layouts.optionKeys).length !== 0) {\n    titles = [...titles, Layouts];\n  }\n  if (showMacros) {\n    titles = [...titles, Macros];\n  }\n  if (selectedProtocol <= 9 && supportedLightingValues.length !== 0) {\n    titles = [...titles, Lighting];\n  }\n  if (customFeatures) {\n    titles = [...titles, ...getCustomPanes(customFeatures)];\n  }\n  if (selectedProtocol >= 10 && customMenus) {\n    titles = [...titles, ...makeCustomMenus(customMenus)];\n  }\n\n  titles = [...titles, SaveLoad];\n  return titles;\n}\n\nfunction Loader(props: Props) {\n  return (\n    <>\n      <ChippyLoader progress={props.progress} />\n      <LoadingText isSearching={!props.selectedDefinition} />\n    </>\n  );\n}\n\nfunction ConfigurePane(props: Props) {\n  const showLoader = !props.selectedDefinition || props.progress !== 1;\n  return (\n    <Pane>\n      {showLoader ? <Loader {...props} /> : <ConfigureGrid {...props} />}\n    </Pane>\n  );\n}\nfunction ConfigureGrid(props: Props) {\n  const [selectedRow, setRow] = React.useState(0);\n  const KeyboardRows = React.useMemo(() => getRowsForKeyboard(props), [props]);\n  const SelectedPane = KeyboardRows[selectedRow].Pane;\n  const [dimensions, setDimensions] = React.useState({\n    width: 1280,\n    height: 900\n  });\n  const flexRef = React.useRef(null);\n  useResize(\n    flexRef,\n    entry =>\n      flexRef.current &&\n      setDimensions({\n        width: entry.width,\n        height: entry.height\n      })\n  );\n  return (\n    <Grid>\n      <MenuCell>\n        <MenuContainer>\n          {KeyboardRows.map((RowLabel, idx) => (\n            <Row\n              key={idx}\n              onClick={_ => setRow(idx)}\n              selected={selectedRow === idx}\n            >\n              <IconContainer>\n                <RowLabel.Icon />\n              </IconContainer>\n              {RowLabel.Title}\n            </Row>\n          ))}\n        </MenuContainer>\n      </MenuCell>\n\n      <FlexCell ref={flexRef} onClick={props.clearSelectedKey}>\n        <ConnectedPositionedKeyboard\n          containerDimensions={dimensions}\n          selectable={KeyboardRows[selectedRow].Title === 'Keymap'}\n        />\n        <ReactTooltip />\n        <LayerControl />\n        <Badge />\n      </FlexCell>\n      <SelectedPane />\n    </Grid>\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfigurePane);\n","import * as React from 'react';\nimport {AccentSlider} from './accent-slider';\nimport {basicKeyToByte} from '../../utils/key';\nconst SoundFont = require('soundfont-player');\nlet drums;\nlet square;\nlet pipe;\nlet ac;\nconst callOnce = fn => {\n  let called = false;\n  return (...args: any[]) => {\n    if (!called) {\n      called = true;\n      fn(...args);\n    }\n  };\n};\n\nconst loadInstruments = callOnce(() => {\n  ac = new AudioContext();\n  SoundFont.instrument(\n    new AudioContext(),\n    require('../../soundfont/acoustic_grand_piano-mp3.sfjs'),\n    {isSoundfontURL: () => true}\n  ).then(i => (drums = i));\n  SoundFont.instrument(\n    new AudioContext(),\n    require('../../soundfont/bright_acoustic_piano-mp3.sfjs'),\n    {isSoundfontURL: () => true}\n  ).then(i => (square = i));\n  SoundFont.instrument(\n    new AudioContext(),\n    require('../../soundfont/church_organ-mp3.sfjs'),\n    {isSoundfontURL: () => true}\n  ).then(i => (pipe = i));\n  console.info('Loading instruments');\n});\n\nexport const matrixKeycodes = [\n  // Row 0\n  basicKeyToByte.KC_ESC,\n  basicKeyToByte.KC_F1,\n  basicKeyToByte.KC_F2,\n  basicKeyToByte.KC_F3,\n  basicKeyToByte.KC_F4,\n  basicKeyToByte.KC_F5,\n  basicKeyToByte.KC_F6,\n  basicKeyToByte.KC_F7,\n  basicKeyToByte.KC_F8,\n  basicKeyToByte.KC_F9,\n  basicKeyToByte.KC_F10,\n  basicKeyToByte.KC_F11,\n  basicKeyToByte.KC_F12,\n  basicKeyToByte.KC_PSCR,\n  basicKeyToByte.KC_SLCK,\n  basicKeyToByte.KC_PAUS,\n  basicKeyToByte.KC_SLEP,\n  basicKeyToByte.KC_MUTE,\n  basicKeyToByte.KC_VOLD,\n  basicKeyToByte.KC_VOLU,\n  // Row 1\n  basicKeyToByte.KC_GRV,\n  basicKeyToByte.KC_1,\n  basicKeyToByte.KC_2,\n  basicKeyToByte.KC_3,\n  basicKeyToByte.KC_4,\n  basicKeyToByte.KC_5,\n  basicKeyToByte.KC_6,\n  basicKeyToByte.KC_7,\n  basicKeyToByte.KC_8,\n  basicKeyToByte.KC_9,\n  basicKeyToByte.KC_0,\n  basicKeyToByte.KC_MINS,\n  basicKeyToByte.KC_EQL,\n  basicKeyToByte.KC_BSPC,\n  basicKeyToByte.KC_INS,\n  basicKeyToByte.KC_HOME,\n  basicKeyToByte.KC_PGUP,\n  basicKeyToByte.KC_NLCK,\n  basicKeyToByte.KC_PSLS,\n  basicKeyToByte.KC_PAST,\n  basicKeyToByte.KC_PMNS,\n  // Row 2\n  basicKeyToByte.KC_TAB,\n  basicKeyToByte.KC_Q,\n  basicKeyToByte.KC_W,\n  basicKeyToByte.KC_E,\n  basicKeyToByte.KC_R,\n  basicKeyToByte.KC_T,\n  basicKeyToByte.KC_Y,\n  basicKeyToByte.KC_U,\n  basicKeyToByte.KC_I,\n  basicKeyToByte.KC_O,\n  basicKeyToByte.KC_P,\n  basicKeyToByte.KC_LBRC,\n  basicKeyToByte.KC_RBRC,\n  basicKeyToByte.KC_BSLS,\n  basicKeyToByte.KC_DEL,\n  basicKeyToByte.KC_END,\n  basicKeyToByte.KC_PGDN,\n  basicKeyToByte.KC_P7,\n  basicKeyToByte.KC_P8,\n  basicKeyToByte.KC_P9,\n  basicKeyToByte.KC_PPLS,\n  // Row 3\n  basicKeyToByte.KC_CAPS,\n  basicKeyToByte.KC_A,\n  basicKeyToByte.KC_S,\n  basicKeyToByte.KC_D,\n  basicKeyToByte.KC_F,\n  basicKeyToByte.KC_G,\n  basicKeyToByte.KC_H,\n  basicKeyToByte.KC_J,\n  basicKeyToByte.KC_K,\n  basicKeyToByte.KC_L,\n  basicKeyToByte.KC_SCLN,\n  basicKeyToByte.KC_QUOT,\n  basicKeyToByte.KC_ENT,\n  basicKeyToByte.KC_P4,\n  basicKeyToByte.KC_P5,\n  basicKeyToByte.KC_P6,\n  // Row 4\n  basicKeyToByte.KC_LSFT,\n  basicKeyToByte.KC_Z,\n  basicKeyToByte.KC_X,\n  basicKeyToByte.KC_C,\n  basicKeyToByte.KC_V,\n  basicKeyToByte.KC_B,\n  basicKeyToByte.KC_N,\n  basicKeyToByte.KC_M,\n  basicKeyToByte.KC_COMM,\n  basicKeyToByte.KC_DOT,\n  basicKeyToByte.KC_SLSH,\n  basicKeyToByte.KC_RSFT,\n  basicKeyToByte.KC_UP,\n  basicKeyToByte.KC_P1,\n  basicKeyToByte.KC_P2,\n  basicKeyToByte.KC_P3,\n  basicKeyToByte.KC_PENT,\n  // Row 5\n  basicKeyToByte.KC_LCTL,\n  basicKeyToByte.KC_LGUI,\n  basicKeyToByte.KC_LALT,\n  basicKeyToByte.KC_SPC,\n  basicKeyToByte.KC_RALT,\n  basicKeyToByte.KC_RGUI,\n  basicKeyToByte.KC_MENU,\n  basicKeyToByte.KC_RCTL,\n  basicKeyToByte.KC_LEFT,\n  basicKeyToByte.KC_DOWN,\n  basicKeyToByte.KC_RGHT,\n  basicKeyToByte.KC_P0,\n  basicKeyToByte.KC_PDOT\n];\n\nconst evtToKeyByte = {\n  Digit1: basicKeyToByte.KC_1,\n  Digit2: basicKeyToByte.KC_2,\n  Digit3: basicKeyToByte.KC_3,\n  Digit4: basicKeyToByte.KC_4,\n  Digit5: basicKeyToByte.KC_5,\n  Digit6: basicKeyToByte.KC_6,\n  Digit7: basicKeyToByte.KC_7,\n  Digit8: basicKeyToByte.KC_8,\n  Digit9: basicKeyToByte.KC_9,\n  Digit0: basicKeyToByte.KC_0,\n  KeyA: basicKeyToByte.KC_A,\n  KeyB: basicKeyToByte.KC_B,\n  KeyC: basicKeyToByte.KC_C,\n  KeyD: basicKeyToByte.KC_D,\n  KeyE: basicKeyToByte.KC_E,\n  KeyF: basicKeyToByte.KC_F,\n  KeyG: basicKeyToByte.KC_G,\n  KeyH: basicKeyToByte.KC_H,\n  KeyI: basicKeyToByte.KC_I,\n  KeyJ: basicKeyToByte.KC_J,\n  KeyK: basicKeyToByte.KC_K,\n  KeyL: basicKeyToByte.KC_L,\n  KeyM: basicKeyToByte.KC_M,\n  KeyN: basicKeyToByte.KC_N,\n  KeyO: basicKeyToByte.KC_O,\n  KeyP: basicKeyToByte.KC_P,\n  KeyQ: basicKeyToByte.KC_Q,\n  KeyR: basicKeyToByte.KC_R,\n  KeyS: basicKeyToByte.KC_S,\n  KeyT: basicKeyToByte.KC_T,\n  KeyU: basicKeyToByte.KC_U,\n  KeyV: basicKeyToByte.KC_V,\n  KeyW: basicKeyToByte.KC_W,\n  KeyX: basicKeyToByte.KC_X,\n  KeyY: basicKeyToByte.KC_Y,\n  KeyZ: basicKeyToByte.KC_Z,\n  Comma: basicKeyToByte.KC_COMM,\n  Period: basicKeyToByte.KC_DOT,\n  Semicolon: basicKeyToByte.KC_SCLN,\n  Quote: basicKeyToByte.KC_QUOT,\n  BracketLeft: basicKeyToByte.KC_LBRC,\n  BracketRight: basicKeyToByte.KC_RBRC,\n  Backspace: basicKeyToByte.KC_BSPC,\n  Backquote: basicKeyToByte.KC_GRV,\n  Slash: basicKeyToByte.KC_SLSH,\n  Backslash: basicKeyToByte.KC_BSLS,\n  Minus: basicKeyToByte.KC_MINS,\n  Equal: basicKeyToByte.KC_EQL,\n  IntlRo: basicKeyToByte.KC_RO,\n  IntlYen: basicKeyToByte.KC_JYEN,\n  AltLeft: basicKeyToByte.KC_LALT,\n  AltRight: basicKeyToByte.KC_RALT,\n  CapsLock: basicKeyToByte.KC_CAPS,\n  ControlLeft: basicKeyToByte.KC_LCTL,\n  ControlRight: basicKeyToByte.KC_RCTL,\n  MetaLeft: basicKeyToByte.KC_LGUI,\n  MetaRight: basicKeyToByte.KC_RGUI,\n  OSLeft: basicKeyToByte.KC_LGUI,\n  OSRight: basicKeyToByte.KC_RGUI,\n  ShiftLeft: basicKeyToByte.KC_LSFT,\n  ShiftRight: basicKeyToByte.KC_RSFT,\n  ContextMenu: basicKeyToByte.KC_APP,\n  Enter: basicKeyToByte.KC_ENT,\n  Space: basicKeyToByte.KC_SPC,\n  Tab: basicKeyToByte.KC_TAB,\n  Delete: basicKeyToByte.KC_DEL,\n  End: basicKeyToByte.KC_END,\n  Help: basicKeyToByte.KC_HELP,\n  Home: basicKeyToByte.KC_HOME,\n  Insert: basicKeyToByte.KC_INS,\n  PageDown: basicKeyToByte.KC_PGDN,\n  PageUp: basicKeyToByte.KC_PGUP,\n  ArrowDown: basicKeyToByte.KC_DOWN,\n  ArrowLeft: basicKeyToByte.KC_LEFT,\n  ArrowRight: basicKeyToByte.KC_RGHT,\n  ArrowUp: basicKeyToByte.KC_UP,\n  Escape: basicKeyToByte.KC_ESC,\n  PrintScreen: basicKeyToByte.KC_PSCR,\n  ScrollLock: basicKeyToByte.KC_SLCK,\n  AudioVolumeUp: basicKeyToByte.KC_VOLU,\n  AudioVolumeDown: basicKeyToByte.KC_VOLD,\n  AudioVolumeMute: basicKeyToByte.KC_MUTE,\n  Pause: basicKeyToByte.KC_PAUS,\n  F1: basicKeyToByte.KC_F1,\n  F2: basicKeyToByte.KC_F2,\n  F3: basicKeyToByte.KC_F3,\n  F4: basicKeyToByte.KC_F4,\n  F5: basicKeyToByte.KC_F5,\n  F6: basicKeyToByte.KC_F6,\n  F7: basicKeyToByte.KC_F7,\n  F8: basicKeyToByte.KC_F8,\n  F9: basicKeyToByte.KC_F9,\n  F10: basicKeyToByte.KC_F10,\n  F11: basicKeyToByte.KC_F11,\n  F12: basicKeyToByte.KC_F12,\n  F13: basicKeyToByte.KC_F13,\n  F14: basicKeyToByte.KC_F14,\n  F15: basicKeyToByte.KC_F15,\n  F16: basicKeyToByte.KC_F16,\n  F17: basicKeyToByte.KC_F17,\n  F18: basicKeyToByte.KC_F18,\n  F19: basicKeyToByte.KC_F19,\n  F20: basicKeyToByte.KC_F20,\n  F21: basicKeyToByte.KC_F21,\n  F22: basicKeyToByte.KC_F22,\n  F23: basicKeyToByte.KC_F23,\n  F24: basicKeyToByte.KC_F24,\n  NumLock: basicKeyToByte.KC_NLCK,\n  Numpad0: basicKeyToByte.KC_P0,\n  Numpad1: basicKeyToByte.KC_P1,\n  Numpad2: basicKeyToByte.KC_P2,\n  Numpad3: basicKeyToByte.KC_P3,\n  Numpad4: basicKeyToByte.KC_P4,\n  Numpad5: basicKeyToByte.KC_P5,\n  Numpad6: basicKeyToByte.KC_P6,\n  Numpad7: basicKeyToByte.KC_P7,\n  Numpad8: basicKeyToByte.KC_P8,\n  Numpad9: basicKeyToByte.KC_P9,\n  NumpadAdd: basicKeyToByte.KC_PPLS,\n  NumpadComma: basicKeyToByte.KC_COMM,\n  NumpadDecimal: basicKeyToByte.KC_PDOT,\n  NumpadDivide: basicKeyToByte.KC_PSLS,\n  NumpadEnter: basicKeyToByte.KC_PENT,\n  NumpadEqual: basicKeyToByte.KC_PEQL,\n  NumpadMultiply: basicKeyToByte.KC_PAST,\n  NumpadSubtract: basicKeyToByte.KC_PMNS\n};\n\nexport function getIndexByEvent(evt) {\n  const code = evt.code;\n  const byte = evtToKeyByte[code] || evtToKeyByte[evt.key];\n  if (byte) {\n    return matrixKeycodes.indexOf(byte);\n  }\n}\n\nconst codes = [\n  17,\n  18,\n  91,\n  32,\n  93,\n  18,\n  37,\n  40,\n  39,\n  16,\n  90,\n  88,\n  67,\n  86,\n  66,\n  78,\n  77,\n  188,\n  190,\n  191,\n  38,\n  17,\n  65,\n  83,\n  68,\n  70,\n  71,\n  72,\n  74,\n  75,\n  76,\n  186,\n  222,\n  13,\n  9,\n  81,\n  87,\n  69,\n  82,\n  84,\n  89,\n  85,\n  73,\n  79,\n  80,\n  219,\n  221,\n  220,\n  192,\n  49,\n  50,\n  51,\n  52,\n  53,\n  54,\n  55,\n  56,\n  57,\n  48,\n  189,\n  187,\n  8,\n  112,\n  113,\n  114,\n  115,\n  116,\n  117,\n  118,\n  119,\n  120,\n  121,\n  123\n];\n\nconst keyHandler = e => {\n  e.preventDefault();\n  const index = codes.indexOf(e.keyCode);\n  if (index < 10 && index > -1) {\n    drums.play(38 + index);\n  } else if (index >= 10) {\n    square.play(25 + index, ac.currentTime, {duration: 0.25});\n  } else {\n    pipe.play(25 + ~~(35 * Math.random()), ac.currentTime, {duration: 0.25});\n  }\n};\n\nexport function MusicalKeySlider(props) {\n  React.useEffect(() => {\n    loadInstruments();\n    return () => {\n      window.removeEventListener('keydown', keyHandler);\n    };\n  }, []);\n\n  return (\n    <>\n      <AccentSlider\n        {...props}\n        isChecked={false}\n        onChange={arg =>\n          arg\n            ? window.addEventListener('keydown', keyHandler)\n            : window.removeEventListener('keydown', keyHandler)\n        }\n      />\n    </>\n  );\n}\n","import * as React from 'react';\nimport {AccentButton} from '../accent-button';\nimport {KeycodeModal} from '../custom-keycode-modal';\nimport {PelpiInput} from './input';\n\nexport const PelpiKeycodeInput: React.FC<PelpiInput<{}>> = props => {\n  const [showModal, setShowModal] = React.useState(false);\n  const [, setKeycode] = React.useState();\n\n  // FIXME: Is this even used?\n  const onChange = React.useCallback(\n    (arg: number) => {\n      setKeycode(arg);\n      props.setValue(arg);\n    },\n    [props.setValue]\n  );\n\n  React.useEffect(() => {\n    setKeycode(props.value);\n  }, [props.value]);\n\n  return (\n    <>\n      <AccentButton onClick={() => setShowModal(true)}>\n        Show Keycode Input\n      </AccentButton>\n      {showModal && (\n        <KeycodeModal\n          onChange={onChange}\n          onConfirm={keycode => {\n            props.setValue(keycode);\n            setShowModal(false);\n          }}\n          onExit={() => setShowModal(false)}\n        />\n      )}\n    </>\n  );\n};\n","import * as React from 'react';\nimport { VIADefinitionV2 } from 'via-reader';\n\nimport {AccentSelect} from './inputs/accent-select';\nimport {AccentSlider} from './inputs/accent-slider';\n\nimport {\n  Detail,\n  IndentedControlRow,\n  Label,\n} from './panes/grid';\n\ninterface Props {\n  definition: VIADefinitionV2;\n  onLayoutChange: (newSelectedOptionKeys: number[]) => void;\n  RowComponent?: React.ComponentType\n};\n\nfunction Layouts({ definition, onLayoutChange, RowComponent = IndentedControlRow }: Props): JSX.Element {\n  const [selectedOptionKeys, setSelectedOptionKeys] = React.useState<number[]>([]);\n\n  React.useEffect(() => {\n    setSelectedOptionKeys(() => []);\n  }, [definition]);\n\n  React.useEffect(() => {\n    onLayoutChange(selectedOptionKeys);\n  }, [selectedOptionKeys]);\n\n  if (!definition.layouts.labels) {\n    return null;\n  }\n\n  const LayoutControls = definition.layouts.labels.map((label, layoutKey) => {\n    const optionKeys = definition.layouts.optionKeys[layoutKey];\n\n    // Multiple versions of this layout\n    if (Array.isArray(label)) {\n      const name = label[0];\n      const options = label.slice(1);\n\n      const selectElementOptions = options.map((option, optionIndex) => ({\n        label: option,\n        value: optionKeys[optionIndex]\n      }));\n\n      return (\n        <RowComponent key={name}>\n          <Label>{name}</Label>\n          <Detail>\n            <AccentSelect\n              onChange={(option) => {\n                const optionIndex = options.indexOf(option.label);\n\n                setSelectedOptionKeys(selectedOptions => {\n                  selectedOptions[layoutKey] = optionIndex;\n                  return [...selectedOptions];\n                });\n              }}\n              value={\n                selectedOptionKeys[layoutKey] ?\n                  selectElementOptions[selectedOptionKeys[layoutKey]] :\n                  selectElementOptions[0]\n              }\n              options={selectElementOptions}\n            />\n          </Detail>\n        </RowComponent>\n      );\n    } if (typeof label === \"string\") {\n      return (\n        <RowComponent key={label}>\n          <Label>{label}</Label>\n          <Detail>\n            <AccentSlider isChecked={Boolean(selectedOptionKeys[layoutKey])} onChange={isChecked => {\n              setSelectedOptionKeys(selectedOptions => {\n                selectedOptions[layoutKey] = Number(isChecked);\n                return [...selectedOptions];\n              });\n            }} />\n          </Detail>\n        </RowComponent>\n      );\n    } \n      return null;\n    \n  });\n\n  return (\n    <>\n      { LayoutControls }\n    </>\n  );\n};\n\nexport default Layouts;\n","import * as React from 'react';\nimport useResize from 'react-resize-observer-hook';\nimport {Pane} from './pane';\nimport styled from 'styled-components';\nimport {connect} from 'react-redux';\nimport {KeyboardAPI, KeyboardValue} from '../../utils/keyboard-api';\nimport {anyKeycodeToString} from '../../utils/advanced-keys';\nimport {MusicalKeySlider} from '../inputs/musical-key-slider';\nimport {AccentSelect} from '../inputs/accent-select';\nimport {AccentButton} from '../inputs/accent-button';\nimport {AccentSlider} from '../inputs/accent-slider';\nimport {ArrayColorPicker} from '../inputs/color-picker';\nimport {PelpiKeycodeInput} from '../inputs/pelpi/keycode-input';\nimport {BlankPositionedKeyboard, getNextKey} from '../positioned-keyboard';\nimport {\n  ConnectedDevices,\n  getDefinitions,\n  getCustomDefinitions,\n  getBaseDefinitions,\n  getSelectedAPI,\n  getConnectedDevices\n} from '../../redux/modules/keymap';\nimport {RootState} from 'app/redux';\nimport {\n  ControlRow,\n  Label,\n  SubLabel,\n  Detail,\n  IndentedControlRow,\n  OverflowCell,\n  FlexCell\n} from './grid';\nimport Layouts from '../Layouts';\nimport {VIADefinitionV2} from 'via-reader';\nimport {AccentRange} from '../inputs/accent-range';\n\ntype KeyboardDefinitionEntry = [string, VIADefinitionV2];\n\ntype ReduxState = {\n  allDefinitions: KeyboardDefinitionEntry[];\n  localDefinitions: KeyboardDefinitionEntry[];\n  remoteDefinitions: KeyboardDefinitionEntry[];\n  connectedDevices: ConnectedDevices;\n  api?: KeyboardAPI;\n};\n\ntype ReduxDispatch = {};\n\ntype Props = ReduxState & ReduxDispatch;\n\nconst mapDispatchToProps = {};\nconst mapStateToProps = ({keymap}: RootState) => ({\n  api: getSelectedAPI(keymap),\n  connectedDevices: getConnectedDevices(keymap),\n  allDefinitions: Object.entries(getDefinitions(keymap)),\n  remoteDefinitions: Object.entries(getBaseDefinitions(keymap)),\n  localDefinitions: Object.entries(getCustomDefinitions(keymap))\n});\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 12px;\n`;\n\nconst DebugPane = styled(Pane)`\n  height: 100%;\n  max-width: 100vw;\n\n  @media (min-width: 1200px) {\n    flex-direction: row;\n  }\n`;\n\nconst MenuPanel = styled(OverflowCell)`\n  flex: 1;\n  padding: 1rem;\n\n  @media (min-width: 1200px) {\n    border: 0 none;\n    border-left: 1px solid var(--color_dark-grey);\n    max-width: 33rem;\n    padding: 1.5rem;\n  }\n`;\n\nconst KeyboardPanel = styled(FlexCell)`\n  flex: 1;\n\n  @media (min-width: 1200px) {\n    border: 0 none;\n    box-sizing: border-box;\n    height: 100%;\n\n     {\n      /* order: 1; */\n    } // Uncomment to make panel on the left-side\n  }\n`;\n\nconst ControlGroup = styled.div`\n  margin-bottom: 0.75rem;\n  padding-bottom: 0.75rem;\n  width: 100%;\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n`;\n\nconst ControlGroupHeader = styled.div`\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0;\n  margin-bottom: 0.5rem;\n`;\n\nconst TestControls = () => {\n  const [isChecked, setIsChecked] = React.useState(true);\n  const [rangeVal, setRangeVal] = React.useState(0);\n  const [colorVal, setColorVal] = React.useState([0, 0]);\n  const [selectionVal, setSelectionVal] = React.useState(0);\n  const [keycode, setKeycode] = React.useState(0);\n  const selectOptions = [\n    {label: 'Option 1', value: 0},\n    {label: 'Option 2', value: 1}\n  ];\n\n  return (\n    <ControlGroup>\n      <ControlGroupHeader>Controls</ControlGroupHeader>\n      <ControlRow>\n        <Label>{keycode} / {anyKeycodeToString(keycode)}</Label>\n        <Detail>\n          <PelpiKeycodeInput value={keycode} setValue={setKeycode} meta={{}} />\n        </Detail>\n      </ControlRow>\n      <ControlRow>\n        <Label>\n          {colorVal[0]}, {colorVal[1]}\n        </Label>\n        <Detail>\n          <ArrayColorPicker\n            color={colorVal}\n            setColor={(hue, sat) => setColorVal([hue, sat])}\n          />\n        </Detail>\n      </ControlRow>\n      <ControlRow>\n        <Label>{rangeVal}</Label>\n        <Detail>\n          <AccentRange\n            max={100}\n            min={0}\n            defaultValue={rangeVal}\n            onChange={setRangeVal}\n          />\n        </Detail>\n      </ControlRow>\n      <ControlRow>\n        <Label>{+isChecked}</Label>\n        <Detail>\n          <AccentSlider isChecked={isChecked} onChange={setIsChecked} />\n        </Detail>\n      </ControlRow>\n      <ControlRow>\n        <Label>{+selectionVal}</Label>\n        <Detail>\n          <AccentSelect\n            defaultValue={selectOptions[selectionVal]}\n            options={selectOptions}\n            onChange={option => {\n              setSelectionVal(option.value);\n            }}\n          />\n        </Detail>\n      </ControlRow>\n    </ControlGroup>\n  );\n};\n\nfunction Debug(props: Props) {\n  const {\n    api,\n    allDefinitions,\n    connectedDevices,\n    remoteDefinitions,\n    localDefinitions\n  } = props;\n  const [selectedDefinitionIndex, setSelectedDefinition] = React.useState(0);\n  const [selectedOptionKeys, setSelectedOptionKeys] = React.useState<number[]>(\n    []\n  );\n  const [selectedKey, setSelectedKey] = React.useState(0);\n  const [showMatrix, setShowMatrix] = React.useState(false);\n  const [dimensions, setDimensions] = React.useState({\n    width: 1280,\n    height: 900\n  });\n\n  const options = allDefinitions.map(([, definition], index) => ({\n    label: definition.name,\n    value: index\n  }));\n  const entry = allDefinitions[selectedDefinitionIndex];\n\n  const flexRef = React.useRef(null);\n  useResize(\n    flexRef,\n    entry =>\n      flexRef.current &&\n      setDimensions({\n        width: entry.width,\n        height: entry.height\n      })\n  );\n\n  return (\n    <DebugPane>\n      <KeyboardPanel ref={flexRef}>\n        {entry && (\n          <BlankPositionedKeyboard\n            containerDimensions={dimensions}\n            selectedDefinition={entry[1]}\n            showMatrix={showMatrix}\n            selectedOptionKeys={selectedOptionKeys}\n            selectedKey={selectedKey}\n          />\n        )}\n      </KeyboardPanel>\n      <MenuPanel>\n        <Container>\n          <ControlGroup>\n            <ControlGroupHeader>Key Testing</ControlGroupHeader>\n            <ControlRow>\n              <Label>Key sounds</Label>\n              <Detail>\n                <MusicalKeySlider />\n              </Detail>\n            </ControlRow>\n            <ControlRow>\n              <Label>Show Matrix</Label>\n              <Detail>\n                <AccentSlider\n                  isChecked={showMatrix}\n                  onChange={val => setShowMatrix(val)}\n                />\n              </Detail>\n            </ControlRow>\n            <ControlRow>\n              <Label>Set next key</Label>\n              <Detail>\n                <AccentButton\n                  onClick={() => {\n                    const {keys, optionKeys} = entry[1].layouts;\n                    const selectedOptionKeys = optionKeys\n                      ? Object.entries(optionKeys).flatMap(\n                          ([key, options]) => options[0]\n                        )\n                      : [];\n                    const displayedKeys = [...keys, ...selectedOptionKeys];\n                    setSelectedKey(getNextKey(selectedKey, displayedKeys));\n                  }}\n                >\n                  Next\n                </AccentButton>\n              </Detail>\n            </ControlRow>\n          </ControlGroup>\n          <ControlGroup>\n            <ControlGroupHeader>Layout Testing</ControlGroupHeader>\n            <ControlRow>\n              <Label>Displayed Dummy Keyboard</Label>\n              <Detail>\n                <AccentSelect\n                  onChange={option => setSelectedDefinition(+option.value)}\n                  defaultValue={options[0]}\n                  options={options}\n                />\n              </Detail>\n            </ControlRow>\n          </ControlGroup>\n          {entry && (\n            <Layouts\n              definition={entry[1]}\n              onLayoutChange={newSelectedOptionKeys => {\n                setSelectedOptionKeys(newSelectedOptionKeys);\n              }}\n            />\n          )}\n          {api && (\n            <ControlGroup>\n              <ControlGroupHeader>\n                Connected Device Debugging\n              </ControlGroupHeader>\n              <ControlRow>\n                <Label>EEPROM Reset</Label>\n                <Detail>\n                  <AccentButton onClick={() => api.resetEEPROM()}>\n                    Reset\n                  </AccentButton>\n                </Detail>\n              </ControlRow>\n              <ControlRow>\n                <Label>Bootloader Jump</Label>\n                <Detail>\n                  <AccentButton onClick={() => api.jumpToBootloader()}>\n                    Jump\n                  </AccentButton>\n                </Detail>\n              </ControlRow>\n              <ControlRow>\n                <Label>Clear all macros</Label>\n                <Detail>\n                  <AccentButton onClick={() => api.resetMacros()}>\n                    Clear\n                  </AccentButton>\n                </Detail>\n              </ControlRow>\n              <ControlRow>\n                <Label>Benchmark Switch State Query Speed</Label>\n                <Detail>\n                  <AccentButton\n                    onClick={async () => {\n                      const start = performance.now();\n                      await Array(1000)\n                        .fill(0)\n                        .map(_ =>\n                          api.getKeyboardValue(\n                            KeyboardValue.SWITCH_MATRIX_STATE,\n                            20\n                          )\n                        );\n                      console.info(\n                        '1000 commands in ',\n                        performance.now() - start,\n                        'ms'\n                      );\n                    }}\n                  >\n                    Benchmark\n                  </AccentButton>\n                </Detail>\n              </ControlRow>\n            </ControlGroup>\n          )}\n          <ControlGroup>\n            <ControlGroupHeader>Device IDs</ControlGroupHeader>\n            <ControlRow>\n              <Label>Connected Devices</Label>\n              <Detail>{Object.values(connectedDevices).length} Devices</Detail>\n            </ControlRow>\n            {Object.values(connectedDevices).map(device => (\n              <IndentedControlRow key={device.device.path}>\n                <SubLabel>\n                  {\n                    allDefinitions.find(\n                      ([id]) => id === device.vendorProductId.toString()\n                    )[1].name\n                  }\n                </SubLabel>\n                <Detail>\n                  0x{device.vendorProductId.toString(16).toUpperCase()}\n                </Detail>\n              </IndentedControlRow>\n            ))}\n            <ControlRow>\n              <Label>Local definitions</Label>\n              <Detail>\n                {Object.values(localDefinitions).length} Definitions\n              </Detail>\n            </ControlRow>\n            {Object.values(localDefinitions).map(([id, definition]) => (\n              <IndentedControlRow key={id}>\n                <SubLabel>{definition.name}</SubLabel>\n                <Detail>\n                  0x\n                  {parseInt(id)\n                    .toString(16)\n                    .toUpperCase()}\n                </Detail>\n              </IndentedControlRow>\n            ))}\n            <ControlRow>\n              <details>\n                <summary>\n                  <Label>Remote definitions</Label>\n                  <Detail>\n                    {Object.values(remoteDefinitions).length} Definitions\n                  </Detail>\n                </summary>\n                {Object.values(remoteDefinitions).map(([id, definition]) => (\n                  <IndentedControlRow>\n                    <SubLabel>{definition.name}</SubLabel>\n                    <Detail>\n                      0x\n                      {parseInt(id)\n                        .toString(16)\n                        .toUpperCase()}\n                    </Detail>\n                  </IndentedControlRow>\n                ))}\n              </details>\n            </ControlRow>\n          </ControlGroup>\n          <TestControls />\n        </Container>\n      </MenuPanel>\n    </DebugPane>\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Debug);\n","import * as React from 'react';\nimport {bindActionCreators} from 'redux';\nimport useResize from 'react-resize-observer-hook';\nimport {Pane} from './pane';\nimport styled from 'styled-components';\nimport {ErrorMessage} from '../styled';\nimport {connect} from 'react-redux';\nimport {AccentSelect} from '../inputs/accent-select';\nimport {AccentSlider} from '../inputs/accent-slider';\nimport {AccentUploadButton} from '../inputs/accent-upload-button';\nimport Layouts from '../Layouts';\nimport {\n  keyboardDefinitionV2ToVIADefinitionV2,\n  isVIADefinitionV2,\n  isKeyboardDefinitionV2\n} from 'via-reader';\nimport {BlankPositionedKeyboard} from '../positioned-keyboard';\nimport {\n  getDefinitions,\n  getCustomDefinitions,\n  getBaseDefinitions,\n  getSelectedAPI,\n  getConnectedDevices,\n  reloadConnectedDevices,\n  actions\n} from '../../redux/modules/keymap';\nimport {RootState} from 'app/redux';\nimport {\n  ControlRow,\n  Label,\n  SubLabel,\n  Detail,\n  IndentedControlRow,\n  OverflowCell,\n  FlexCell\n} from './grid';\nimport {\n  getDevicesUsingDefinitions,\n  getVendorProductId\n} from '../../utils/hid-keyboards';\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      loadDefinition: actions.loadDefinition,\n      validateDevices: actions.validateDevices,\n      selectDevice: actions.selectDevice,\n      reloadConnectedDevices\n    },\n    dispatch\n  );\n\nconst mapStateToProps = ({keymap}: RootState) => ({\n  api: getSelectedAPI(keymap),\n  connectedDevices: getConnectedDevices(keymap),\n  allDefinitions: getDefinitions(keymap),\n  remoteDefinitions: Object.entries(getBaseDefinitions(keymap)),\n  localDefinitions: Object.entries(getCustomDefinitions(keymap))\n});\n\nconst DesignErrorMessage = styled(ErrorMessage)`\n  margin: 0;\n  font-style: italic;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 12px;\n`;\n\nconst DesignPane = styled(Pane)`\n  display: grid;\n  max-width: 100vw;\n  grid-template-columns: 100vw;\n  grid-template-rows: min-content;\n`;\n\nconst UploadIcon = styled.div`\n  height: 200px;\n  width: 50%;\n  max-width: 560px;\n  border-radius: 6px;\n  animation-duration: 1.5s;\n  animation-name: border-glow;\n  animation-iteration-count: infinite;\n  animation-direction: alternate;\n  animation-timing-function: ease-in-out;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  i {\n    color: transparent;\n    animation-duration: 1.5s;\n    animation-name: text-glow;\n    animation-iteration-count: infinite;\n    animation-direction: alternate;\n    animation-timing-function: ease-in-out;\n    font-size: 100px;\n  }\n`;\n\nfunction importDefinition(\n  props: Props,\n  file: File,\n  setErrors: (errors: string[]) => void\n) {\n  const reader = new FileReader();\n  reader.onload = async () => {\n    let res;\n    try {\n      res = JSON.parse(reader.result.toString());\n      const isValid = isKeyboardDefinitionV2(res) || isVIADefinitionV2(res);\n      if (isValid) {\n        setErrors([]);\n        const definition = isVIADefinitionV2(res)\n          ? res\n          : keyboardDefinitionV2ToVIADefinitionV2(res);\n        props.loadDefinition(definition);\n        const keyboards = getDevicesUsingDefinitions(props.allDefinitions);\n        props.validateDevices(\n          keyboards.filter(\n            device =>\n              res.vendorProductId !==\n              getVendorProductId(device.vendorId, device.productId)\n          )\n        );\n        props.selectDevice(null);\n        props.reloadConnectedDevices();\n      } else {\n        setErrors(\n          (isKeyboardDefinitionV2.errors || isVIADefinitionV2.errors).map(\n            e => `${e.dataPath ? e.dataPath + ': ' : 'Object: '}${e.message}`\n          )\n        );\n      }\n    } catch (err) {\n      setErrors([`${err.name}: ${err.message}`]);\n    }\n  };\n  reader.readAsBinaryString(file);\n}\nfunction onDrop(evt, props: Props, setErrors: (errors: string[]) => void) {\n  evt.preventDefault();\n  if (evt.dataTransfer.items) {\n    // Use DataTransferItemList interface to access the file(s)\n    for (var i = 0; i < evt.dataTransfer.items.length; i++) {\n      // If dropped items aren't files, reject them\n      if (\n        evt.dataTransfer.items[i].kind === 'file' &&\n        evt.dataTransfer.items[i].type === 'application/json'\n      ) {\n        var file = evt.dataTransfer.items[i].getAsFile();\n        importDefinition(props, file, setErrors);\n      }\n    }\n  }\n}\n\nfunction DesignTab(props: Props) {\n  const {localDefinitions} = props;\n  const [selectedDefinitionIndex, setSelectedDefinition] = React.useState(0);\n  const [selectedOptionKeys, setSelectedOptionKeys] = React.useState<number[]>(\n    []\n  );\n  const [showMatrix, setShowMatrix] = React.useState(false);\n  const [errors, setErrors] = React.useState([]);\n  const [dimensions, setDimensions] = React.useState({\n    width: 1280,\n    height: 900\n  });\n\n  const options = localDefinitions.map(([, definition], index) => ({\n    label: definition.name,\n    value: index\n  }));\n\n  const flexRef = React.useRef(null);\n  useResize(\n    flexRef,\n    entry =>\n      flexRef.current &&\n      setDimensions({\n        width: entry.width,\n        height: entry.height\n      })\n  );\n  const entry = localDefinitions[selectedDefinitionIndex];\n\n  return (\n    <DesignPane\n      onDragOver={evt => {\n        evt.dataTransfer.effectAllowed = 'copyMove';\n        evt.dataTransfer.dropEffect = 'none';\n        evt.preventDefault();\n        evt.stopPropagation();\n      }}\n    >\n      <FlexCell ref={flexRef}>\n        {entry ? (\n          <BlankPositionedKeyboard\n            containerDimensions={dimensions}\n            selectedDefinition={entry[1]}\n            selectedOptionKeys={selectedOptionKeys}\n            showMatrix={showMatrix}\n          />\n        ) : (\n          <UploadIcon\n            onDrop={evt => onDrop(evt, props, setErrors)}\n            onDragOver={evt => {\n              evt.dataTransfer.effectAllowed = 'copyMove';\n              evt.dataTransfer.dropEffect = 'copy';\n              evt.preventDefault();\n              evt.stopPropagation();\n            }}\n          >\n            <i className=\"fas fa-upload\"></i>\n          </UploadIcon>\n        )}\n      </FlexCell>\n      <OverflowCell>\n        <Container>\n          <ControlRow>\n            <Label>Load Draft Definition</Label>\n            <Detail>\n              <AccentUploadButton\n                onLoad={file => importDefinition(props, file, setErrors)}\n              >\n                Load\n              </AccentUploadButton>\n            </Detail>\n          </ControlRow>\n          {entry && (\n            <ControlRow>\n              <Label>Shown Keyboard Definition</Label>\n              <Detail>\n                <AccentSelect\n                  onChange={option => {\n                    // Reset selected layouts when choosing a different\n                    // definition\n                    setSelectedOptionKeys(() => []);\n\n                    setSelectedDefinition(+option.value);\n                  }}\n                  value={options[selectedDefinitionIndex]}\n                  options={options}\n                />\n              </Detail>\n            </ControlRow>\n          )}\n          {entry && (\n            <Layouts\n              definition={entry[1]}\n              onLayoutChange={newSelectedOptionKeys => {\n                setSelectedOptionKeys(newSelectedOptionKeys);\n              }}\n            />\n          )}\n          {entry && (\n            <ControlRow>\n              <Label>Show Matrix</Label>\n              <Detail>\n                <AccentSlider isChecked={showMatrix} onChange={setShowMatrix} />\n              </Detail>\n            </ControlRow>\n          )}\n          {errors.map(error => (\n            <IndentedControlRow>\n              <DesignErrorMessage>{error}</DesignErrorMessage>\n            </IndentedControlRow>\n          ))}\n          <ControlRow>\n            <Label>Draft Definitions</Label>\n            <Detail>\n              {Object.values(localDefinitions).length} Definitions\n            </Detail>\n          </ControlRow>\n          {Object.values(localDefinitions).map(([id, definition]) => (\n            <IndentedControlRow>\n              <SubLabel>{definition.name}</SubLabel>\n              <Detail>\n                0x\n                {parseInt(id)\n                  .toString(16)\n                  .toUpperCase()}\n              </Detail>\n            </IndentedControlRow>\n          ))}\n        </Container>\n      </OverflowCell>\n    </DesignPane>\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DesignTab);\n","import {\n  createReducer,\n  createStandardAction,\n  ActionType\n} from 'typesafe-actions';\nimport {getSettings, setSettings, Settings} from '../../utils/device-store';\n\n// Actions\nexport const actions = {\n  toggleKeyRemappingViaKeyboard: createStandardAction(\n    'via/settings/TOGGLE_KEY_REMAPPING_VIA_KB'\n  )(),\n  toggleFastRemap: createStandardAction('via/settings/TOGGLE_FAST_REMAP')(),\n  toggleHardwareAcceleration: createStandardAction(\n    'via/settings/TOGGLE_HARDWARE_ACCELERATION'\n  )(),\n  setTestMatrixEnabled: createStandardAction('via/settings/TOGGLE_TEST_MATRIX')<\n    boolean\n  >(),\n  toggleCreatorMode: createStandardAction('via/settings/TOGGLE_CREATOR_MODE')(),\n  requireRestart: createStandardAction('via/settings/REQUIRE_RESTART')()\n};\n\ntype Actions = ActionType<typeof actions>;\ntype ActionHandler = (state: State, action: Actions) => State;\n\nconst saveToDisk: (fn: ActionHandler) => ActionHandler = fn => (\n  state: State,\n  action\n) => {\n  const newState = fn(state, action);\n  setSettings(newState);\n  return newState;\n};\n\n// State\nexport type SettingsState = {\n  isTestMatrixEnabled: boolean;\n  requireRestart: boolean;\n};\nexport type State = Readonly<Settings & SettingsState>;\nconst initialState: Settings & SettingsState = {\n  ...getSettings(),\n  isTestMatrixEnabled: false,\n  requireRestart: false\n};\n\n// Reducer\nexport const settingsReducer = createReducer<State, Actions>(initialState)\n  .handleAction(\n    actions.toggleKeyRemappingViaKeyboard,\n    saveToDisk(state => ({\n      ...state,\n      allowKeyboardKeyRemapping: !state.allowKeyboardKeyRemapping\n    }))\n  )\n  .handleAction(\n    actions.toggleFastRemap,\n    saveToDisk(state => ({\n      ...state,\n      disableFastRemap: !state.disableFastRemap\n    }))\n  )\n  .handleAction(\n    actions.toggleHardwareAcceleration,\n    saveToDisk(state => ({\n      ...state,\n      disableHardwareAcceleration: !state.disableHardwareAcceleration\n    }))\n  )\n  .handleAction(\n    actions.toggleCreatorMode,\n    saveToDisk(state => ({\n      ...state,\n      showDesignTab: !state.showDesignTab\n    }))\n  )\n  .handleAction(actions.setTestMatrixEnabled, (state, action) => ({\n    ...state,\n    isTestMatrixEnabled: action.payload\n  }))\n  .handleAction(\n    actions.requireRestart,\n    saveToDisk(state => ({\n      ...state,\n      requireRestart: true\n    }))\n  );\n","import * as React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {Pane} from './pane';\nimport styled from 'styled-components';\nimport {connect} from 'react-redux';\nimport {ControlRow, Label, Detail, OverflowCell} from './grid';\nimport {AccentSlider} from '../inputs/accent-slider';\nimport {RootState} from '../../redux';\nimport {actions as SettingsActions} from '../../redux/modules/settings';\nimport {ErrorMessage} from '../styled';\n\nconst RestartMessage = styled(ErrorMessage)`\n  margin: 0;\n  font-size: 20px;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 12px;\n`;\n\nconst DebugPane = styled(Pane)`\n  display: grid;\n  max-width: 100vw;\n  grid-template-columns: 100vw;\n`;\n\nconst version = require('../../../package.json').version;\ntype Props = ReturnType<typeof mapDispatchToProps> &\n  ReturnType<typeof mapStateToProps>;\nfunction Settings(props: Props) {\n  return (\n    <DebugPane>\n      <OverflowCell>\n        <Container>\n          <ControlRow>\n            <Label>VIA Version</Label>\n            <Detail>{version}</Detail>\n          </ControlRow>\n          <ControlRow>\n            <Label>Show Design tab</Label>\n            <Detail>\n              <AccentSlider\n                onChange={props.toggleCreatorMode}\n                isChecked={props.showDesignTab}\n              />\n            </Detail>\n          </ControlRow>\n          <ControlRow>\n            <Label>Fast Key Mapping</Label>\n            <Detail>\n              <AccentSlider\n                onChange={props.toggleFastRemap}\n                isChecked={!props.disableFastRemap}\n              />\n            </Detail>\n          </ControlRow>\n          <ControlRow>\n            <Label>Hardware Acceleration</Label>\n            <Detail>\n              <AccentSlider\n                onChange={() => {\n                  props.toggleHardwareAcceleration();\n                  props.setRequireRestart();\n                }}\n                isChecked={!props.disableHardwareAcceleration}\n              />\n            </Detail>\n          </ControlRow>\n          <ControlRow>\n            <Label>Allow remapping via keyboard</Label>\n            <Detail>\n              <AccentSlider\n                onChange={props.toggleKeyRemappingViaKeyboard}\n                isChecked={props.allowKeyRemappingViaKeyboard}\n              />\n            </Detail>\n          </ControlRow>\n          {props.requireRestart && (\n            <ControlRow>\n              <RestartMessage>\n                VIA requires a restart to finish applying your changes.\n              </RestartMessage>\n            </ControlRow>\n          )}\n        </Container>\n      </OverflowCell>\n    </DebugPane>\n  );\n}\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    allowKeyRemappingViaKeyboard: state.settings.allowKeyboardKeyRemapping,\n    showDesignTab: state.settings.showDesignTab,\n    disableFastRemap: state.settings.disableFastRemap,\n    disableHardwareAcceleration: state.settings.disableHardwareAcceleration,\n    requireRestart: state.settings.requireRestart\n  };\n}\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      toggleKeyRemappingViaKeyboard:\n        SettingsActions.toggleKeyRemappingViaKeyboard,\n      toggleCreatorMode: SettingsActions.toggleCreatorMode,\n      toggleFastRemap: SettingsActions.toggleFastRemap,\n      toggleHardwareAcceleration: SettingsActions.toggleHardwareAcceleration,\n      setRequireRestart: SettingsActions.requireRestart\n    },\n    dispatch\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {\n  chooseInnerKey,\n  chooseInnerKeyContainer,\n  CSSVarObject,\n  getDarkenedColor,\n  OuterKey,\n  getLabel,\n  getLegends,\n  OuterSecondaryKey,\n  getKeyContainerPosition,\n  RotationContainer,\n  BlankKeyboardFrame\n} from './positioned-keyboard';\nimport {VIAKey} from 'via-reader';\n\nexport enum TestKeyState {\n  Initial,\n  KeyDown,\n  KeyUp\n}\n\nconst TestKey = React.memo(\n  ({\n    x,\n    y,\n    w,\n    h,\n    c,\n    t,\n    id,\n    h2,\n    w2,\n    x2,\n    y2,\n    keyState = TestKeyState.Initial,\n    centerLabel = undefined,\n    topLabel = undefined,\n    bottomLabel = undefined,\n    label = undefined,\n    r = 0,\n    rx = 0,\n    ry = 0,\n    onClick\n  }: any) => {\n    const isSmall = topLabel !== undefined || centerLabel !== undefined;\n    const ChosenInnerKeyContainer = chooseInnerKeyContainer({\n      topLabel,\n      centerLabel\n    });\n    const ChosenInnerKey = chooseInnerKey({topLabel, centerLabel});\n    const legends = isSmall && !centerLabel ? [topLabel, bottomLabel] : [label];\n    const hasSecondKey = [h2, w2].every(i => i !== undefined);\n\n    return (\n      <RotationContainer selected={false} r={r} rx={rx} ry={ry}>\n        <TestKeyContainer\n          keyState={keyState}\n          w={w}\n          h={h}\n          x={x}\n          y={y}\n          onClick={onClick}\n          id={id}\n          style={getKeyContainerTransform({keyState, x, y, w, h})}\n        >\n          {hasSecondKey ? (\n            <>\n              <OuterSecondaryKey\n                backgroundColor={getDarkenedColor(c)}\n                style={getKeyContainerPosition({\n                  w: w2,\n                  x: x2 || 0,\n                  y: y2 || 0,\n                  h: h2\n                })}\n              >\n                <ChosenInnerKey backgroundColor={c}>\n                  <ChosenInnerKeyContainer></ChosenInnerKeyContainer>\n                </ChosenInnerKey>\n              </OuterSecondaryKey>\n            </>\n          ) : null}\n          <OuterKey backgroundColor={getDarkenedColor(c)}>\n            <ChosenInnerKey\n              backgroundColor={c}\n              style={hasSecondKey ? {transform: 'rotateZ(0)'} : {}}\n            >\n              <ChosenInnerKeyContainer>\n                {getLegends(legends, t)}\n              </ChosenInnerKeyContainer>\n            </ChosenInnerKey>\n          </OuterKey>\n        </TestKeyContainer>\n      </RotationContainer>\n    );\n  }\n);\n\nconst testKeyColor = {\n  c: '#ad7070',\n  t: '#d9d9d9'\n};\n\nexport const TestKeyboard = (props: any) => {\n  const macros = {expressions: [], isFeatureSupported: false};\n  const {\n    pressedKeys,\n    keys,\n    containerDimensions,\n    matrixKeycodes,\n    definition\n  } = props;\n  const {width, height} = definition.layouts;\n  return (\n    <div>\n      <BlankKeyboardFrame\n        containerDimensions={containerDimensions}\n        width={width}\n        height={height}\n        selectable={false}\n      >\n        {(keys as VIAKey[]).map((k, index) => {\n          return (\n            <TestKey\n              {...{\n                ...k,\n                ...getLabel(matrixKeycodes[index], k.w, macros, null),\n                ...testKeyColor,\n                keyState: pressedKeys[index],\n                id: index,\n                key: index\n              }}\n            />\n          );\n        })}\n      </BlankKeyboardFrame>\n    </div>\n  );\n};\n\nconst getKeyContainerTransform = ({keyState, x, y, w, h}) => ({\n  transform: `translate(${CSSVarObject.keyXPos * x}px, ${CSSVarObject.keyYPos *\n    y +\n    (keyState !== TestKeyState.KeyDown ? 0 : 1) * 2}px)`,\n  width: `${CSSVarObject.keyXPos * w - CSSVarObject.keyXSpacing}px`,\n  height: `${CSSVarObject.keyYPos * h - CSSVarObject.keyYSpacing}px`,\n  filter: keyState !== TestKeyState.Initial ? 'saturate(1)' : 'saturate(0)',\n  opacity: keyState === TestKeyState.KeyUp ? 1 : 0.4\n});\nconst TestKeyContainer = styled.div`\n  position: absolute;\n  box-sizing: border-box;\n  transition: transform 0.2s ease-out;\n  user-select: none;\n  transition: all 0.2s ease-out;\n`;\n","import * as React from 'react';\nconst fullKeyboardDefinition = require('../../utils/test-keyboard-definition.json');\nconst {useState, useEffect} = React;\nimport useResize from 'react-resize-observer-hook';\nimport {Pane} from './pane';\nimport styled from 'styled-components';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {PROTOCOL_GAMMA, KeyboardValue} from '../../utils/keyboard-api';\nimport {TestKeyboard, TestKeyState} from '../test-keyboard';\nimport {\n  MusicalKeySlider,\n  matrixKeycodes,\n  getIndexByEvent\n} from '../inputs/musical-key-slider';\nimport {\n  getDefinitions,\n  getCustomDefinitions,\n  getBaseDefinitions,\n  getSelectedAPI,\n  getConnectedDevices,\n  getSelectedDefinition,\n  getSelectedKeyDefinitions,\n  getSelectedConnectedDevice\n} from '../../redux/modules/keymap';\nimport {actions as SettingsActions} from '../../redux/modules/settings';\nimport {RootState} from 'app/redux';\nimport {\n  ControlRow,\n  Label,\n  Detail,\n  OverflowCell,\n  FlexCell,\n  Grid1Col\n} from './grid';\nimport {AccentSlider} from '../inputs/accent-slider';\nimport {AccentButton} from '../inputs/accent-button';\n\ntype ReduxState = ReturnType<typeof mapStateToProps>;\n\ntype ReduxDispatch = ReturnType<typeof mapDispatchToProps>;\n\ntype Props = ReduxState & ReduxDispatch;\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      setTestMatrixEnabled: SettingsActions.setTestMatrixEnabled\n    },\n    dispatch\n  );\n};\nconst mapStateToProps = ({keymap, settings}: RootState) => ({\n  api: getSelectedAPI(keymap),\n  connectedDevices: getConnectedDevices(keymap),\n  selectedDefinition: getSelectedDefinition(keymap),\n  allDefinitions: Object.entries(getDefinitions(keymap)),\n  remoteDefinitions: Object.entries(getBaseDefinitions(keymap)),\n  localDefinitions: Object.entries(getCustomDefinitions(keymap)),\n  keyDefinitions: getSelectedKeyDefinitions(keymap),\n  isTestMatrixEnabled: settings.isTestMatrixEnabled,\n  canUseMatrixState:\n    !!getSelectedConnectedDevice(keymap) &&\n    PROTOCOL_GAMMA <= getSelectedConnectedDevice(keymap).protocol\n});\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 12px;\n`;\n\nconst TestPane = styled(Pane)`\n  display: flex;\n  height: 100%;\n  max-width: 100vw;\n  flex-direction: column;\n`;\n\nlet startTest = false;\n\nconst invertTestKeyState = (s: TestKeyState) =>\n  s === TestKeyState.KeyDown ? TestKeyState.KeyUp : TestKeyState.KeyDown;\n\nfunction Test(props: Props) {\n  const [dimensions, setDimensions] = useState({\n    width: 1280,\n    height: 900\n  });\n  const [selectedKeys, setSelectedKeys] = useState({});\n  let flat = [];\n\n  // If pressed key is our target key then set to true\n  function downHandler(evt) {\n    evt.preventDefault();\n    if (\n      !startTest &&\n      selectedKeys[getIndexByEvent(evt)] !== TestKeyState.KeyDown\n    ) {\n      setSelectedKeys(selectedKeys => ({\n        ...selectedKeys,\n        [getIndexByEvent(evt)]: TestKeyState.KeyDown\n      }));\n    }\n  }\n\n  // If released key is our target key then set to false\n  const upHandler = evt => {\n    evt.preventDefault();\n    if (\n      !startTest &&\n      selectedKeys[getIndexByEvent(evt)] !== TestKeyState.KeyUp\n    ) {\n      setSelectedKeys(selectedKeys => ({\n        ...selectedKeys,\n        [getIndexByEvent(evt)]: TestKeyState.KeyUp\n      }));\n    }\n  };\n\n  async function useMatrixTest() {\n    const {api, selectedDefinition} = props;\n    if (startTest && props.api && selectedDefinition) {\n      const {cols, rows} = selectedDefinition.matrix;\n      const bytesPerRow = Math.ceil(cols / 8);\n      try {\n        const newFlat = await api.getKeyboardValue(\n          KeyboardValue.SWITCH_MATRIX_STATE,\n          bytesPerRow * rows\n        );\n\n        const keysChanges =\n          0 !==\n          newFlat.reduce((prev, val, byteIdx) => {\n            return (prev + val) ^ (flat[byteIdx] || 0);\n          }, 0);\n        if (!keysChanges) {\n          await api.timeout(20);\n          useMatrixTest();\n          return;\n        }\n        setSelectedKeys(selectedKeys => {\n          const newPressedKeys = newFlat.reduce(\n            (res, val, byteIdx) => {\n              const xor = val ^ (flat[byteIdx] || 0);\n              if (xor === 0) {\n                return res;\n              }\n              const row = ~~(byteIdx / bytesPerRow);\n\n              const colOffset = 8 * (bytesPerRow - 1 - (byteIdx % bytesPerRow));\n              return Array(Math.max(0, Math.min(8, cols - colOffset)))\n                .fill(0)\n                .reduce((resres, _, idx) => {\n                  const matrixIdx = cols * row + idx + colOffset;\n                  resres[matrixIdx] =\n                    ((xor >> idx) & 1) === 1\n                      ? invertTestKeyState(resres[matrixIdx])\n                      : resres[matrixIdx];\n                  return resres;\n                }, res);\n            },\n            Array.isArray(selectedKeys) && selectedKeys.length === rows * cols\n              ? [...selectedKeys]\n              : Array(rows * cols).fill(TestKeyState.Initial)\n          );\n          return newPressedKeys;\n        });\n        flat = newFlat;\n        await api.timeout(20);\n        useMatrixTest();\n      } catch (e) {\n        startTest = false;\n        props.setTestMatrixEnabled(false);\n      }\n    }\n  }\n\n  const onClickHandler = _ => {\n    flat = [];\n    setSelectedKeys({});\n  };\n\n  // Add event listeners\n  useEffect(() => {\n    window.addEventListener('keydown', downHandler);\n    window.addEventListener('keyup', upHandler);\n    // Remove event listeners on cleanup\n    return () => {\n      startTest = false;\n      window.removeEventListener('keydown', downHandler);\n      window.removeEventListener('keyup', upHandler);\n    };\n  }, []); // Empty array ensures that effect is only run on mount and unmount\n\n  const flexRef = React.useRef(null);\n  useResize(\n    flexRef,\n    entry =>\n      flexRef.current &&\n      setDimensions({\n        width: entry.width,\n        height: entry.height\n      })\n  );\n  const pressedKeys =\n    !props.isTestMatrixEnabled || !props.keyDefinitions\n      ? selectedKeys\n      : props.keyDefinitions.map(\n          ({row, col}) =>\n            selectedKeys[row * props.selectedDefinition.matrix.cols + col]\n        );\n  const testDefinition = props.isTestMatrixEnabled\n    ? props.selectedDefinition\n    : fullKeyboardDefinition;\n  const testKeys = props.isTestMatrixEnabled\n    ? props.keyDefinitions\n    : fullKeyboardDefinition.layouts.keys;\n  return (\n    <TestPane>\n      <Grid1Col>\n        <FlexCell ref={flexRef}>\n          <TestKeyboard\n            definition={testDefinition}\n            keys={testKeys}\n            pressedKeys={pressedKeys}\n            matrixKeycodes={props.isTestMatrixEnabled ? [] : matrixKeycodes}\n            containerDimensions={dimensions}\n          />\n        </FlexCell>\n        <OverflowCell>\n          <Container>\n            <ControlRow>\n              <Label>Reset Keyboard</Label>\n              <Detail>\n                <AccentButton onClick={onClickHandler}>Reset</AccentButton>\n              </Detail>\n            </ControlRow>\n            {props.canUseMatrixState && props.selectedDefinition ? (\n              <ControlRow>\n                <Label>Test Matrix</Label>\n                <Detail>\n                  <AccentSlider\n                    isChecked={props.isTestMatrixEnabled}\n                    onChange={val => {\n                      startTest = val;\n\n                      props.setTestMatrixEnabled(val);\n\n                      if (val) {\n                        setSelectedKeys([]);\n                        useMatrixTest();\n                      } else {\n                        setSelectedKeys({});\n                      }\n                    }}\n                  />\n                </Detail>\n              </ControlRow>\n            ) : null}\n            <ControlRow>\n              <Label>Key sounds</Label>\n              <Detail>\n                <MusicalKeySlider />\n              </Detail>\n            </ControlRow>\n          </Container>\n        </OverflowCell>\n      </Grid1Col>\n    </TestPane>\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Test);\n","import ConfigurePane from '../components/panes/configure';\nimport DebugPane from '../components/panes/debug';\nimport DesignPane from '../components/panes/design';\nimport SettingsPane from '../components/panes/settings';\nimport TestPane from '../components/panes/test';\n\nexport default [\n  {\n    key: 'default',\n    component: ConfigurePane,\n    title: 'Configure',\n    path: '/'\n  },\n  {\n    key: 'test',\n    component: TestPane,\n    path: '/test',\n    title: 'Key Tester'\n  },\n  {\n    key: 'design',\n    component: DesignPane,\n    path: '/design',\n    title: 'Design'\n  },\n  {\n    key: 'settings',\n    component: SettingsPane,\n    path: '/settings',\n    title: 'Settings'\n  },\n  {\n    key: 'debug',\n    component: DebugPane,\n    path: '/debug',\n    title: 'Debug'\n  }\n];\n","import * as React from 'react';\nimport {useLocation} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\nimport {RootState} from '../../redux';\nimport PANES from '../../utils/pane-config';\nimport {connect} from 'react-redux';\n\nconst Container = styled.div`\n  width: 100vw;\n  height: 25px;\n  padding: 12px 0;\n  border-bottom: 1px solid var(--color_dark-grey);\n  background-color: var(--color_light-jet);\n  text-align: center;\n`;\n\nconst MenuItem = styled.button`\n  background: none;\n  border: none;\n  font-family: inherit;\n  outline: none;\n  padding: 0;\n\n  margin: 0 15px;\n  font-size: 18px;\n  text-transform: uppercase;\n  cursor: pointer;\n  color: ${props =>\n    props.selected ? 'var(--color_light-grey)' : 'var(--color_medium-grey)'};\n  &:hover {\n    color: ${props =>\n      props.selected ? 'var(--color_light-grey)' : 'var(--color_light-grey)'};\n  }\n`;\n\nconst {DEBUG_PROD, NODE_ENV} = process.env;\nconst showDebugPane = NODE_ENV === 'development' || DEBUG_PROD === 'true';\n\nconst mapStateToProps = ({settings}: RootState) => ({\n  showDesignTab: settings.showDesignTab\n});\n\nexport function UnconnectedGlobalMenu(props) {\n  const location = useLocation();\n\n  const Panes = React.useMemo(() => {\n    return PANES.map(pane => {\n      if (pane.key === 'design' && !props.showDesignTab) return null;\n      if (pane.key === 'debug' && !showDebugPane) return null;\n      return (\n        <Link key={pane.key} to={pane.path}>\n          <MenuItem selected={pane.path === location.pathname}>\n            {pane.title}\n          </MenuItem>\n        </Link>\n      );\n    });\n  }, [location, props.showDesignTab]);\n\n  return (\n    <React.Fragment>\n      <Container>{Panes}</Container>\n    </React.Fragment>\n  );\n}\n\nexport default connect(mapStateToProps)(UnconnectedGlobalMenu);\n","import * as React from 'react';\nconst styles = require('./title-bar.css');\nimport {connect} from 'react-redux';\nimport {CompiledDeviceMeta} from 'app/utils/device-meta';\nimport {RootState} from '../redux';\nimport {getSelectedDefinition} from '../redux/modules/keymap';\nimport {VIADefinitionV2, LightingTypeDefinition} from 'via-reader/dist/types';\n\nexport const Title = {\n  KEYS: 'Keys',\n  LIGHTING: 'Lighting',\n  SAVE_LOAD: 'Save/Load',\n  DEBUG: 'Debug'\n};\n\ntype ReduxState = {\n  selectedDefinition: VIADefinitionV2;\n};\n\ntype Props = {\n  meta: CompiledDeviceMeta;\n  selectedTitle: string;\n  setSelectedTitle: (title: string) => void;\n};\n\nclass DisconnectedTitleBar extends React.Component<Props & ReduxState> {\n  get isDetected() {\n    return !!this.props.selectedDefinition;\n  }\n\n  get keyboardName() {\n    const definition = this.props.selectedDefinition;\n    return (definition && definition.name) || 'N/A';\n  }\n\n  getTitlesForKeyboard(keyboard) {\n    const {lighting} = this.props.selectedDefinition;\n    let titles = [Title.KEYS];\n    if (lighting === LightingTypeDefinition.WTRGBBacklight) {\n      titles = [...titles, Title.LIGHTING];\n    }\n    if (keyboard.customMenus) {\n      titles = [...titles, ...keyboard.customMenus.map(menu => menu.title)];\n    }\n    titles = [...titles, Title.SAVE_LOAD];\n    if (\n      process.env.NODE_ENV === 'development' ||\n      process.env.DEBUG_PROD === 'true'\n    ) {\n      titles = [...titles, Title.DEBUG];\n    }\n    return titles;\n  }\n\n  render() {\n    const {selectedTitle} = this.props;\n\n    return (\n      <div className={styles.titleBarContainer}>\n        <div className={styles.titles}>\n          {this.isDetected ? (\n            [\n              <div key=\"kbname\" className={styles.kbName}>\n                {this.keyboardName}\n              </div>,\n              this.getTitlesForKeyboard(this.props.meta).map(title => (\n                <div\n                  onClick={_ => this.props.setSelectedTitle(title)}\n                  key={title}\n                  className={[\n                    title === selectedTitle && styles.selected,\n                    styles.title\n                  ].join(' ')}\n                >\n                  {title}\n                </div>\n              ))\n            ]\n          ) : (\n            <div className={[styles.kbName, styles.kbDisconnected].join(' ')}>\n              No kb detected\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state: RootState) => ({\n  selectedDefinition: getSelectedDefinition(state.keymap)\n});\nexport const TitleBar = connect(mapStateToProps)(DisconnectedTitleBar);\n","import * as React from 'react';\nconst styles = require('./Home.css');\nimport {mapEvtToKeycode, getByteForCode} from '../utils/key';\nimport {getDevicesUsingDefinitions} from '../utils/hid-keyboards';\nimport {Title} from './title-bar';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {loadMacros} from '../redux/modules/macros';\n\nimport {\n  loadDefinitions,\n  loadKeymapFromDevice,\n  reloadConnectedDevices,\n  selectConnectedDevice,\n  getLoadProgress,\n  getSelectedLayerIndex,\n  updateKey,\n  actions,\n  getSelectedKey,\n  getSelectedDevicePath,\n  getSelectedAPI,\n  getSelectedDefinition,\n  getSelectedVendorProductId,\n  getSelectedProtocol,\n  getSelectedKeyDefinitions,\n  getSelectedDevice,\n  getDefinitions\n} from '../redux/modules/keymap';\nimport {RootState} from '../redux';\nimport {getLightingDefinition, LightingValue} from 'via-reader';\nimport {getNextKey} from './positioned-keyboard';\n\nconst usbDetect = require('usb-detection');\n\nusbDetect.startMonitoring();\n\nconst mapStateToProps = ({keymap, settings}: RootState) => ({\n  allowKeyRemappingViaKeyboard: settings.allowKeyboardKeyRemapping,\n  disableFastRemap: settings.disableFastRemap,\n  globalHotKeysAllowed: keymap.allowGlobalHotKeys,\n  definitions: getDefinitions(keymap),\n  progress: getLoadProgress(keymap),\n  activeLayer: getSelectedLayerIndex(keymap),\n  selectedKey: getSelectedKey(keymap),\n  selectedDevicePath: getSelectedDevicePath(keymap),\n  selectedDevice: getSelectedDevice(keymap),\n  selectedProtocol: getSelectedProtocol(keymap),\n  displayedKeys: getSelectedKeyDefinitions(keymap),\n  selectedAPI: getSelectedAPI(keymap),\n  selectedVendorProductId: getSelectedVendorProductId(keymap),\n  selectedDefinition: getSelectedDefinition(keymap)\n});\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      loadMacros,\n      loadKeymapFromDevice,\n      updateKey,\n      allowGlobalHotKeys: actions.allowGlobalHotKeys,\n      disableGlobalHotKeys: actions.disableGlobalHotKeys,\n      validateDevices: actions.validateDevices,\n      updateSelectedLightingData: actions.updateSelectedLightingData,\n      updateSelectedKey: actions.updateSelectedKey,\n      loadDefinitions,\n      selectConnectedDevice,\n      reloadConnectedDevices\n    },\n    dispatch\n  );\n\ntype OwnProps = {\n  children: React.ReactNode;\n};\ntype Props = OwnProps &\n  ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\n// TODO: remove loaded and ready - use loading progress instead. Need more in redux before that can be done\ntype State = {\n  selectedTitle: string | null;\n};\n\nconst timeoutRepeater = (fn, timeout, numToRepeat = 0) => () =>\n  setTimeout(() => {\n    fn();\n    if (numToRepeat > 0) {\n      timeoutRepeater(fn, timeout, numToRepeat - 1)();\n    }\n  }, timeout);\n\nclass Home extends React.Component<Props, State> {\n  updateDevicesRepeat: () => void;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedTitle: null\n    };\n    this.updateDevicesRepeat = timeoutRepeater(\n      () => {\n        this.props.reloadConnectedDevices();\n      },\n      500,\n      1\n    );\n  }\n\n  homeElem = React.createRef<HTMLDivElement>();\n\n  componentDidMount() {\n    this.homeElem.current.focus();\n    this.props.allowGlobalHotKeys();\n    usbDetect.on('change', this.updateDevicesRepeat);\n    usbDetect.on('remove', this.validateDevices);\n    timeoutRepeater(this.props.loadDefinitions, 5 * 60000, Infinity);\n    this.props.loadDefinitions();\n    this.props.reloadConnectedDevices();\n    this.updateDevicesRepeat();\n    this.enableKeyPressListener();\n  }\n\n  componentWillUnmount() {\n    usbDetect.off('change', this.updateDevicesRepeat);\n    usbDetect.off('remove', this.validateDevices);\n    this.props.disableGlobalHotKeys();\n    this.disableKeyPressListener();\n  }\n\n  validateDevices = () => {\n    // getDevices can potentially contain devices with no definition, change this later\n    const keyboards = getDevicesUsingDefinitions(this.props.definitions);\n    this.props.validateDevices(keyboards);\n  };\n\n  disableKeyPressListener = () => {\n    const body = document.body;\n    if (body) {\n      body.removeEventListener('keydown', this.handleKeys);\n    }\n  };\n\n  enableKeyPressListener = () => {\n    const body = document.body;\n    if (body) {\n      body.addEventListener('keydown', this.handleKeys);\n    }\n  };\n\n  handleKeys = (evt: KeyboardEvent): void => {\n    if (\n      this.props.allowKeyRemappingViaKeyboard &&\n      this.props.globalHotKeysAllowed &&\n      this.props.selectedKey !== null\n    ) {\n      this.updateSelectedKey(getByteForCode(mapEvtToKeycode(evt)));\n    }\n  };\n\n  setSelectedTitle = (selectedTitle: string | null) => {\n    this.props.updateSelectedKey(null);\n    this.setState({selectedTitle});\n  };\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.selectedDevicePath !== this.props.selectedDevicePath) {\n      this.setState({\n        selectedTitle: this.props.selectedDevicePath ? Title.KEYS : null\n      });\n      this.props.updateSelectedKey(null);\n      this.toggleLights();\n    }\n  }\n\n  updateSelectedKey = async (value: number) => {\n    const {\n      activeLayer,\n      updateKey,\n      selectedKey,\n      selectedDefinition,\n      displayedKeys,\n      disableFastRemap\n    } = this.props;\n\n    if (activeLayer !== null && selectedKey !== null && selectedDefinition) {\n      // Redux\n      updateKey(selectedKey, value);\n      this.props.updateSelectedKey(\n        disableFastRemap ? null : getNextKey(selectedKey, displayedKeys)\n      );\n    }\n  };\n\n  async toggleLights() {\n    const api = this.props.selectedAPI;\n    const selectedDefinition = this.props.selectedDefinition;\n\n    // TODO: Some sort of toggling lights on v3 firmware\n    if (this.props.selectedProtocol >= 10) return;\n\n    if (\n      api &&\n      selectedDefinition &&\n      getLightingDefinition(\n        selectedDefinition.lighting\n      ).supportedLightingValues.includes(LightingValue.BACKLIGHT_EFFECT)\n    ) {\n      const val = await api.getRGBMode();\n      const newVal =\n        val !== 0\n          ? 0\n          : getLightingDefinition(selectedDefinition.lighting).effects.length -\n            1;\n      api.setRGBMode(newVal);\n      api.timeout(200);\n      api.setRGBMode(val);\n      api.timeout(200);\n      api.setRGBMode(newVal);\n      api.timeout(200);\n      await api.setRGBMode(val);\n    }\n  }\n\n  render() {\n    // Remove once custom menus are removed\n    return (\n      <div className={styles.home} ref={this.homeElem} tabIndex={0}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import * as React from 'react';\nimport {Component} from 'react';\nimport Home from '../components/Home';\n\nexport default class HomePage extends Component {\n  render() {\n    return <Home>{this.props.children}</Home>;\n  }\n}\n","import * as React from 'react';\nimport {HashRouter as Router, Switch, Route} from 'react-router-dom';\nimport UnconnectedGlobalMenu from './components/menus/global';\nimport PANES from './utils/pane-config';\nimport HomePage from './containers/HomePage';\n\nexport default () => {\n  const RouteComponents = PANES.map(pane => {\n    return (\n      <Route\n        component={pane.component}\n        exact={pane.key === 'default' ? true : false}\n        key={pane.key}\n        path={pane.path}\n      />\n    );\n  });\n\n  return (\n    <Router>\n      <UnconnectedGlobalMenu />\n      <HomePage>\n        <Switch>{RouteComponents}</Switch>\n      </HomePage>\n    </Router>\n  );\n};\n","import * as React from 'react';\nimport {Store} from 'redux';\nimport {Provider} from 'react-redux';\nimport {ConnectedRouter} from 'connected-react-router';\nimport {History} from 'history';\nimport Routes from '../Routes';\n\ntype Props = {\n  store: Store;\n  history: History;\n};\n\nexport default ({store, history}: Props) => (\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <Routes />\n    </ConnectedRouter>\n  </Provider>\n);\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nimport { CALL_HISTORY_METHOD } from './actions';\n/**\n * This middleware captures CALL_HISTORY_METHOD actions to redirect to the\n * provided history object. This will prevent these actions from reaching your\n * reducer or any middleware that comes after this one.\n */\n\nvar routerMiddleware = function routerMiddleware(history) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        // eslint-disable-line no-unused-vars\n        if (action.type !== CALL_HISTORY_METHOD) {\n          return next(action);\n        }\n\n        var _action$payload = action.payload,\n            method = _action$payload.method,\n            args = _action$payload.args;\n        history[method].apply(history, _toConsumableArray(args));\n      };\n    };\n  };\n};\n\nexport default routerMiddleware;","import {combineReducers} from 'redux';\nimport {connectRouter} from 'connected-react-router';\nimport {History} from 'history';\nimport {StateType} from 'typesafe-actions';\nimport {macrosReducer} from './modules/macros';\nimport {keymapReducer} from './modules/keymap';\nimport {settingsReducer} from './modules/settings';\n\nexport default function createRootReducer(history: History) {\n  return combineReducers({\n    router: connectRouter(history),\n    macros: macrosReducer,\n    keymap: keymapReducer,\n    settings: settingsReducer\n  });\n}\n\nexport type RootState = StateType<ReturnType<typeof createRootReducer>>;\n","import {createStore, applyMiddleware, compose} from 'redux';\nimport thunk from 'redux-thunk';\nimport {createHashHistory} from 'history';\nimport {routerMiddleware, routerActions} from 'connected-react-router';\nimport {createLogger} from 'redux-logger';\nimport createRootReducer from '.';\n\nconst history = createHashHistory();\n\nconst rootReducer = createRootReducer(history);\n\nconst configureStore = (initialState?: any) => {\n  // Redux Configuration\n  const middleware = [];\n  const enhancers = [];\n\n  // Thunk Middleware\n  middleware.push(thunk);\n\n  // Logging Middleware\n  const logger = createLogger({\n    level: 'info',\n    collapsed: true\n  });\n\n  // Skip redux logs in console during the tests\n  if (process.env.NODE_ENV !== 'test') {\n    middleware.push(logger);\n  }\n\n  // Router Middleware\n  const router = routerMiddleware(history);\n  middleware.push(router);\n\n  // Redux DevTools Configuration\n  const actionCreators = {\n    ...routerActions\n  };\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // Options: http://extension.remotedev.io/docs/API/Arguments.html\n        actionCreators\n      })\n    : compose;\n  /* eslint-enable no-underscore-dangle */\n\n  // Apply Middleware & Compose Enhancers\n  enhancers.push(applyMiddleware(...middleware));\n  const enhancer = composeEnhancers(...enhancers);\n\n  // Create Store\n  const store = createStore(rootReducer, initialState, enhancer);\n\n  return store;\n};\n\nexport default {configureStore, history};\n","import {createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport {createHashHistory} from 'history';\nimport {routerMiddleware} from 'connected-react-router';\nimport createRootReducer from '.';\n\nconst history = createHashHistory();\nconst rootReducer = createRootReducer(history);\nconst router = routerMiddleware(history);\nconst enhancer = applyMiddleware(thunk, router);\n\nfunction configureStore(initialState?: any) {\n  return createStore(rootReducer, initialState, enhancer);\n}\n\nexport default {configureStore, history};\n","import configureStoreDev from './configureStore.dev';\nimport configureStoreProd from './configureStore.prod';\n\nconst selectedConfigureStore =\n  process.env.NODE_ENV === 'production'\n    ? configureStoreProd\n    : configureStoreDev;\n\nexport const { configureStore } = selectedConfigureStore;\n\nexport const { history } = selectedConfigureStore;\n","import * as React from 'react';\nimport {render} from 'react-dom';\nimport electron from 'electron';\nimport log from 'electron-log';\nimport Root from './containers/Root';\nimport {configureStore, history} from './redux/configureStore';\nimport {actions, reloadConnectedDevices} from './redux/modules/keymap';\nimport './app.global.css';\n\nconsole.error = log.error;\nlog.catchErrors({showDialog: false});\nconst store = configureStore();\n\nelectron.ipcRenderer.on('import-definition', (_: any, message: any) => {\n  store.dispatch(actions.loadDefinition(message));\n  store.dispatch(reloadConnectedDevices() as any);\n});\n\nrender(\n  <Root store={store} history={history} />,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"2f569ad2b0b7f7788259debf8468d9e3.sfjs\";","module.exports = __webpack_public_path__ + \"cacf581a48993eb3639afd7a538a4df3.sfjs\";","module.exports = __webpack_public_path__ + \"f75f67443b3f81df69bf7a6867fd8ac1.sfjs\";","module.exports = {KC_LCTL:224,KC_RCTL:228,KC_LSFT:225,KC_RSFT:229,KC_ESC:41,KC_BSPC:42,KC_ENT:40,KC_DEL:76,KC_INS:73,KC_CAPS:57,KC_RGHT:79,KC_PGDN:78,KC_PSCR:70,KC_SLCK:71,KC_PAUS:72,KC_NLCK:83,KC_SPC:44,KC_MINS:45,KC_EQL:46,KC_GRV:53,KC_RBRC:48,KC_LBRC:47,KC_COMM:54,KC_BSLS:49,KC_SLSH:56,KC_SCLN:51,KC_QUOT:52,KC_APP:101,KC_NUHS:50,KC_NUBS:100,KC_LCAP:130,KC_LNUM:131,KC_LSCR:132,KC_ERAS:153,KC_CLR:156,KC_ZKHK:53,KC_RO:135,KC_KANA:136,KC_JYEN:137,KC_HENK:138,KC_MHEN:139,KC_P1:89,KC_P2:90,KC_P3:91,KC_P4:92,KC_P5:93,KC_P6:94,KC_P7:95,KC_P8:96,KC_P9:97,KC_P0:98,KC_PDOT:99,KC_PCMM:133,KC_PSLS:84,KC_PAST:85,KC_PMNS:86,KC_PPLS:87,KC_PEQL:103,KC_PENT:88,KC_PWR:165,KC_SLEP:166,KC_WAKE:167,KC_MUTE:168,KC_VOLU:169,KC_VOLD:170,KC_MNXT:171,KC_MPRV:172,KC_MFFD:187,KC_MRWD:188,KC_MSTP:173,KC_MPLY:174,KC_MSEL:175,KC_EJCT:176,KC_CALC:178,KC_MYCM:179,KC_BRIU:189,KC_BRID:190,KC_TRNS:1,KC_NO:0,KC_A:4,KC_B:5,KC_C:6,KC_D:7,KC_E:8,KC_F:9,KC_G:10,KC_H:11,KC_I:12,KC_J:13,KC_K:14,KC_L:15,KC_M:16,KC_N:17,KC_O:18,KC_P:19,KC_Q:20,KC_R:21,KC_S:22,KC_T:23,KC_U:24,KC_V:25,KC_W:26,KC_X:27,KC_Y:28,KC_Z:29,KC_1:30,KC_2:31,KC_3:32,KC_4:33,KC_5:34,KC_6:35,KC_7:36,KC_8:37,KC_9:38,KC_0:39,KC_TAB:43,KC_DOT:55,KC_F1:58,KC_F2:59,KC_F3:60,KC_F4:61,KC_F5:62,KC_F6:63,KC_F7:64,KC_F8:65,KC_F9:66,KC_F10:67,KC_F11:68,KC_F12:69,KC_HOME:74,KC_PGUP:75,KC_END:77,KC_LEFT:80,KC_DOWN:81,KC_UP:82,KC_POWER:102,KC_F13:104,KC_F14:105,KC_F15:106,KC_F16:107,KC_F17:108,KC_F18:109,KC_F19:110,KC_F20:111,KC_F21:112,KC_F22:113,KC_F23:114,KC_F24:115,KC_EXECUTE:116,KC_HELP:117,KC_MENU:118,KC_SELECT:119,KC_STOP:120,KC_AGAIN:121,KC_UNDO:122,KC_CUT:123,KC_COPY:124,KC_PASTE:125,KC_FIND:126,KC_KP_EQUAL_AS400:134,KC_INT6:140,KC_INT7:141,KC_INT8:142,KC_INT9:143,KC_HAEN:144,KC_HANJ:145,KC_LANG3:146,KC_LANG4:147,KC_LANG5:148,KC_LANG6:149,KC_LANG7:150,KC_LANG8:151,KC_LANG9:152,KC_SYSREQ:154,KC_CANCEL:155,KC_CLEAR:156,KC_PRIOR:157,KC_OUT:160,KC_OPER:161,KC_CLEAR_AGAIN:162,KC_CRSEL:163,KC_EXSEL:164,KC_LALT:226,KC_LGUI:227,KC_RALT:230,KC_RGUI:231,KC_MAIL:177,KC_WWW_SEARCH:180,KC_WWW_HOME:181,KC_WWW_BACK:182,KC_WWW_FORWARD:183,KC_WWW_STOP:184,KC_WWW_REFRESH:185,KC_WWW_FAVORITES:186,KC_FN0:192,KC_FN1:193,KC_FN2:194,KC_FN3:195,KC_FN4:196,KC_FN5:197,KC_FN6:198,KC_FN7:199,KC_FN8:200,KC_FN9:201,KC_FN10:202,KC_FN11:203,KC_FN12:204,KC_FN13:205,KC_FN14:206,KC_FN15:207,KC_FN16:208,KC_FN17:209,KC_FN18:210,KC_FN19:211,KC_FN20:212,KC_FN21:213,KC_FN22:214,KC_FN23:215,KC_FN24:216,KC_FN25:217,KC_FN26:218,KC_FN27:219,KC_FN28:220,KC_FN29:221,KC_FN30:222,KC_FN31:223,KC_MS_UP:240,KC_MS_DOWN:241,KC_MS_LEFT:242,KC_MS_RIGHT:243,KC_MS_BTN1:244,KC_MS_BTN2:245,KC_MS_BTN3:246,KC_MS_BTN4:247,KC_MS_BTN5:248,KC_MS_WH_UP:249,KC_MS_WH_DOWN:250,KC_MS_WH_LEFT:251,KC_MS_WH_RIGHT:252,KC_MS_ACCEL0:253,KC_MS_ACCEL1:254,KC_MS_ACCEL2:255,RESET:23552,DEBUG:23553,MAGIC_TOGGLE_NKRO:23572,KC_GESC:23574,AU_ON:23581,AU_OFF:23582,AU_TOG:23583,CLICKY_TOGGLE:23584,CLICKY_ENABLE:23585,CLICKY_DISABLE:23586,CLICKY_UP:23587,CLICKY_DOWN:23588,CLICKY_RESET:23589,MU_ON:23590,MU_OFF:23591,MU_TOG:23592,MU_MOD:23593,BL_ON:23739,BL_OFF:23740,BL_DEC:23741,BL_INC:23742,BL_TOGG:23743,BL_STEP:23744,BL_BRTG:23745,RGB_TOG:23746,RGB_MOD:23747,RGB_RMOD:23748,RGB_HUI:23749,RGB_HUD:23750,RGB_SAI:23751,RGB_SAD:23752,RGB_VAI:23753,RGB_VAD:23754,RGB_SPI:23755,RGB_SPD:23756,RGB_M_P:23757,RGB_M_B:23758,RGB_M_R:23759,RGB_M_SW:23760,RGB_M_SN:23761,RGB_M_K:23762,RGB_M_X:23763,RGB_M_G:23764,KC_LSPO:23767,KC_RSPC:23768,KC_SFTENT:23769,KC_LCPO:23795,KC_RCPC:23796,KC_LAPO:23797,KC_RAPC:23798,KC_TILD:565,KC_EXLM:542,KC_AT:543,KC_HASH:544,KC_DLR:545,KC_PERC:546,KC_CIRC:547,KC_AMPR:548,KC_ASTR:549,KC_LPRN:550,KC_RPRN:551,KC_UNDS:557,KC_PLUS:558,KC_LCBR:559,KC_RCBR:560,KC_COLN:563,KC_PIPE:561,KC_LT:566,KC_GT:567,KC_QUES:568,KC_DQUO:564,BR_INC:24320,BR_DEC:24321,EF_INC:24322,EF_DEC:24323,ES_INC:24324,ES_DEC:24325,H1_INC:24326,H1_DEC:24327,S1_INC:24328,S1_DEC:24329,H2_INC:24330,H2_DEC:24331,S2_INC:24332,S2_DEC:24333,FN_MO13:24336,FN_MO23:24337,MACRO00:24338,MACRO01:24339,MACRO02:24340,MACRO03:24341,MACRO04:24342,MACRO05:24343,MACRO06:24344,MACRO07:24345,MACRO08:24346,MACRO09:24347,MACRO10:24348,MACRO11:24349,MACRO12:24350,MACRO13:24351,MACRO14:24352,MACRO15:24353,FN_TT13:12081,FN_TT23:12082,USER00:24448,USER01:24449,USER02:24450,USER03:24451,USER04:24452,USER05:24453,USER06:24454,USER07:24455,USER08:24456,USER09:24457,USER10:24458,USER11:24459,USER12:24460,USER13:24461,USER14:24462,USER15:24463,SPC_FN1:16684,SPC_FN2:16940,SPC_FN3:17196}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t(e.reduxLogger=e.reduxLogger||{})}(this,function(e){\"use strict\";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,\"kind\",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,\"path\",{value:t,enumerable:!0})}function n(e,t,r){n.super_.call(this,\"E\",e),Object.defineProperty(this,\"lhs\",{value:t,enumerable:!0}),Object.defineProperty(this,\"rhs\",{value:r,enumerable:!0})}function o(e,t){o.super_.call(this,\"N\",e),Object.defineProperty(this,\"rhs\",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,\"D\",e),Object.defineProperty(this,\"lhs\",{value:t,enumerable:!0})}function a(e,t,r){a.super_.call(this,\"A\",e),Object.defineProperty(this,\"index\",{value:t,enumerable:!0}),Object.defineProperty(this,\"item\",{value:r,enumerable:!0})}function f(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function u(e){var t=\"undefined\"==typeof e?\"undefined\":N(e);return\"object\"!==t?t:e===Math?\"math\":null===e?\"null\":Array.isArray(e)?\"array\":\"[object Date]\"===Object.prototype.toString.call(e)?\"date\":\"function\"==typeof e.toString&&/^\\/.*\\//.test(e.toString())?\"regexp\":\"object\"}function l(e,t,r,c,s,d,p){s=s||[],p=p||[];var g=s.slice(0);if(\"undefined\"!=typeof d){if(c){if(\"function\"==typeof c&&c(g,d))return;if(\"object\"===(\"undefined\"==typeof c?\"undefined\":N(c))){if(c.prefilter&&c.prefilter(g,d))return;if(c.normalize){var h=c.normalize(g,d,e,t);h&&(e=h[0],t=h[1])}}}g.push(d)}\"regexp\"===u(e)&&\"regexp\"===u(t)&&(e=e.toString(),t=t.toString());var y=\"undefined\"==typeof e?\"undefined\":N(e),v=\"undefined\"==typeof t?\"undefined\":N(t),b=\"undefined\"!==y||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(d),m=\"undefined\"!==v||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(d);if(!b&&m)r(new o(g,t));else if(!m&&b)r(new i(g,e));else if(u(e)!==u(t))r(new n(g,e,t));else if(\"date\"===u(e)&&e-t!==0)r(new n(g,e,t));else if(\"object\"===y&&null!==e&&null!==t)if(p.filter(function(t){return t.lhs===e}).length)e!==t&&r(new n(g,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var w;e.length;for(w=0;w<e.length;w++)w>=t.length?r(new a(g,w,new i(void 0,e[w]))):l(e[w],t[w],r,c,g,w,p);for(;w<t.length;)r(new a(g,w,new o(void 0,t[w++])))}else{var x=Object.keys(e),S=Object.keys(t);x.forEach(function(n,o){var i=S.indexOf(n);i>=0?(l(e[n],t[n],r,c,g,n,p),S=f(S,i)):l(e[n],void 0,r,c,g,n,p)}),S.forEach(function(e){l(void 0,t[e],r,c,g,e,p)})}p.length=p.length-1}else e!==t&&(\"number\"===y&&isNaN(e)&&isNaN(t)||r(new n(g,e,t)))}function c(e,t,r,n){return n=n||[],l(e,t,function(e){e&&n.push(e)},r),n.length?n:void 0}function s(e,t,r){if(r.path&&r.path.length){var n,o=e[t],i=r.path.length-1;for(n=0;n<i;n++)o=o[r.path[n]];switch(r.kind){case\"A\":s(o[r.path[n]],r.index,r.item);break;case\"D\":delete o[r.path[n]];break;case\"E\":case\"N\":o[r.path[n]]=r.rhs}}else switch(r.kind){case\"A\":s(e[t],r.index,r.item);break;case\"D\":e=f(e,t);break;case\"E\":case\"N\":e[t]=r.rhs}return e}function d(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,o=-1,i=r.path?r.path.length-1:0;++o<i;)\"undefined\"==typeof n[r.path[o]]&&(n[r.path[o]]=\"number\"==typeof r.path[o]?[]:{}),n=n[r.path[o]];switch(r.kind){case\"A\":s(r.path?n[r.path[o]]:n,r.index,r.item);break;case\"D\":delete n[r.path[o]];break;case\"E\":case\"N\":n[r.path[o]]=r.rhs}}}function p(e,t,r){if(r.path&&r.path.length){var n,o=e[t],i=r.path.length-1;for(n=0;n<i;n++)o=o[r.path[n]];switch(r.kind){case\"A\":p(o[r.path[n]],r.index,r.item);break;case\"D\":o[r.path[n]]=r.lhs;break;case\"E\":o[r.path[n]]=r.lhs;break;case\"N\":delete o[r.path[n]]}}else switch(r.kind){case\"A\":p(e[t],r.index,r.item);break;case\"D\":e[t]=r.lhs;break;case\"E\":e[t]=r.lhs;break;case\"N\":e=f(e,t)}return e}function g(e,t,r){if(e&&t&&r&&r.kind){var n,o,i=e;for(o=r.path.length-1,n=0;n<o;n++)\"undefined\"==typeof i[r.path[n]]&&(i[r.path[n]]={}),i=i[r.path[n]];switch(r.kind){case\"A\":p(i[r.path[n]],r.index,r.item);break;case\"D\":i[r.path[n]]=r.lhs;break;case\"E\":i[r.path[n]]=r.lhs;break;case\"N\":delete i[r.path[n]]}}}function h(e,t,r){if(e&&t){var n=function(n){r&&!r(e,t,n)||d(e,t,n)};l(e,t,n)}}function y(e){return\"color: \"+F[e].color+\"; font-weight: bold\"}function v(e){var t=e.kind,r=e.path,n=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case\"E\":return[r.join(\".\"),n,\"→\",o];case\"N\":return[r.join(\".\"),o];case\"D\":return[r.join(\".\")];case\"A\":return[r.join(\".\")+\"[\"+i+\"]\",a];default:return[]}}function b(e,t,r,n){var o=c(e,t);try{n?r.groupCollapsed(\"diff\"):r.group(\"diff\")}catch(e){r.log(\"diff\")}o?o.forEach(function(e){var t=e.kind,n=v(e);r.log.apply(r,[\"%c \"+F[t].text,y(t)].concat(P(n)))}):r.log(\"—— no diff ——\");try{r.groupEnd()}catch(e){r.log(\"—— diff end —— \")}}function m(e,t,r,n){switch(\"undefined\"==typeof e?\"undefined\":N(e)){case\"object\":return\"function\"==typeof e[n]?e[n].apply(e,P(r)):e[n];case\"function\":return e(t);default:return e}}function w(e){var t=e.timestamp,r=e.duration;return function(e,n,o){var i=[\"action\"];return i.push(\"%c\"+String(e.type)),t&&i.push(\"%c@ \"+n),r&&i.push(\"%c(in \"+o.toFixed(2)+\" ms)\"),i.join(\" \")}}function x(e,t){var r=t.logger,n=t.actionTransformer,o=t.titleFormatter,i=void 0===o?w(t):o,a=t.collapsed,f=t.colors,u=t.level,l=t.diff,c=\"undefined\"==typeof t.titleFormatter;e.forEach(function(o,s){var d=o.started,p=o.startedTime,g=o.action,h=o.prevState,y=o.error,v=o.took,w=o.nextState,x=e[s+1];x&&(w=x.prevState,v=x.started-d);var S=n(g),k=\"function\"==typeof a?a(function(){return w},g,o):a,j=D(p),E=f.title?\"color: \"+f.title(S)+\";\":\"\",A=[\"color: gray; font-weight: lighter;\"];A.push(E),t.timestamp&&A.push(\"color: gray; font-weight: lighter;\"),t.duration&&A.push(\"color: gray; font-weight: lighter;\");var O=i(S,j,v);try{k?f.title&&c?r.groupCollapsed.apply(r,[\"%c \"+O].concat(A)):r.groupCollapsed(O):f.title&&c?r.group.apply(r,[\"%c \"+O].concat(A)):r.group(O)}catch(e){r.log(O)}var N=m(u,S,[h],\"prevState\"),P=m(u,S,[S],\"action\"),C=m(u,S,[y,h],\"error\"),F=m(u,S,[w],\"nextState\");if(N)if(f.prevState){var L=\"color: \"+f.prevState(h)+\"; font-weight: bold\";r[N](\"%c prev state\",L,h)}else r[N](\"prev state\",h);if(P)if(f.action){var T=\"color: \"+f.action(S)+\"; font-weight: bold\";r[P](\"%c action    \",T,S)}else r[P](\"action    \",S);if(y&&C)if(f.error){var M=\"color: \"+f.error(y,h)+\"; font-weight: bold;\";r[C](\"%c error     \",M,y)}else r[C](\"error     \",y);if(F)if(f.nextState){var _=\"color: \"+f.nextState(w)+\"; font-weight: bold\";r[F](\"%c next state\",_,w)}else r[F](\"next state\",w);l&&b(h,w,r,k);try{r.groupEnd()}catch(e){r.log(\"—— log end ——\")}})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},L,e),r=t.logger,n=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,f=t.diffPredicate;if(\"undefined\"==typeof r)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error(\"[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\\n// Logger with default options\\nimport { logger } from 'redux-logger'\\nconst store = createStore(\\n  reducer,\\n  applyMiddleware(logger)\\n)\\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\\nimport createLogger from 'redux-logger'\\nconst logger = createLogger({\\n  // ...options\\n});\\nconst store = createStore(\\n  reducer,\\n  applyMiddleware(logger)\\n)\\n\"),function(){return function(e){return function(t){return e(t)}}};var u=[];return function(e){var r=e.getState;return function(e){return function(l){if(\"function\"==typeof i&&!i(r,l))return e(l);var c={};u.push(c),c.started=O.now(),c.startedTime=new Date,c.prevState=n(r()),c.action=l;var s=void 0;if(a)try{s=e(l)}catch(e){c.error=o(e)}else s=e(l);c.took=O.now()-c.started,c.nextState=n(r());var d=t.diff&&\"function\"==typeof f?f(r,l):t.diff;if(x(u,Object.assign({},t,{diff:d})),u.length=0,c.error)throw c.error;return s}}}}var k,j,E=function(e,t){return new Array(t+1).join(e)},A=function(e,t){return E(\"0\",t-e.toString().length)+e},D=function(e){return A(e.getHours(),2)+\":\"+A(e.getMinutes(),2)+\":\"+A(e.getSeconds(),2)+\".\"+A(e.getMilliseconds(),3)},O=\"undefined\"!=typeof performance&&null!==performance&&\"function\"==typeof performance.now?performance:Date,N=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},P=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},C=[];k=\"object\"===(\"undefined\"==typeof global?\"undefined\":N(global))&&global?global:\"undefined\"!=typeof window?window:{},j=k.DeepDiff,j&&C.push(function(){\"undefined\"!=typeof j&&k.DeepDiff===c&&(k.DeepDiff=j,j=void 0)}),t(n,r),t(o,r),t(i,r),t(a,r),Object.defineProperties(c,{diff:{value:c,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:h,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:g,enumerable:!0},isConflict:{value:function(){return\"undefined\"!=typeof j},enumerable:!0},noConflict:{value:function(){return C&&(C.forEach(function(e){e()}),C=null),c},enumerable:!0}});var F={E:{color:\"#2196F3\",text:\"CHANGED:\"},N:{color:\"#4CAF50\",text:\"ADDED:\"},D:{color:\"#F44336\",text:\"DELETED:\"},A:{color:\"#2196F3\",text:\"ARRAY:\"}},L={level:\"log\",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return\"inherit\"},prevState:function(){return\"#9E9E9E\"},action:function(){return\"#03A9F4\"},nextState:function(){return\"#4CAF50\"},error:function(){return\"#F20404\"}},diff:!1,diffPredicate:void 0,transformer:void 0},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,r=e.getState;return\"function\"==typeof t||\"function\"==typeof r?S()({dispatch:t,getState:r}):void console.error(\"\\n[redux-logger v3] BREAKING CHANGE\\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\\n[redux-logger v3] Change\\n[redux-logger v3] import createLogger from 'redux-logger'\\n[redux-logger v3] to\\n[redux-logger v3] import { createLogger } from 'redux-logger'\\n\")};e.defaults=L,e.createLogger=S,e.logger=T,e.default=T,Object.defineProperty(e,\"__esModule\",{value:!0})});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LightingValue;\n(function (LightingValue) {\n    LightingValue[LightingValue[\"BACKLIGHT_USE_SPLIT_BACKSPACE\"] = 1] = \"BACKLIGHT_USE_SPLIT_BACKSPACE\";\n    LightingValue[LightingValue[\"BACKLIGHT_USE_SPLIT_LEFT_SHIFT\"] = 2] = \"BACKLIGHT_USE_SPLIT_LEFT_SHIFT\";\n    LightingValue[LightingValue[\"BACKLIGHT_USE_SPLIT_RIGHT_SHIFT\"] = 3] = \"BACKLIGHT_USE_SPLIT_RIGHT_SHIFT\";\n    LightingValue[LightingValue[\"BACKLIGHT_USE_7U_SPACEBAR\"] = 4] = \"BACKLIGHT_USE_7U_SPACEBAR\";\n    LightingValue[LightingValue[\"BACKLIGHT_USE_ISO_ENTER\"] = 5] = \"BACKLIGHT_USE_ISO_ENTER\";\n    LightingValue[LightingValue[\"BACKLIGHT_DISABLE_HHKB_BLOCKER_LEDS\"] = 6] = \"BACKLIGHT_DISABLE_HHKB_BLOCKER_LEDS\";\n    LightingValue[LightingValue[\"BACKLIGHT_DISABLE_WHEN_USB_SUSPENDED\"] = 7] = \"BACKLIGHT_DISABLE_WHEN_USB_SUSPENDED\";\n    LightingValue[LightingValue[\"BACKLIGHT_DISABLE_AFTER_TIMEOUT\"] = 8] = \"BACKLIGHT_DISABLE_AFTER_TIMEOUT\";\n    LightingValue[LightingValue[\"BACKLIGHT_BRIGHTNESS\"] = 9] = \"BACKLIGHT_BRIGHTNESS\";\n    LightingValue[LightingValue[\"BACKLIGHT_EFFECT\"] = 10] = \"BACKLIGHT_EFFECT\";\n    LightingValue[LightingValue[\"BACKLIGHT_EFFECT_SPEED\"] = 11] = \"BACKLIGHT_EFFECT_SPEED\";\n    LightingValue[LightingValue[\"BACKLIGHT_COLOR_1\"] = 12] = \"BACKLIGHT_COLOR_1\";\n    LightingValue[LightingValue[\"BACKLIGHT_COLOR_2\"] = 13] = \"BACKLIGHT_COLOR_2\";\n    LightingValue[LightingValue[\"BACKLIGHT_CAPS_LOCK_INDICATOR_COLOR\"] = 14] = \"BACKLIGHT_CAPS_LOCK_INDICATOR_COLOR\";\n    LightingValue[LightingValue[\"BACKLIGHT_CAPS_LOCK_INDICATOR_ROW_COL\"] = 15] = \"BACKLIGHT_CAPS_LOCK_INDICATOR_ROW_COL\";\n    LightingValue[LightingValue[\"BACKLIGHT_LAYER_1_INDICATOR_COLOR\"] = 16] = \"BACKLIGHT_LAYER_1_INDICATOR_COLOR\";\n    LightingValue[LightingValue[\"BACKLIGHT_LAYER_1_INDICATOR_ROW_COL\"] = 17] = \"BACKLIGHT_LAYER_1_INDICATOR_ROW_COL\";\n    LightingValue[LightingValue[\"BACKLIGHT_LAYER_2_INDICATOR_COLOR\"] = 18] = \"BACKLIGHT_LAYER_2_INDICATOR_COLOR\";\n    LightingValue[LightingValue[\"BACKLIGHT_LAYER_2_INDICATOR_ROW_COL\"] = 19] = \"BACKLIGHT_LAYER_2_INDICATOR_ROW_COL\";\n    LightingValue[LightingValue[\"BACKLIGHT_LAYER_3_INDICATOR_COLOR\"] = 20] = \"BACKLIGHT_LAYER_3_INDICATOR_COLOR\";\n    LightingValue[LightingValue[\"BACKLIGHT_LAYER_3_INDICATOR_ROW_COL\"] = 21] = \"BACKLIGHT_LAYER_3_INDICATOR_ROW_COL\";\n    LightingValue[LightingValue[\"BACKLIGHT_CUSTOM_COLOR\"] = 23] = \"BACKLIGHT_CUSTOM_COLOR\";\n    // QMK RGBLIGHT\n    LightingValue[LightingValue[\"QMK_RGBLIGHT_BRIGHTNESS\"] = 128] = \"QMK_RGBLIGHT_BRIGHTNESS\";\n    LightingValue[LightingValue[\"QMK_RGBLIGHT_EFFECT\"] = 129] = \"QMK_RGBLIGHT_EFFECT\";\n    LightingValue[LightingValue[\"QMK_RGBLIGHT_EFFECT_SPEED\"] = 130] = \"QMK_RGBLIGHT_EFFECT_SPEED\";\n    LightingValue[LightingValue[\"QMK_RGBLIGHT_COLOR\"] = 131] = \"QMK_RGBLIGHT_COLOR\";\n})(LightingValue = exports.LightingValue || (exports.LightingValue = {}));\nvar LightingTypeDefinition;\n(function (LightingTypeDefinition) {\n    LightingTypeDefinition[\"None\"] = \"none\";\n    LightingTypeDefinition[\"QMKLighting\"] = \"qmk_backlight\";\n    LightingTypeDefinition[\"QMKRGBLight\"] = \"qmk_rgblight\";\n    LightingTypeDefinition[\"QMKBacklightRGBLight\"] = \"qmk_backlight_rgblight\";\n    LightingTypeDefinition[\"WTRGBBacklight\"] = \"wt_rgb_backlight\";\n    LightingTypeDefinition[\"WTMonoBacklight\"] = \"wt_mono_backlight\";\n})(LightingTypeDefinition = exports.LightingTypeDefinition || (exports.LightingTypeDefinition = {}));\nvar KeycodeType;\n(function (KeycodeType) {\n    KeycodeType[\"QMK\"] = \"qmk\";\n    KeycodeType[\"WT\"] = \"wt\";\n    KeycodeType[\"None\"] = \"none\";\n})(KeycodeType = exports.KeycodeType || (exports.KeycodeType = {}));\nvar CustomFeatures;\n(function (CustomFeatures) {\n    CustomFeatures[\"RotaryEncoder\"] = \"rotary-encoder\";\n})(CustomFeatures = exports.CustomFeatures || (exports.CustomFeatures = {}));\nvar KeyColorType;\n(function (KeyColorType) {\n    KeyColorType[\"Alpha\"] = \"alpha\";\n    KeyColorType[\"Mod\"] = \"mod\";\n    KeyColorType[\"Accent\"] = \"accent\";\n})(KeyColorType = exports.KeyColorType || (exports.KeyColorType = {}));\n","module.exports = require(\"@webscopeio/react-textarea-autocomplete\");","module.exports = require(\"electron\");","module.exports = require(\"electron-log\");","module.exports = require(\"electron-store\");","module.exports = require(\"fs\");","module.exports = require(\"history\");","module.exports = require(\"json-stringify-pretty-compact\");","module.exports = require(\"lodash.partition\");","module.exports = require(\"node-hid\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"pelpi\");","module.exports = require(\"rc-slider\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-resize-observer-hook\");","module.exports = require(\"react-router\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-select\");","module.exports = require(\"react-tooltip\");","module.exports = require(\"redux\");","module.exports = require(\"redux-thunk\");","module.exports = require(\"reselect\");","module.exports = require(\"soundfont-player\");","module.exports = require(\"styled-components\");","module.exports = require(\"typesafe-actions\");","module.exports = require(\"usb-detection\");","module.exports = require(\"via-reader\");"],"sourceRoot":""}